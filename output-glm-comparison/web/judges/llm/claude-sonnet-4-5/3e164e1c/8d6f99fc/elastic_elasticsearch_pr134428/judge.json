{
  "repo_url": "https://github.com/elastic/elasticsearch.git",
  "pr_number": 134428,
  "base_commit": "1a9ff77ba7349cbca05ae0a11c66a337bfe2b24d",
  "head_commit": "5494b4ff604bed830f56a4b4ba4899a117345e12",
  "judge_mode": "llm",
  "judge_model": "claude-sonnet-4-5",
  "scores": {
    "correctness": 0.0,
    "completeness": 0.0,
    "code_reuse": 0.0,
    "best_practices": 0.0,
    "unsolicited_docs": 0.0
  },
  "aggregate": 0.0,
  "rationale": "The agent's diff is functionally identical to the ground truth diff. Both change line 755 in LogicalPlanBuilder.java from checking ENABLE_LOOKUP_JOIN_ON_REMOTE capability to ENABLE_FORK_FOR_REMOTE_INDICES capability. The only cosmetic difference is in the index hash (0ddf8a39a85 vs 0ddf8a39 and b9e3eef760c vs b9e3eef7), which is irrelevant to the actual code change. The modification correctly fixes the capability check for the FORK command with remote indices as requested. No extra files were added, no unsolicited documentation was included, and the change is minimal and targeted.",
  "edit_run_id": "8d6f99fc",
  "judge_run_id": "3e164e1c",
  "ground_truth_patch": "diff --git a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/parser/LogicalPlanBuilder.java b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/parser/LogicalPlanBuilder.java\nindex 0ddf8a39a85..b9e3eef760c 100644\n--- a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/parser/LogicalPlanBuilder.java\n+++ b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/parser/LogicalPlanBuilder.java\n@@ -752,7 +752,7 @@ public class LogicalPlanBuilder extends ExpressionBuilder {\n         }\n \n         return input -> {\n-            if (EsqlCapabilities.Cap.ENABLE_LOOKUP_JOIN_ON_REMOTE.isEnabled() == false) {\n+            if (EsqlCapabilities.Cap.ENABLE_FORK_FOR_REMOTE_INDICES.isEnabled() == false) {\n                 checkForRemoteClusters(input, source(ctx), \"FORK\");\n             }\n             List<LogicalPlan> subPlans = subQueries.stream().map(planFactory -> planFactory.apply(input)).toList();"
}