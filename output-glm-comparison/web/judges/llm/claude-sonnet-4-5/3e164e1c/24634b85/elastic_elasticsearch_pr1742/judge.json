{
  "repo_url": "https://github.com/elastic/elasticsearch.git",
  "pr_number": 1742,
  "base_commit": "43e45a111cd0405758a30a7cf666cf0466955346",
  "head_commit": "5c5a2f003dc1f278e08c5563d8dafa2e57225b1d",
  "judge_mode": "llm",
  "judge_model": "claude-sonnet-4-5",
  "scores": {
    "correctness": -0.5,
    "completeness": -0.3,
    "code_reuse": -0.4,
    "best_practices": -0.3,
    "unsolicited_docs": 1.0
  },
  "aggregate": -0.10000000000000005,
  "rationale": "The agent correctly identified the bug where light_swedish/lightSwedish returned SpanishLightStemFilter instead of the Swedish filter. However, the agent's fix uses `new SnowballFilter(tokenStream, new SwedishStemmer())` instead of the correct `new SwedishLightStemFilter(tokenStream)`. This is problematic because: (1) SwedishStemmer is likely the full stemmer, not the light variant, making the behavior semantically incorrect for a 'light_swedish' configuration; (2) The agent failed to add the required import statement for SwedishLightStemFilter at line 46; (3) Using SnowballFilter wrapper is less idiomatic when a dedicated LightStemFilter exists and matches the pattern used for all other light stem filters in the codebase. The ground truth shows the correct approach: import SwedishLightStemFilter and instantiate it directly, consistent with how light_spanish, light_russian, and other light filters are implemented. The agent's solution may work but provides the wrong stemming strength and misses a required code change (the import).",
  "edit_run_id": "24634b85",
  "judge_run_id": "3e164e1c",
  "ground_truth_patch": "diff --git a/src/main/java/org/elasticsearch/index/analysis/StemmerTokenFilterFactory.java b/src/main/java/org/elasticsearch/index/analysis/StemmerTokenFilterFactory.java\nindex ff75c80f827..577fad2267c 100644\n--- a/src/main/java/org/elasticsearch/index/analysis/StemmerTokenFilterFactory.java\n+++ b/src/main/java/org/elasticsearch/index/analysis/StemmerTokenFilterFactory.java\n@@ -43,6 +43,7 @@ import org.apache.lucene.analysis.pt.PortugueseMinimalStemFilter;\n import org.apache.lucene.analysis.pt.PortugueseStemFilter;\n import org.apache.lucene.analysis.ru.RussianLightStemFilter;\n import org.apache.lucene.analysis.snowball.SnowballFilter;\n+import org.apache.lucene.analysis.sv.SwedishLightStemFilter;\n import org.elasticsearch.common.Strings;\n import org.elasticsearch.common.inject.Inject;\n import org.elasticsearch.common.inject.assistedinject.Assisted;\n@@ -152,7 +153,7 @@ public class StemmerTokenFilterFactory extends AbstractTokenFilterFactory {\n         } else if (\"light_spanish\".equalsIgnoreCase(language) || \"lightSpanish\".equalsIgnoreCase(language)) {\n             return new SpanishLightStemFilter(tokenStream);\n         } else if (\"light_swedish\".equalsIgnoreCase(language) || \"lightSwedish\".equalsIgnoreCase(language)) {\n-            return new SpanishLightStemFilter(tokenStream);\n+            return new SwedishLightStemFilter(tokenStream);\n         } else if (\"greek\".equalsIgnoreCase(language)) {\n             return new GreekStemFilter(tokenStream);\n         }"
}