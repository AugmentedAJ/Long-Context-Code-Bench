{
  "repo_url": "https://github.com/elastic/elasticsearch.git",
  "pr_number": 134881,
  "base_commit": "ebc291e64630a11d26f51c7ed5385619ce81e3d9",
  "head_commit": "9d2b009034527014cfa2deb1befea3aa9cdea3a6",
  "judge_mode": "llm",
  "judge_model": "claude-sonnet-4-5",
  "scores": {
    "correctness": -1.0,
    "completeness": -1.0,
    "code_reuse": 0.0,
    "best_practices": 0.0,
    "unsolicited_docs": 1.0
  },
  "aggregate": -0.2,
  "rationale": "The agent changed `snapshot_only` to `snapshotOnly` across all JSON files in docs/reference/query-languages/esql/kibana/definition/functions/, operators/, and settings/, which appears comprehensive. However, the ground truth shows that the Java source file x-pack/plugin/esql/src/test/java/org/elasticsearch/xpack/esql/expression/function/DocsV3Support.java:1112 must also be modified to change the field name in the builder call from `builder.field(\"snapshot_only\", ...)` to `builder.field(\"snapshotOnly\", ...)`. The agent completely omitted this critical change to the Java code that generates these JSON files. This is a major correctness and completeness failure because the Java code will continue generating the old snake_case field name, making the agent's JSON changes inconsistent with the generator. The agent also modified hundreds of function JSON files beyond the single settings file shown in ground truth, which may be correct if those files also had the inconsistency, but without the Java fix, the problem will persist.",
  "edit_run_id": "7ad89f22",
  "judge_run_id": "3e164e1c",
  "ground_truth_patch": "diff --git a/docs/reference/query-languages/esql/kibana/definition/settings/project_routing.json b/docs/reference/query-languages/esql/kibana/definition/settings/project_routing.json\nindex 7971a20bf5d..9e075e755cd 100644\n--- a/docs/reference/query-languages/esql/kibana/definition/settings/project_routing.json\n+++ b/docs/reference/query-languages/esql/kibana/definition/settings/project_routing.json\n@@ -4,6 +4,6 @@\n   \"type\" : \"keyword\",\n   \"serverlessOnly\" : true,\n   \"preview\" : false,\n-  \"snapshot_only\" : true,\n+  \"snapshotOnly\" : true,\n   \"description\" : \"A project routing expression, used to define which projects to route the query to. Only supported if Cross-Project Search is enabled.\"\n }\ndiff --git a/x-pack/plugin/esql/src/test/java/org/elasticsearch/xpack/esql/expression/function/DocsV3Support.java b/x-pack/plugin/esql/src/test/java/org/elasticsearch/xpack/esql/expression/function/DocsV3Support.java\nindex 36ce3debffd..397ff46eb0f 100644\n--- a/x-pack/plugin/esql/src/test/java/org/elasticsearch/xpack/esql/expression/function/DocsV3Support.java\n+++ b/x-pack/plugin/esql/src/test/java/org/elasticsearch/xpack/esql/expression/function/DocsV3Support.java\n@@ -1109,7 +1109,7 @@ public abstract class DocsV3Support {\n                 builder.field(\"type\", setting.type().typeName());\n                 builder.field(\"serverlessOnly\", setting.serverlessOnly());\n                 builder.field(\"preview\", setting.preview());\n-                builder.field(\"snapshot_only\", setting.snapshotOnly());\n+                builder.field(\"snapshotOnly\", setting.snapshotOnly());\n                 builder.field(\"description\", setting.description());\n                 String rendered = Strings.toString(builder.endObject());\n                 logger.info(\"Writing kibana setting definition for [{}]:\\n{}\", name, rendered);"
}