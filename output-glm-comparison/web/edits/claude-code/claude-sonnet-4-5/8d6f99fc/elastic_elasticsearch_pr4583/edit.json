{
  "repo_url": "https://github.com/elastic/elasticsearch.git",
  "pr_number": 4583,
  "base_commit": "c12427d047b7cf9fd1ac9acc611bc2985ad12c40",
  "runner": "claude-code",
  "model": "claude-sonnet-4-5",
  "timeout_s": 1800,
  "status": "success",
  "elapsed_ms": 62006,
  "patch_unified": "diff --git a/src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java b/src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java\nindex 5dfeeba..7a3856e 100644\n--- a/src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java\n+++ b/src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java\n@@ -261,6 +261,9 @@ public class AllFieldMapper extends AbstractFieldMapper<Void> implements Interna\n \n         if (!includeDefaults && enabled == Defaults.ENABLED && fieldType.stored() == Defaults.FIELD_TYPE.stored() &&\n                 fieldType.storeTermVectors() == Defaults.FIELD_TYPE.storeTermVectors() &&\n+                fieldType.storeTermVectorOffsets() == Defaults.FIELD_TYPE.storeTermVectorOffsets() &&\n+                fieldType.storeTermVectorPositions() == Defaults.FIELD_TYPE.storeTermVectorPositions() &&\n+                fieldType.storeTermVectorPayloads() == Defaults.FIELD_TYPE.storeTermVectorPayloads() &&\n                 indexAnalyzer == null && searchAnalyzer == null && customFieldDataSettings == null\n                 && fieldType.omitNorms() == Defaults.FIELD_TYPE.omitNorms()) {\n             return builder;\n@@ -276,7 +279,7 @@ public class AllFieldMapper extends AbstractFieldMapper<Void> implements Interna\n             builder.field(\"store\", fieldType.stored());\n         }\n         if (includeDefaults || fieldType.storeTermVectors() != Defaults.FIELD_TYPE.storeTermVectors()) {\n-            builder.field(\"store_term_vector\", fieldType.storeTermVectors());\n+            builder.field(\"store_term_vectors\", fieldType.storeTermVectors());\n         }\n         if (includeDefaults || fieldType.storeTermVectorOffsets() != Defaults.FIELD_TYPE.storeTermVectorOffsets()) {\n             builder.field(\"store_term_vector_offsets\", fieldType.storeTermVectorOffsets());\n@@ -324,7 +327,7 @@ public class AllFieldMapper extends AbstractFieldMapper<Void> implements Interna\n         if (similarity() != null) {\n             builder.field(\"similarity\", similarity().name());\n         } else if (includeDefaults) {\n-            builder.field(\"similariry\", SimilarityLookupService.DEFAULT_SIMILARITY);\n+            builder.field(\"similarity\", SimilarityLookupService.DEFAULT_SIMILARITY);\n         }\n \n         if (customFieldDataSettings != null) {",
  "logs_path": "claude-code/claude-sonnet-4-5/8d6f99fc/elastic_elasticsearch_pr4583/logs.jsonl",
  "errors": [],
  "edit_run_id": "8d6f99fc",
  "test_label": "v1-rollouts-1-3-sonnet4.5"
}