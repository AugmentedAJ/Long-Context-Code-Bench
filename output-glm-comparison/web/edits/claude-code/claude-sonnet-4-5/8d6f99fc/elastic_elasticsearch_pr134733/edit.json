{
  "repo_url": "https://github.com/elastic/elasticsearch.git",
  "pr_number": 134733,
  "base_commit": "d662314b371d340e211d70e3b61cbe8b0bd42330",
  "runner": "claude-code",
  "model": "claude-sonnet-4-5",
  "timeout_s": 1800,
  "status": "success",
  "elapsed_ms": 123447,
  "patch_unified": "diff --git a/build-tools-internal/src/main/java/org/elasticsearch/gradle/internal/transport/TransportVersionDefinition.java b/build-tools-internal/src/main/java/org/elasticsearch/gradle/internal/transport/TransportVersionDefinition.java\nindex 65f4caeb..72453970 100644\n--- a/build-tools-internal/src/main/java/org/elasticsearch/gradle/internal/transport/TransportVersionDefinition.java\n+++ b/build-tools-internal/src/main/java/org/elasticsearch/gradle/internal/transport/TransportVersionDefinition.java\n@@ -20,8 +20,11 @@ record TransportVersionDefinition(String name, List<TransportVersionId> ids) {\n         String name = filename.substring(0, filename.length() - 4);\n         List<TransportVersionId> ids = new ArrayList<>();\n \n-        if (contents.isEmpty() == false) {\n-            for (String rawId : contents.split(\",\")) {\n+        // Strip comments (lines starting with #)\n+        String cleanedContents = stripComments(contents);\n+\n+        if (cleanedContents.isEmpty() == false) {\n+            for (String rawId : cleanedContents.split(\",\")) {\n                 try {\n                     ids.add(TransportVersionId.fromString(rawId));\n                 } catch (NumberFormatException e) {\n@@ -32,4 +35,18 @@ record TransportVersionDefinition(String name, List<TransportVersionId> ids) {\n \n         return new TransportVersionDefinition(name, ids);\n     }\n+\n+    private static String stripComments(String contents) {\n+        StringBuilder result = new StringBuilder();\n+        for (String line : contents.split(\"\\n\")) {\n+            String trimmed = line.trim();\n+            if (trimmed.isEmpty() == false && trimmed.startsWith(\"#\") == false) {\n+                if (result.length() > 0) {\n+                    result.append('\\n');\n+                }\n+                result.append(line);\n+            }\n+        }\n+        return result.toString();\n+    }\n }\ndiff --git a/build-tools-internal/src/main/java/org/elasticsearch/gradle/internal/transport/TransportVersionReference.java b/build-tools-internal/src/main/java/org/elasticsearch/gradle/internal/transport/TransportVersionReference.java\nindex eabdf837..f9be8daf 100644\n--- a/build-tools-internal/src/main/java/org/elasticsearch/gradle/internal/transport/TransportVersionReference.java\n+++ b/build-tools-internal/src/main/java/org/elasticsearch/gradle/internal/transport/TransportVersionReference.java\n@@ -32,6 +32,11 @@ record TransportVersionReference(String name, String location) {\n         assert file.toString().endsWith(\".csv\") : file + \" does not end in .csv\";\n         List<TransportVersionReference> results = new ArrayList<>();\n         for (String line : Files.readAllLines(file, StandardCharsets.UTF_8)) {\n+            // Skip empty lines and comments (lines starting with #)\n+            String trimmed = line.trim();\n+            if (trimmed.isEmpty() || trimmed.startsWith(\"#\")) {\n+                continue;\n+            }\n             String[] parts = line.split(\",\", 2);\n             if (parts.length != 2) {\n                 throw new IOException(\"Invalid transport version data file [\" + file + \"]: \" + line);\ndiff --git a/build-tools-internal/src/main/java/org/elasticsearch/gradle/internal/transport/TransportVersionUpperBound.java b/build-tools-internal/src/main/java/org/elasticsearch/gradle/internal/transport/TransportVersionUpperBound.java\nindex d3b91464..3cd90b42 100644\n--- a/build-tools-internal/src/main/java/org/elasticsearch/gradle/internal/transport/TransportVersionUpperBound.java\n+++ b/build-tools-internal/src/main/java/org/elasticsearch/gradle/internal/transport/TransportVersionUpperBound.java\n@@ -23,11 +23,28 @@ record TransportVersionUpperBound(String name, String definitionName, TransportV\n         int slashIndex = filename.lastIndexOf('/');\n         String branch = filename.substring(slashIndex == -1 ? 0 : (slashIndex + 1), filename.length() - 4);\n \n-        String[] parts = contents.split(\",\");\n+        // Strip comments (lines starting with #)\n+        String cleanedContents = stripComments(contents);\n+\n+        String[] parts = cleanedContents.split(\",\");\n         if (parts.length != 2) {\n             throw new IllegalStateException(\"Invalid transport version upper bound file [\" + file + \"]: \" + contents);\n         }\n \n         return new TransportVersionUpperBound(branch, parts[0], TransportVersionId.fromString(parts[1]));\n     }\n+\n+    private static String stripComments(String contents) {\n+        StringBuilder result = new StringBuilder();\n+        for (String line : contents.split(\"\\n\")) {\n+            String trimmed = line.trim();\n+            if (trimmed.isEmpty() == false && trimmed.startsWith(\"#\") == false) {\n+                if (result.length() > 0) {\n+                    result.append('\\n');\n+                }\n+                result.append(line);\n+            }\n+        }\n+        return result.toString();\n+    }\n }",
  "logs_path": "claude-code/claude-sonnet-4-5/8d6f99fc/elastic_elasticsearch_pr134733/logs.jsonl",
  "errors": [],
  "edit_run_id": "8d6f99fc",
  "test_label": "v1-rollouts-1-3-sonnet4.5"
}