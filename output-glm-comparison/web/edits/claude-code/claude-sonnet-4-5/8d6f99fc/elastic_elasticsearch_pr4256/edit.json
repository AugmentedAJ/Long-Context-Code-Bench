{
  "repo_url": "https://github.com/elastic/elasticsearch.git",
  "pr_number": 4256,
  "base_commit": "f1bf585089db2b3acb28edf619de4f387e69f923",
  "runner": "claude-code",
  "model": "claude-sonnet-4-5",
  "timeout_s": 1800,
  "status": "success",
  "elapsed_ms": 121423,
  "patch_unified": "diff --git a/docs/reference/setup/as-a-service.asciidoc b/docs/reference/setup/as-a-service.asciidoc\nindex d8a935b..f6206ac 100644\n--- a/docs/reference/setup/as-a-service.asciidoc\n+++ b/docs/reference/setup/as-a-service.asciidoc\n@@ -30,6 +30,29 @@ Each package features a configuration file, which allows you to set the followin\n \n The debian package ships with everything you need as it uses standard debian tools like update `update-rc.d` to define the runlevels it runs on. The init script is placed at `/etc/init.d/elasticsearch` is you would expect it. The configuration file is placed at `/etc/default/elasticsearch`.\n \n+NOTE: Elasticsearch does not start automatically after installation. You need to start it manually.\n+\n+To start Elasticsearch manually:\n+\n+[source,sh]\n+--------------------------------------------------\n+sudo service elasticsearch start\n+--------------------------------------------------\n+\n+To stop Elasticsearch:\n+\n+[source,sh]\n+--------------------------------------------------\n+sudo service elasticsearch stop\n+--------------------------------------------------\n+\n+To restart Elasticsearch:\n+\n+[source,sh]\n+--------------------------------------------------\n+sudo service elasticsearch restart\n+--------------------------------------------------\n+\n ===== Installing the oracle JDK\n \n The usual recommendation is to run the Oracle JDK with elasticsearch. However Ubuntu and Debian only ship the OpenJDK due to license issues. You can easily install the oracle installer package though. In case you are missing the `add-apt-repository` command under Debian GNU/Linux, make sure have at least Debian Wheezy and the package `python-software-properties` installed\n@@ -49,8 +72,54 @@ The last command should verify a successful installation of the Oracle JDK.\n \n RedHat based distributions are using `chkconfig` to enable and disable services. The init script is at `/etc/init.d/elasticsearch`, where as the configuration file is placed at `/etc/sysconfig/elasticsearch`.\n \n+NOTE: Elasticsearch does not start automatically after installation. You need to start it manually.\n+\n+To start Elasticsearch manually:\n+\n+[source,sh]\n+--------------------------------------------------\n+sudo service elasticsearch start\n+--------------------------------------------------\n+\n+To stop Elasticsearch:\n+\n+[source,sh]\n+--------------------------------------------------\n+sudo service elasticsearch stop\n+--------------------------------------------------\n+\n+To restart Elasticsearch:\n+\n+[source,sh]\n+--------------------------------------------------\n+sudo service elasticsearch restart\n+--------------------------------------------------\n+\n ==== SuSe\n \n SuSe does not use the `chkconfig` tool to register services, but rather `systemd` and its command `/bin/systemctl` to start and stop services. The configuration file is also placed at `/etc/sysconfig/elasticsearch`.\n \n+NOTE: Elasticsearch does not start automatically after installation. You need to start it manually.\n+\n+To start Elasticsearch manually:\n+\n+[source,sh]\n+--------------------------------------------------\n+sudo systemctl start elasticsearch.service\n+--------------------------------------------------\n+\n+To stop Elasticsearch:\n+\n+[source,sh]\n+--------------------------------------------------\n+sudo systemctl stop elasticsearch.service\n+--------------------------------------------------\n+\n+To restart Elasticsearch:\n+\n+[source,sh]\n+--------------------------------------------------\n+sudo systemctl restart elasticsearch.service\n+--------------------------------------------------\n+\n Also note that changing the `MAX_MAP_COUNT` setting in `/etc/sysconfig/elasticsearch` does not have any effect, you will have to change it in `/usr/lib/sysctl.d/elasticsearch.conf` in order to have it applied at startup.\ndiff --git a/src/deb/control/postinst b/src/deb/control/postinst\nindex 1e14e8a..be47715 100755\n--- a/src/deb/control/postinst\n+++ b/src/deb/control/postinst\n@@ -40,10 +40,9 @@ case \"$1\" in\n \t# if $2 is set, this is an upgrade\n \tif ( [ -n $2 ] && [ \"$RESTART_ON_UPGRADE\" = \"true\" ] ) ; then\n \t\tstartElasticsearch\n-\t# this is a fresh installation, start anyway\n-\telif [ -z $2 ] ; then\n-\t\tstartElasticsearch\n \tfi\n+\t# Note: Elasticsearch will not start automatically after installation.\n+\t# To start Elasticsearch manually, run: sudo service elasticsearch start\n \t;;\n esac\n \ndiff --git a/src/rpm/scripts/postinstall b/src/rpm/scripts/postinstall\nindex aefbea3..e016dff 100644\n--- a/src/rpm/scripts/postinstall\n+++ b/src/rpm/scripts/postinstall\n@@ -35,7 +35,10 @@ if [ $1 -eq 1 ] ; then\n         /sbin/chkconfig --add elasticsearch\n     fi\n \n-\tstartElasticsearch\n+    # Note: Elasticsearch will not start automatically after installation.\n+    # To start Elasticsearch manually, run:\n+    #   - systemd: sudo systemctl start elasticsearch.service\n+    #   - init.d:  sudo service elasticsearch start\n elif [ $1 -ge 2 -a \"$RESTART_ON_UPGRADE\" == \"true\" ] ; then\n \tstopElasticsearch\n \tstartElasticsearch",
  "logs_path": "claude-code/claude-sonnet-4-5/8d6f99fc/elastic_elasticsearch_pr4256/logs.jsonl",
  "errors": [],
  "edit_run_id": "8d6f99fc",
  "test_label": "v1-rollouts-1-3-sonnet4.5"
}