{
  "repo_url": "https://github.com/elastic/elasticsearch.git",
  "pr_number": 134871,
  "base_commit": "1923634bf7b0aa66d701b756aa3ded92370ffeb4",
  "runner": "claude-code",
  "model": "claude-sonnet-4-5",
  "timeout_s": 1800,
  "status": "success",
  "elapsed_ms": 217200,
  "patch_unified": "diff --git a/server/src/main/java/org/elasticsearch/rest/action/cat/RestTable.java b/server/src/main/java/org/elasticsearch/rest/action/cat/RestTable.java\nindex 68716a86..cdaba1f7 100644\n--- a/server/src/main/java/org/elasticsearch/rest/action/cat/RestTable.java\n+++ b/server/src/main/java/org/elasticsearch/rest/action/cat/RestTable.java\n@@ -14,7 +14,6 @@ import org.elasticsearch.common.Table;\n import org.elasticsearch.common.collect.Iterators;\n import org.elasticsearch.common.regex.Regex;\n import org.elasticsearch.common.unit.ByteSizeValue;\n-import org.elasticsearch.common.unit.SizeValue;\n import org.elasticsearch.common.util.set.Sets;\n import org.elasticsearch.core.Booleans;\n import org.elasticsearch.core.TimeValue;\n@@ -370,24 +369,6 @@ public class RestTable {\n                 return v.toString();\n             }\n         }\n-        if (value instanceof SizeValue v) {\n-            String resolution = request.param(\"size\");\n-            if (\"\".equals(resolution)) {\n-                return Long.toString(v.singles());\n-            } else if (\"k\".equals(resolution)) {\n-                return Long.toString(v.kilo());\n-            } else if (\"m\".equals(resolution)) {\n-                return Long.toString(v.mega());\n-            } else if (\"g\".equals(resolution)) {\n-                return Long.toString(v.giga());\n-            } else if (\"t\".equals(resolution)) {\n-                return Long.toString(v.tera());\n-            } else if (\"p\".equals(resolution)) {\n-                return Long.toString(v.peta());\n-            } else {\n-                return v.toString();\n-            }\n-        }\n         if (value instanceof TimeValue v) {\n             String resolution = request.param(\"time\");\n             if (\"nanos\".equals(resolution)) {\ndiff --git a/server/src/main/java/org/elasticsearch/threadpool/FixedExecutorBuilder.java b/server/src/main/java/org/elasticsearch/threadpool/FixedExecutorBuilder.java\nindex 9c723f24..634aee52 100644\n--- a/server/src/main/java/org/elasticsearch/threadpool/FixedExecutorBuilder.java\n+++ b/server/src/main/java/org/elasticsearch/threadpool/FixedExecutorBuilder.java\n@@ -11,7 +11,6 @@ package org.elasticsearch.threadpool;\n \n import org.elasticsearch.common.settings.Setting;\n import org.elasticsearch.common.settings.Settings;\n-import org.elasticsearch.common.unit.SizeValue;\n import org.elasticsearch.common.util.concurrent.EsExecutors;\n import org.elasticsearch.common.util.concurrent.EsExecutors.TaskTrackingConfig;\n import org.elasticsearch.common.util.concurrent.ThreadContext;\n@@ -160,7 +159,7 @@ public final class FixedExecutorBuilder extends ExecutorBuilder<FixedExecutorBui\n             size,\n             size,\n             null,\n-            queueSize < 0 ? null : new SizeValue(queueSize)\n+            queueSize < 0 ? null : Long.valueOf(queueSize)\n         );\n         return new ThreadPool.ExecutorHolder(executor, info);\n     }\ndiff --git a/server/src/main/java/org/elasticsearch/threadpool/ThreadPool.java b/server/src/main/java/org/elasticsearch/threadpool/ThreadPool.java\nindex 2a8c42c9..39b56544 100644\n--- a/server/src/main/java/org/elasticsearch/threadpool/ThreadPool.java\n+++ b/server/src/main/java/org/elasticsearch/threadpool/ThreadPool.java\n@@ -19,7 +19,6 @@ import org.elasticsearch.common.settings.Settings;\n import org.elasticsearch.common.time.TimeProvider;\n import org.elasticsearch.common.unit.ByteSizeUnit;\n import org.elasticsearch.common.unit.ByteSizeValue;\n-import org.elasticsearch.common.unit.SizeValue;\n import org.elasticsearch.common.util.concurrent.EsExecutors;\n import org.elasticsearch.common.util.concurrent.EsRejectedExecutionException;\n import org.elasticsearch.common.util.concurrent.EsRejectedExecutionHandler;\n@@ -934,7 +933,7 @@ public class ThreadPool implements ReportingService<ThreadPoolInfo>, Scheduler,\n         private final int min;\n         private final int max;\n         private final TimeValue keepAlive;\n-        private final SizeValue queueSize;\n+        private final Long queueSize;\n \n         public Info(String name, ThreadPoolType type) {\n             this(name, type, -1);\n@@ -944,7 +943,7 @@ public class ThreadPool implements ReportingService<ThreadPoolInfo>, Scheduler,\n             this(name, type, size, size, null, null);\n         }\n \n-        public Info(String name, ThreadPoolType type, int min, int max, @Nullable TimeValue keepAlive, @Nullable SizeValue queueSize) {\n+        public Info(String name, ThreadPoolType type, int min, int max, @Nullable TimeValue keepAlive, @Nullable Long queueSize) {\n             this.name = name;\n             this.type = type;\n             this.min = min;\n@@ -959,7 +958,7 @@ public class ThreadPool implements ReportingService<ThreadPoolInfo>, Scheduler,\n             min = in.readInt();\n             max = in.readInt();\n             keepAlive = in.readOptionalTimeValue();\n-            queueSize = in.readOptionalWriteable(SizeValue::new);\n+            queueSize = in.readOptionalLong();\n         }\n \n         @Override\n@@ -969,7 +968,7 @@ public class ThreadPool implements ReportingService<ThreadPoolInfo>, Scheduler,\n             out.writeInt(min);\n             out.writeInt(max);\n             out.writeOptionalTimeValue(keepAlive);\n-            out.writeOptionalWriteable(queueSize);\n+            out.writeOptionalLong(queueSize);\n         }\n \n         public String getName() {\n@@ -994,7 +993,7 @@ public class ThreadPool implements ReportingService<ThreadPoolInfo>, Scheduler,\n         }\n \n         @Nullable\n-        public SizeValue getQueueSize() {\n+        public Long getQueueSize() {\n             return this.queueSize;\n         }\n \n@@ -1018,7 +1017,7 @@ public class ThreadPool implements ReportingService<ThreadPoolInfo>, Scheduler,\n             if (queueSize == null) {\n                 builder.field(\"queue_size\", -1);\n             } else {\n-                builder.field(\"queue_size\", queueSize.singles());\n+                builder.field(\"queue_size\", queueSize);\n             }\n             builder.endObject();\n             return builder;\ndiff --git a/server/src/test/java/org/elasticsearch/threadpool/ThreadPoolSerializationTests.java b/server/src/test/java/org/elasticsearch/threadpool/ThreadPoolSerializationTests.java\nindex 29af0902..3e1a43ae 100644\n--- a/server/src/test/java/org/elasticsearch/threadpool/ThreadPoolSerializationTests.java\n+++ b/server/src/test/java/org/elasticsearch/threadpool/ThreadPoolSerializationTests.java\n@@ -13,7 +13,6 @@ import org.elasticsearch.common.bytes.BytesReference;\n import org.elasticsearch.common.io.stream.BytesStreamOutput;\n import org.elasticsearch.common.io.stream.StreamInput;\n import org.elasticsearch.common.settings.Settings;\n-import org.elasticsearch.common.unit.SizeValue;\n import org.elasticsearch.common.xcontent.XContentHelper;\n import org.elasticsearch.core.TimeValue;\n import org.elasticsearch.telemetry.metric.MeterRegistry;\n@@ -47,7 +46,7 @@ public class ThreadPoolSerializationTests extends ESTestCase {\n             1,\n             10,\n             TimeValue.timeValueMillis(3000),\n-            SizeValue.parseSizeValue(\"10k\")\n+            10000L\n         );\n         output.setTransportVersion(TransportVersion.current());\n         info.writeTo(output);\n@@ -55,7 +54,7 @@ public class ThreadPoolSerializationTests extends ESTestCase {\n         StreamInput input = output.bytes().streamInput();\n         ThreadPool.Info newInfo = new ThreadPool.Info(input);\n \n-        assertThat(newInfo.getQueueSize().singles(), is(10000L));\n+        assertThat(newInfo.getQueueSize(), is(10000L));\n     }\n \n     public void testThatNegativeQueueSizesCanBeSerialized() throws Exception {\n@@ -99,7 +98,7 @@ public class ThreadPoolSerializationTests extends ESTestCase {\n             1,\n             10,\n             TimeValue.timeValueMillis(3000),\n-            SizeValue.parseSizeValue(\"1k\")\n+            1000L\n         );\n         XContentBuilder builder = jsonBuilder();\n         builder.startObject();",
  "logs_path": "claude-code/claude-sonnet-4-5/8d6f99fc/elastic_elasticsearch_pr134871/logs.jsonl",
  "errors": [],
  "edit_run_id": "8d6f99fc",
  "test_label": "v1-rollouts-1-3-sonnet4.5"
}