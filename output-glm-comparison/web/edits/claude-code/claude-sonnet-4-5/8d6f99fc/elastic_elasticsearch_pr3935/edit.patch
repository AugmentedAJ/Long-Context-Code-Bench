diff --git a/src/main/java/org/elasticsearch/common/settings/ImmutableSettings.java b/src/main/java/org/elasticsearch/common/settings/ImmutableSettings.java
index 67769a6..2898190 100644
--- a/src/main/java/org/elasticsearch/common/settings/ImmutableSettings.java
+++ b/src/main/java/org/elasticsearch/common/settings/ImmutableSettings.java
@@ -363,8 +363,10 @@ public class ImmutableSettings implements Settings {
     @Override
     public String[] getAsArray(String settingPrefix, String[] defaultArray, Boolean commaDelimited) throws SettingsException {
         List<String> result = Lists.newArrayList();
+        boolean settingPresent = false;
 
         if (get(settingPrefix) != null) {
+            settingPresent = true;
             if (commaDelimited) {
                 String[] strings = Strings.splitStringByCommaToArray(get(settingPrefix));
                 if (strings.length > 0) {
@@ -383,9 +385,10 @@ public class ImmutableSettings implements Settings {
             if (value == null) {
                 break;
             }
+            settingPresent = true;
             result.add(value.trim());
         }
-        if (result.isEmpty()) {
+        if (result.isEmpty() && !settingPresent) {
             return defaultArray;
         }
         return result.toArray(new String[result.size()]);
diff --git a/src/test/java/org/elasticsearch/common/settings/ImmutableSettingsTests.java b/src/test/java/org/elasticsearch/common/settings/ImmutableSettingsTests.java
index 145b936..68a649d 100644
--- a/src/test/java/org/elasticsearch/common/settings/ImmutableSettingsTests.java
+++ b/src/test/java/org/elasticsearch/common/settings/ImmutableSettingsTests.java
@@ -120,4 +120,31 @@ public class ImmutableSettingsTests extends ElasticsearchTestCase{
                 .build();
         assertThat(settings.get("setting1"), is(nullValue()));
     }
+
+    @Test
+    public void testGetAsArrayWithEmptyString() {
+        // Test that an empty string returns an empty array (allows resetting)
+        Settings settings = settingsBuilder()
+                .put("array.empty", "")
+                .put("array.withvalues", "value1,value2")
+                .build();
+
+        // Empty string should return empty array, not default
+        String[] emptyResult = settings.getAsArray("array.empty", new String[]{"default"});
+        assertThat(emptyResult, notNullValue());
+        assertThat(emptyResult.length, equalTo(0));
+
+        // Values should return the values
+        String[] valuesResult = settings.getAsArray("array.withvalues", new String[]{"default"});
+        assertThat(valuesResult, notNullValue());
+        assertThat(valuesResult.length, equalTo(2));
+        assertThat(valuesResult[0], equalTo("value1"));
+        assertThat(valuesResult[1], equalTo("value2"));
+
+        // Non-existent key should return default
+        String[] defaultResult = settings.getAsArray("array.nonexistent", new String[]{"default"});
+        assertThat(defaultResult, notNullValue());
+        assertThat(defaultResult.length, equalTo(1));
+        assertThat(defaultResult[0], equalTo("default"));
+    }
 }