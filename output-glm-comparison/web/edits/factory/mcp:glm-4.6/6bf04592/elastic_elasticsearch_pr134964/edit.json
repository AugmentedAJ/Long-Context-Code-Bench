{
  "repo_url": "https://github.com/elastic/elasticsearch.git",
  "pr_number": 134964,
  "base_commit": "2ab71babbc961f70b434f7bd5f8cb935f283fc0e",
  "runner": "factory",
  "model": "mcp:glm-4.6",
  "timeout_s": 1800,
  "status": "success",
  "elapsed_ms": 574088,
  "patch_unified": "diff --git a/x-pack/plugin/esql/compute/src/main/java/org/elasticsearch/compute/operator/topn/DefaultUnsortableTopNEncoder.java b/x-pack/plugin/esql/compute/src/main/java/org/elasticsearch/compute/operator/topn/DefaultUnsortableTopNEncoder.java\nindex df1025f8..603af7f4 100644\n--- a/x-pack/plugin/esql/compute/src/main/java/org/elasticsearch/compute/operator/topn/DefaultUnsortableTopNEncoder.java\n+++ b/x-pack/plugin/esql/compute/src/main/java/org/elasticsearch/compute/operator/topn/DefaultUnsortableTopNEncoder.java\n@@ -143,7 +143,7 @@ public final class DefaultUnsortableTopNEncoder implements TopNEncoder {\n     public void encodeDouble(double value, BreakingBytesRefBuilder bytesRefBuilder) {\n         bytesRefBuilder.grow(bytesRefBuilder.length() + Double.BYTES);\n         DOUBLE.set(bytesRefBuilder.bytes(), bytesRefBuilder.length(), value);\n-        bytesRefBuilder.setLength(bytesRefBuilder.length() + Long.BYTES);\n+        bytesRefBuilder.setLength(bytesRefBuilder.length() + Double.BYTES);\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/esql/compute/src/main/java/org/elasticsearch/compute/operator/topn/SortableTopNEncoder.java b/x-pack/plugin/esql/compute/src/main/java/org/elasticsearch/compute/operator/topn/SortableTopNEncoder.java\nindex 6ba653c3..8a4f0bcb 100644\n--- a/x-pack/plugin/esql/compute/src/main/java/org/elasticsearch/compute/operator/topn/SortableTopNEncoder.java\n+++ b/x-pack/plugin/esql/compute/src/main/java/org/elasticsearch/compute/operator/topn/SortableTopNEncoder.java\n@@ -71,9 +71,9 @@ public abstract class SortableTopNEncoder implements TopNEncoder {\n \n     @Override\n     public final void encodeDouble(double value, BreakingBytesRefBuilder bytesRefBuilder) {\n-        bytesRefBuilder.grow(bytesRefBuilder.length() + Long.BYTES);\n+        bytesRefBuilder.grow(bytesRefBuilder.length() + Double.BYTES);\n         NumericUtils.longToSortableBytes(NumericUtils.doubleToSortableLong(value), bytesRefBuilder.bytes(), bytesRefBuilder.length());\n-        bytesRefBuilder.setLength(bytesRefBuilder.length() + Long.BYTES);\n+        bytesRefBuilder.setLength(bytesRefBuilder.length() + Double.BYTES);\n     }\n \n     @Override",
  "logs_path": "factory/mcp:glm-4.6/6bf04592/elastic_elasticsearch_pr134964/logs.jsonl",
  "errors": [],
  "edit_run_id": "6bf04592",
  "test_label": "v1-mcp"
}