{
  "repo_url": "https://github.com/elastic/elasticsearch.git",
  "pr_number": 3963,
  "base_commit": "7867de4f5bb7bed1641e6be8d58118d3bc0c5ce3",
  "runner": "factory",
  "model": "mcp:glm-4.6",
  "timeout_s": 1800,
  "status": "success",
  "elapsed_ms": 661224,
  "patch_unified": "diff --git a/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java b/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java\nindex 1cc7f37..9455dee 100644\n--- a/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java\n+++ b/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java\n@@ -25,7 +25,7 @@ import org.elasticsearch.ElasticSearchIllegalArgumentException;\n import org.elasticsearch.ElasticSearchParseException;\n import org.elasticsearch.action.ActionRequestValidationException;\n import org.elasticsearch.action.admin.indices.mapping.put.PutMappingRequest;\n-import org.elasticsearch.action.support.master.MasterNodeOperationRequest;\n+import org.elasticsearch.action.support.master.AbstractAcknowledgedRequest;\n import org.elasticsearch.cluster.metadata.IndexMetaData;\n import org.elasticsearch.common.bytes.BytesArray;\n import org.elasticsearch.common.bytes.BytesReference;\n@@ -59,7 +59,7 @@ import static org.elasticsearch.common.unit.TimeValue.readTimeValue;\n  * @see org.elasticsearch.client.Requests#createIndexRequest(String)\n  * @see CreateIndexResponse\n  */\n-public class CreateIndexRequest extends MasterNodeOperationRequest<CreateIndexRequest> {\n+public class CreateIndexRequest extends AbstractAcknowledgedRequest<CreateIndexRequest> {\n \n     private String cause = \"\";\n \n@@ -71,7 +71,7 @@ public class CreateIndexRequest extends MasterNodeOperationRequest<CreateIndexRe\n \n     private Map<String, IndexMetaData.Custom> customs = newHashMap();\n \n-    private TimeValue timeout = new TimeValue(10, TimeUnit.SECONDS);\n+    \n \n     CreateIndexRequest() {\n     }\n@@ -346,22 +346,7 @@ public class CreateIndexRequest extends MasterNodeOperationRequest<CreateIndexRe\n         return timeout;\n     }\n \n-    /**\n-     * Timeout to wait for the index creation to be acknowledged by current cluster nodes. Defaults\n-     * to <tt>10s</tt>.\n-     */\n-    public CreateIndexRequest timeout(TimeValue timeout) {\n-        this.timeout = timeout;\n-        return this;\n-    }\n-\n-    /**\n-     * Timeout to wait for the index creation to be acknowledged by current cluster nodes. Defaults\n-     * to <tt>10s</tt>.\n-     */\n-    public CreateIndexRequest timeout(String timeout) {\n-        return timeout(TimeValue.parseTimeValue(timeout, null));\n-    }\n+    \n \n     @Override\n     public void readFrom(StreamInput in) throws IOException {\n@@ -369,7 +354,6 @@ public class CreateIndexRequest extends MasterNodeOperationRequest<CreateIndexRe\n         cause = in.readString();\n         index = in.readString();\n         settings = readSettingsFromStream(in);\n-        timeout = readTimeValue(in);\n         int size = in.readVInt();\n         for (int i = 0; i < size; i++) {\n             mappings.put(in.readString(), in.readString());\n@@ -388,7 +372,6 @@ public class CreateIndexRequest extends MasterNodeOperationRequest<CreateIndexRe\n         out.writeString(cause);\n         out.writeString(index);\n         writeSettingsToStream(settings, out);\n-        timeout.writeTo(out);\n         out.writeVInt(mappings.size());\n         for (Map.Entry<String, String> entry : mappings.entrySet()) {\n             out.writeString(entry.getKey());\ndiff --git a/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexResponse.java b/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexResponse.java\nindex 7052861..2c21ce1 100644\n--- a/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexResponse.java\n+++ b/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexResponse.java\n@@ -19,43 +19,22 @@\n \n package org.elasticsearch.action.admin.indices.create;\n \n-import org.elasticsearch.action.ActionResponse;\n-import org.elasticsearch.common.io.stream.StreamInput;\n-import org.elasticsearch.common.io.stream.StreamOutput;\n-\n-import java.io.IOException;\n+import org.elasticsearch.action.support.master.AbstractAcknowledgedResponse;\n \n /**\n  * A response for a create index action.\n  */\n-public class CreateIndexResponse extends ActionResponse {\n-\n-    private boolean acknowledged;\n+public class CreateIndexResponse extends AbstractAcknowledgedResponse {\n \n     CreateIndexResponse() {\n     }\n \n     CreateIndexResponse(boolean acknowledged) {\n-        this.acknowledged = acknowledged;\n+        super(acknowledged);\n     }\n \n     /**\n      * Has the index creation been acknowledged by all current cluster nodes within the\n      * provided {@link CreateIndexRequest#timeout(org.elasticsearch.common.unit.TimeValue)}.\n      */\n-    public boolean isAcknowledged() {\n-        return acknowledged;\n-    }\n-\n-    @Override\n-    public void readFrom(StreamInput in) throws IOException {\n-        super.readFrom(in);\n-        acknowledged = in.readBoolean();\n-    }\n-\n-    @Override\n-    public void writeTo(StreamOutput out) throws IOException {\n-        super.writeTo(out);\n-        out.writeBoolean(acknowledged);\n-    }\n }\ndiff --git a/src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexResponse.java b/src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexResponse.java\nindex c1b9718..ea3df2e 100644\n--- a/src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexResponse.java\n+++ b/src/main/java/org/elasticsearch/action/admin/indices/delete/DeleteIndexResponse.java\n@@ -19,43 +19,22 @@\n \n package org.elasticsearch.action.admin.indices.delete;\n \n-import org.elasticsearch.action.ActionResponse;\n-import org.elasticsearch.common.io.stream.StreamInput;\n-import org.elasticsearch.common.io.stream.StreamOutput;\n-\n-import java.io.IOException;\n+import org.elasticsearch.action.support.master.AbstractAcknowledgedResponse;\n \n /**\n  * A response for a delete index action.\n  */\n-public class DeleteIndexResponse extends ActionResponse {\n-\n-    private boolean acknowledged;\n+public class DeleteIndexResponse extends AbstractAcknowledgedResponse {\n \n     DeleteIndexResponse() {\n     }\n \n     DeleteIndexResponse(boolean acknowledged) {\n-        this.acknowledged = acknowledged;\n+        super(acknowledged);\n     }\n \n     /**\n      * Has the index deletion been acknowledged by all current cluster nodes within the\n      * provided {@link DeleteIndexRequest#timeout(org.elasticsearch.common.unit.TimeValue)}.\n      */\n-    public boolean isAcknowledged() {\n-        return acknowledged;\n-    }\n-\n-    @Override\n-    public void readFrom(StreamInput in) throws IOException {\n-        super.readFrom(in);\n-        acknowledged = in.readBoolean();\n-    }\n-\n-    @Override\n-    public void writeTo(StreamOutput out) throws IOException {\n-        super.writeTo(out);\n-        out.writeBoolean(acknowledged);\n-    }\n }\ndiff --git a/src/main/java/org/elasticsearch/action/admin/indices/open/OpenIndexRequest.java b/src/main/java/org/elasticsearch/action/admin/indices/open/OpenIndexRequest.java\nindex dd9151b..de2f191 100644\n--- a/src/main/java/org/elasticsearch/action/admin/indices/open/OpenIndexRequest.java\n+++ b/src/main/java/org/elasticsearch/action/admin/indices/open/OpenIndexRequest.java\n@@ -21,7 +21,7 @@ package org.elasticsearch.action.admin.indices.open;\n \n import org.elasticsearch.action.ActionRequestValidationException;\n import org.elasticsearch.action.support.IgnoreIndices;\n-import org.elasticsearch.action.support.master.MasterNodeOperationRequest;\n+import org.elasticsearch.action.support.master.AbstractAcknowledgedRequest;\n import org.elasticsearch.common.io.stream.StreamInput;\n import org.elasticsearch.common.io.stream.StreamOutput;\n import org.elasticsearch.common.unit.TimeValue;\n@@ -35,10 +35,9 @@ import static org.elasticsearch.common.unit.TimeValue.timeValueSeconds;\n /**\n  * A request to open an index.\n  */\n-public class OpenIndexRequest extends MasterNodeOperationRequest<OpenIndexRequest> {\n+public class OpenIndexRequest extends AbstractAcknowledgedRequest<OpenIndexRequest> {\n \n     private String[] indices;\n-    private TimeValue timeout = timeValueSeconds(10);\n     private IgnoreIndices ignoreIndices = IgnoreIndices.DEFAULT;\n \n     OpenIndexRequest() {\n@@ -86,22 +85,7 @@ public class OpenIndexRequest extends MasterNodeOperationRequest<OpenIndexReques\n         return timeout;\n     }\n \n-    /**\n-     * Timeout to wait for the index opening to be acknowledged by current cluster nodes. Defaults\n-     * to <tt>10s</tt>.\n-     */\n-    public OpenIndexRequest timeout(TimeValue timeout) {\n-        this.timeout = timeout;\n-        return this;\n-    }\n-\n-    /**\n-     * Timeout to wait for the index opening to be acknowledged by current cluster nodes. Defaults\n-     * to <tt>10s</tt>.\n-     */\n-    public OpenIndexRequest timeout(String timeout) {\n-        return timeout(TimeValue.parseTimeValue(timeout, null));\n-    }\n+    \n \n     /**\n      * Specifies what type of requested indices to ignore. For example indices that don't exist.\n@@ -125,7 +109,6 @@ public class OpenIndexRequest extends MasterNodeOperationRequest<OpenIndexReques\n     public void readFrom(StreamInput in) throws IOException {\n         super.readFrom(in);\n         indices = in.readStringArray();\n-        timeout = readTimeValue(in);\n         ignoreIndices = IgnoreIndices.fromId(in.readByte());\n     }\n \n@@ -133,7 +116,6 @@ public class OpenIndexRequest extends MasterNodeOperationRequest<OpenIndexReques\n     public void writeTo(StreamOutput out) throws IOException {\n         super.writeTo(out);\n         out.writeStringArray(indices);\n-        timeout.writeTo(out);\n         out.writeByte(ignoreIndices.id());\n     }\n }\ndiff --git a/src/main/java/org/elasticsearch/action/admin/indices/open/OpenIndexResponse.java b/src/main/java/org/elasticsearch/action/admin/indices/open/OpenIndexResponse.java\nindex 097aa76..26c68d8 100644\n--- a/src/main/java/org/elasticsearch/action/admin/indices/open/OpenIndexResponse.java\n+++ b/src/main/java/org/elasticsearch/action/admin/indices/open/OpenIndexResponse.java\n@@ -19,39 +19,17 @@\n \n package org.elasticsearch.action.admin.indices.open;\n \n-import org.elasticsearch.action.ActionResponse;\n-import org.elasticsearch.common.io.stream.StreamInput;\n-import org.elasticsearch.common.io.stream.StreamOutput;\n-\n-import java.io.IOException;\n+import org.elasticsearch.action.support.master.AbstractAcknowledgedResponse;\n \n /**\n  * A response for a open index action.\n  */\n-public class OpenIndexResponse extends ActionResponse {\n-\n-    private boolean acknowledged;\n+public class OpenIndexResponse extends AbstractAcknowledgedResponse {\n \n     OpenIndexResponse() {\n     }\n \n     OpenIndexResponse(boolean acknowledged) {\n-        this.acknowledged = acknowledged;\n-    }\n-\n-    public boolean isAcknowledged() {\n-        return acknowledged;\n-    }\n-\n-    @Override\n-    public void readFrom(StreamInput in) throws IOException {\n-        super.readFrom(in);\n-        acknowledged = in.readBoolean();\n-    }\n-\n-    @Override\n-    public void writeTo(StreamOutput out) throws IOException {\n-        super.writeTo(out);\n-        out.writeBoolean(acknowledged);\n+        super(acknowledged);\n     }\n }\ndiff --git a/src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/DeleteWarmerRequest.java b/src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/DeleteWarmerRequest.java\nindex 83be17e..4ead1bf 100644\n--- a/src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/DeleteWarmerRequest.java\n+++ b/src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/DeleteWarmerRequest.java\n@@ -21,8 +21,7 @@ package org.elasticsearch.action.admin.indices.warmer.delete;\n \n import org.elasticsearch.Version;\n import org.elasticsearch.action.ActionRequestValidationException;\n-import org.elasticsearch.action.support.master.AcknowledgedRequest;\n-import org.elasticsearch.action.support.master.MasterNodeOperationRequest;\n+import org.elasticsearch.action.support.master.AbstractAcknowledgedRequest;\n import org.elasticsearch.common.Nullable;\n import org.elasticsearch.common.Strings;\n import org.elasticsearch.common.io.stream.StreamInput;\n@@ -32,20 +31,16 @@ import org.elasticsearch.common.unit.TimeValue;\n import java.io.IOException;\n \n import static org.elasticsearch.common.unit.TimeValue.readTimeValue;\n-import static org.elasticsearch.common.unit.TimeValue.timeValueSeconds;\n \n /**\n  * A request to delete an index warmer.\n  */\n-public class DeleteWarmerRequest extends MasterNodeOperationRequest<DeleteWarmerRequest>\n-        implements AcknowledgedRequest<DeleteWarmerRequest> {\n+public class DeleteWarmerRequest extends AbstractAcknowledgedRequest<DeleteWarmerRequest> {\n \n     private String name;\n \n     private String[] indices = Strings.EMPTY_ARRAY;\n \n-    private TimeValue timeout = timeValueSeconds(10);\n-\n     DeleteWarmerRequest() {\n     }\n \n@@ -96,31 +91,13 @@ public class DeleteWarmerRequest extends MasterNodeOperationRequest<DeleteWarmer\n         return indices;\n     }\n \n-    @Override\n-    public DeleteWarmerRequest timeout(String timeout) {\n-        this.timeout = TimeValue.parseTimeValue(timeout, this.timeout);\n-        return this;\n-    }\n-\n-    @Override\n-    public DeleteWarmerRequest timeout(TimeValue timeout) {\n-        this.timeout = timeout;\n-        return this;\n-    }\n-\n-    @Override\n-    public TimeValue timeout() {\n-        return timeout;\n-    }\n+    \n \n     @Override\n     public void readFrom(StreamInput in) throws IOException {\n         super.readFrom(in);\n         name = in.readOptionalString();\n         indices = in.readStringArray();\n-        if (in.getVersion().onOrAfter(Version.V_0_90_6)) {\n-            timeout = readTimeValue(in);\n-        }\n     }\n \n     @Override\n@@ -128,8 +105,5 @@ public class DeleteWarmerRequest extends MasterNodeOperationRequest<DeleteWarmer\n         super.writeTo(out);\n         out.writeOptionalString(name);\n         out.writeStringArrayNullable(indices);\n-        if (out.getVersion().onOrAfter(Version.V_0_90_6)) {\n-            timeout.writeTo(out);\n-        }\n     }\n }\ndiff --git a/src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/DeleteWarmerResponse.java b/src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/DeleteWarmerResponse.java\nindex 0d8b70e..b43056e 100644\n--- a/src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/DeleteWarmerResponse.java\n+++ b/src/main/java/org/elasticsearch/action/admin/indices/warmer/delete/DeleteWarmerResponse.java\n@@ -19,40 +19,17 @@\n \n package org.elasticsearch.action.admin.indices.warmer.delete;\n \n-import org.elasticsearch.action.ActionResponse;\n-import org.elasticsearch.action.support.master.AcknowledgedResponse;\n-import org.elasticsearch.common.io.stream.StreamInput;\n-import org.elasticsearch.common.io.stream.StreamOutput;\n-\n-import java.io.IOException;\n+import org.elasticsearch.action.support.master.AbstractAcknowledgedResponse;\n \n /**\n  * A response for a delete warmer.\n  */\n-public class DeleteWarmerResponse extends ActionResponse implements AcknowledgedResponse {\n-\n-    private boolean acknowledged;\n+public class DeleteWarmerResponse extends AbstractAcknowledgedResponse {\n \n     DeleteWarmerResponse() {\n     }\n \n     DeleteWarmerResponse(boolean acknowledged) {\n-        this.acknowledged = acknowledged;\n-    }\n-\n-    public boolean isAcknowledged() {\n-        return acknowledged;\n-    }\n-\n-    @Override\n-    public void readFrom(StreamInput in) throws IOException {\n-        super.readFrom(in);\n-        acknowledged = in.readBoolean();\n-    }\n-\n-    @Override\n-    public void writeTo(StreamOutput out) throws IOException {\n-        super.writeTo(out);\n-        out.writeBoolean(acknowledged);\n+        super(acknowledged);\n     }\n }\ndiff --git a/src/main/java/org/elasticsearch/action/admin/indices/warmer/put/PutWarmerRequest.java b/src/main/java/org/elasticsearch/action/admin/indices/warmer/put/PutWarmerRequest.java\nindex 5d5872f..2ffc258 100644\n--- a/src/main/java/org/elasticsearch/action/admin/indices/warmer/put/PutWarmerRequest.java\n+++ b/src/main/java/org/elasticsearch/action/admin/indices/warmer/put/PutWarmerRequest.java\n@@ -23,8 +23,7 @@ import org.elasticsearch.Version;\n import org.elasticsearch.action.ActionRequestValidationException;\n import org.elasticsearch.action.search.SearchRequest;\n import org.elasticsearch.action.search.SearchRequestBuilder;\n-import org.elasticsearch.action.support.master.AcknowledgedRequest;\n-import org.elasticsearch.action.support.master.MasterNodeOperationRequest;\n+import org.elasticsearch.action.support.master.AbstractAcknowledgedRequest;\n import org.elasticsearch.common.Nullable;\n import org.elasticsearch.common.io.stream.StreamInput;\n import org.elasticsearch.common.io.stream.StreamOutput;\n@@ -34,20 +33,16 @@ import java.io.IOException;\n \n import static org.elasticsearch.action.ValidateActions.addValidationError;\n import static org.elasticsearch.common.unit.TimeValue.readTimeValue;\n-import static org.elasticsearch.common.unit.TimeValue.timeValueSeconds;\n \n /**\n  * A request to put a search warmer.\n  */\n-public class PutWarmerRequest extends MasterNodeOperationRequest<PutWarmerRequest>\n-        implements AcknowledgedRequest<PutWarmerRequest> {\n+public class PutWarmerRequest extends AbstractAcknowledgedRequest<PutWarmerRequest> {\n \n     private String name;\n \n     private SearchRequest searchRequest;\n \n-    private TimeValue timeout = timeValueSeconds(10);\n-\n     PutWarmerRequest() {\n \n     }\n@@ -94,21 +89,7 @@ public class PutWarmerRequest extends MasterNodeOperationRequest<PutWarmerReques\n         return this.searchRequest;\n     }\n \n-    @Override\n-    public PutWarmerRequest timeout(String timeout) {\n-        return this;\n-    }\n-\n-    @Override\n-    public PutWarmerRequest timeout(TimeValue timeout) {\n-        this.timeout = timeout;\n-        return this;\n-    }\n-\n-    @Override\n-    public TimeValue timeout() {\n-        return timeout;\n-    }\n+    \n \n     @Override\n     public ActionRequestValidationException validate() {\n@@ -127,9 +108,6 @@ public class PutWarmerRequest extends MasterNodeOperationRequest<PutWarmerReques\n             searchRequest = new SearchRequest();\n             searchRequest.readFrom(in);\n         }\n-        if (in.getVersion().onOrAfter(Version.V_0_90_6)) {\n-            timeout = readTimeValue(in);\n-        }\n     }\n \n     @Override\n@@ -142,8 +120,5 @@ public class PutWarmerRequest extends MasterNodeOperationRequest<PutWarmerReques\n             out.writeBoolean(true);\n             searchRequest.writeTo(out);\n         }\n-        if (out.getVersion().onOrAfter(Version.V_0_90_6)) {\n-            timeout.writeTo(out);\n-        }\n     }\n }\ndiff --git a/src/main/java/org/elasticsearch/action/admin/indices/warmer/put/PutWarmerResponse.java b/src/main/java/org/elasticsearch/action/admin/indices/warmer/put/PutWarmerResponse.java\nindex c7daac7..c5bed77 100644\n--- a/src/main/java/org/elasticsearch/action/admin/indices/warmer/put/PutWarmerResponse.java\n+++ b/src/main/java/org/elasticsearch/action/admin/indices/warmer/put/PutWarmerResponse.java\n@@ -19,44 +19,22 @@\n \n package org.elasticsearch.action.admin.indices.warmer.put;\n \n-import org.elasticsearch.action.ActionResponse;\n-import org.elasticsearch.action.support.master.AcknowledgedResponse;\n-import org.elasticsearch.common.io.stream.StreamInput;\n-import org.elasticsearch.common.io.stream.StreamOutput;\n-\n-import java.io.IOException;\n+import org.elasticsearch.action.support.master.AbstractAcknowledgedResponse;\n \n /**\n  * The response of put warmer operation.\n  */\n-public class PutWarmerResponse extends ActionResponse implements AcknowledgedResponse {\n-\n-    private boolean acknowledged;\n+public class PutWarmerResponse extends AbstractAcknowledgedResponse {\n \n     PutWarmerResponse() {\n \n     }\n \n     PutWarmerResponse(boolean acknowledged) {\n-        this.acknowledged = acknowledged;\n+        super(acknowledged);\n     }\n \n     /**\n      * Has the put warmer been ack'ed.\n      */\n-    public boolean isAcknowledged() {\n-        return acknowledged;\n-    }\n-\n-    @Override\n-    public void readFrom(StreamInput in) throws IOException {\n-        super.readFrom(in);\n-        acknowledged = in.readBoolean();\n-    }\n-\n-    @Override\n-    public void writeTo(StreamOutput out) throws IOException {\n-        super.writeTo(out);\n-        out.writeBoolean(acknowledged);\n-    }\n }\n\\ No newline at end of file",
  "logs_path": "factory/mcp:glm-4.6/6bf04592/elastic_elasticsearch_pr3963/logs.jsonl",
  "errors": [],
  "edit_run_id": "6bf04592",
  "test_label": "v1-mcp"
}