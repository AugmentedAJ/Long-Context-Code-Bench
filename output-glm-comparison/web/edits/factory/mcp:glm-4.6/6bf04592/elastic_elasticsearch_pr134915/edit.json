{
  "repo_url": "https://github.com/elastic/elasticsearch.git",
  "pr_number": 134915,
  "base_commit": "dd4b8d96484bc1b0f86d7b006d79cac5916b3f45",
  "runner": "factory",
  "model": "mcp:glm-4.6",
  "timeout_s": 1800,
  "status": "success",
  "elapsed_ms": 1461275,
  "patch_unified": "diff --git a/x-pack/plugin/esql/qa/server/src/main/java/org/elasticsearch/xpack/esql/qa/rest/generative/GenerativeForkRestTest.java b/x-pack/plugin/esql/qa/server/src/main/java/org/elasticsearch/xpack/esql/qa/rest/generative/GenerativeForkRestTest.java\nindex 5b2ea9a5..129834a7 100644\n--- a/x-pack/plugin/esql/qa/server/src/main/java/org/elasticsearch/xpack/esql/qa/rest/generative/GenerativeForkRestTest.java\n+++ b/x-pack/plugin/esql/qa/server/src/main/java/org/elasticsearch/xpack/esql/qa/rest/generative/GenerativeForkRestTest.java\n@@ -55,6 +55,11 @@ public abstract class GenerativeForkRestTest extends EsqlSpecTestCase {\n             testCase.requiredCapabilities.contains(UNMAPPED_FIELDS.capabilityName())\n         );\n \n+        assumeFalse(\n+            \"Tests using INLINESTATS are not supported for now\",\n+            testCase.requiredCapabilities.contains(INLINESTATS_V11.capabilityName())\n+        );\n+\n         assumeTrue(\"Cluster needs to support FORK\", hasCapabilities(adminClient(), List.of(FORK_V9.capabilityName())));\n     }\n }\ndiff --git a/x-pack/plugin/esql/src/internalClusterTest/java/org/elasticsearch/xpack/esql/action/CrossClusterQueryUnavailableRemotesIT.java b/x-pack/plugin/esql/src/internalClusterTest/java/org/elasticsearch/xpack/esql/action/CrossClusterQueryUnavailableRemotesIT.java\nindex b92947fb..9f4f2559 100644\n--- a/x-pack/plugin/esql/src/internalClusterTest/java/org/elasticsearch/xpack/esql/action/CrossClusterQueryUnavailableRemotesIT.java\n+++ b/x-pack/plugin/esql/src/internalClusterTest/java/org/elasticsearch/xpack/esql/action/CrossClusterQueryUnavailableRemotesIT.java\n@@ -7,6 +7,7 @@\n \n package org.elasticsearch.xpack.esql.action;\n \n+import org.elasticsearch.Build;\n import org.elasticsearch.ExceptionsHelper;\n import org.elasticsearch.core.Tuple;\n import org.elasticsearch.xpack.esql.core.type.DataType;\n@@ -159,6 +160,7 @@ public class CrossClusterQueryUnavailableRemotesIT extends AbstractCrossClusterT\n     }\n \n     public void testCCSAgainstDisconnectedRemoteWithSkipUnavailableTrueInlinestats() throws Exception {\n+        assumeTrue(\"INLINESTATS only available on snapshots\", Build.current().isSnapshot());\n         int numClusters = 3;\n         Map<String, Object> testClusterInfo = setupClusters(numClusters);\n         int localNumShards = (Integer) testClusterInfo.get(\"local.num_shards\");\n@@ -276,6 +278,7 @@ public class CrossClusterQueryUnavailableRemotesIT extends AbstractCrossClusterT\n     }\n \n     public void testRemoteOnlyCCSAgainstDisconnectedRemoteWithSkipUnavailableTrue() throws Exception {\n+        assumeTrue(\"INLINESTATS only available on snapshots\", Build.current().isSnapshot());\n         int numClusters = 3;\n         setupClusters(numClusters);\n         setSkipUnavailable(REMOTE_CLUSTER_1, true);\n@@ -368,6 +371,7 @@ public class CrossClusterQueryUnavailableRemotesIT extends AbstractCrossClusterT\n     }\n \n     public void testCCSAgainstDisconnectedRemoteWithSkipUnavailableFalse() throws Exception {\n+        assumeTrue(\"INLINESTATS only available on snapshots\", Build.current().isSnapshot());\n         int numClusters = 2;\n         setupClusters(numClusters);\n         setSkipUnavailable(REMOTE_CLUSTER_1, false);\n@@ -391,6 +395,7 @@ public class CrossClusterQueryUnavailableRemotesIT extends AbstractCrossClusterT\n     }\n \n     public void testRemoteOnlyCCSAgainstDisconnectedRemoteWithSkipUnavailableFalse() throws Exception {\n+        assumeTrue(\"INLINESTATS only available on snapshots\", Build.current().isSnapshot());\n         int numClusters = 3;\n         setupClusters(numClusters);\n         setSkipUnavailable(REMOTE_CLUSTER_1, false);",
  "logs_path": "factory/mcp:glm-4.6/6bf04592/elastic_elasticsearch_pr134915/logs.jsonl",
  "errors": [],
  "edit_run_id": "6bf04592",
  "test_label": "v1-mcp"
}