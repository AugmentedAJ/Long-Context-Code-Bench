diff --git a/config/elasticsearch.yml b/config/elasticsearch.yml
index 5eeab76..550a234 100644
--- a/config/elasticsearch.yml
+++ b/config/elasticsearch.yml
@@ -290,6 +290,33 @@
 # indices.recovery.concurrent_streams: 5
 
 
+################################## Shard Allocation ###########################
+
+# Set the type of shard allocator to use. Available types are:
+# - balanced (default): Balances shards across nodes based on multiple weight factors
+# - even_shard_count: Ensures each node has approximately the same number of shards
+# - Fully qualified class name: Custom allocator implementation class name
+#
+# cluster.routing.allocation.allocator.type: balanced
+
+# The following settings apply to the balanced allocator:
+# The shard balance defines the weight factor for shards allocated on a node
+#
+# cluster.routing.allocation.balance.shard: 0.45
+#
+# The index balance defines a factor to the number of shards per index allocated on a specific node
+#
+# cluster.routing.allocation.balance.index: 0.5
+#
+# The primary balance defines a weight factor for the number of primaries of a specific index allocated on a node
+#
+# cluster.routing.allocation.balance.primary: 0.05
+#
+# A threshold to set the minimal optimization value of operations that should be performed
+#
+# cluster.routing.allocation.balance.threshold: 1.0
+
+
 ################################## Discovery ##################################
 
 # Discovery infrastructure ensures nodes can be found within a cluster
diff --git a/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/ShardsAllocatorModule.java b/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/ShardsAllocatorModule.java
index a3d8da2..b11c27e 100644
--- a/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/ShardsAllocatorModule.java
+++ b/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/ShardsAllocatorModule.java
@@ -19,6 +19,7 @@
 
 package org.elasticsearch.cluster.routing.allocation.allocator;
 
+import org.elasticsearch.ElasticSearchIllegalArgumentException;
 import org.elasticsearch.common.inject.AbstractModule;
 import org.elasticsearch.common.settings.Settings;
 import org.elasticsearch.gateway.none.NoneGatewayAllocator;
@@ -27,6 +28,8 @@ import org.elasticsearch.gateway.none.NoneGatewayAllocator;
  */
 public class ShardsAllocatorModule extends AbstractModule {
 
+    public static final String SETTING_ALLOCATOR_TYPE = "cluster.routing.allocation.allocator.type";
+    
     private Settings settings;
 
     private Class<? extends ShardsAllocator> shardsAllocator;
@@ -48,6 +51,31 @@ public class ShardsAllocatorModule extends AbstractModule {
     @Override
     protected void configure() {
         bind(GatewayAllocator.class).to(gatewayAllocator).asEagerSingleton();
-        bind(ShardsAllocator.class).to(shardsAllocator == null ? BalancedShardsAllocator.class : shardsAllocator).asEagerSingleton();
+        
+        // Determine which allocator to use based on settings or explicit configuration
+        Class<? extends ShardsAllocator> allocatorClass = shardsAllocator;
+        if (allocatorClass == null) {
+            String allocatorType = settings.get(SETTING_ALLOCATOR_TYPE, "balanced");
+            if ("balanced".equalsIgnoreCase(allocatorType)) {
+                allocatorClass = BalancedShardsAllocator.class;
+            } else if ("even_shard_count".equalsIgnoreCase(allocatorType)) {
+                allocatorClass = EvenShardsCountAllocator.class;
+            } else {
+                try {
+                    // Try to load the allocator class by fully qualified name
+                   Class<?> clazz = Class.forName(allocatorType);
+                    if (ShardsAllocator.class.isAssignableFrom(clazz)) {
+                        allocatorClass = (Class<? extends ShardsAllocator>) clazz;
+                    } else {
+                        throw new ElasticSearchIllegalArgumentException("Class " + allocatorType + " is not a ShardsAllocator");
+                    }
+                } catch (ClassNotFoundException e) {
+                    throw new ElasticSearchIllegalArgumentException("Unknown ShardsAllocator type: " + allocatorType + 
+                            ". Available types are: balanced, even_shard_count, or fully qualified class name", e);
+                }
+            }
+        }
+        
+        bind(ShardsAllocator.class).to(allocatorClass).asEagerSingleton();
     }
 }