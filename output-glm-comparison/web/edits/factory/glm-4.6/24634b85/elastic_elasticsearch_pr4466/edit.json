{
  "repo_url": "https://github.com/elastic/elasticsearch.git",
  "pr_number": 4466,
  "base_commit": "f4bf0d5112b5c6f29b651586d72c3972db5a2834",
  "runner": "factory",
  "model": "glm-4.6",
  "timeout_s": 1800,
  "status": "success",
  "elapsed_ms": 60505,
  "patch_unified": "diff --git a/src/main/java/org/elasticsearch/common/unit/ByteSizeValue.java b/src/main/java/org/elasticsearch/common/unit/ByteSizeValue.java\nindex 0c4e9b1..d220a40 100644\n--- a/src/main/java/org/elasticsearch/common/unit/ByteSizeValue.java\n+++ b/src/main/java/org/elasticsearch/common/unit/ByteSizeValue.java\n@@ -145,15 +145,15 @@ public class ByteSizeValue implements Serializable, Streamable {\n         try {\n             if (sValue.endsWith(\"k\") || sValue.endsWith(\"K\")) {\n                 bytes = (long) (Double.parseDouble(sValue.substring(0, sValue.length() - 1)) * ByteSizeUnit.C1);\n-            } else if (sValue.endsWith(\"kb\")) {\n+            } else if (sValue.toLowerCase().endsWith(\"kb\")) {\n                 bytes = (long) (Double.parseDouble(sValue.substring(0, sValue.length() - 2)) * ByteSizeUnit.C1);\n             } else if (sValue.endsWith(\"m\") || sValue.endsWith(\"M\")) {\n                 bytes = (long) (Double.parseDouble(sValue.substring(0, sValue.length() - 1)) * ByteSizeUnit.C2);\n-            } else if (sValue.endsWith(\"mb\")) {\n+            } else if (sValue.toLowerCase().endsWith(\"mb\")) {\n                 bytes = (long) (Double.parseDouble(sValue.substring(0, sValue.length() - 2)) * ByteSizeUnit.C2);\n             } else if (sValue.endsWith(\"g\") || sValue.endsWith(\"G\")) {\n                 bytes = (long) (Double.parseDouble(sValue.substring(0, sValue.length() - 1)) * ByteSizeUnit.C3);\n-            } else if (sValue.endsWith(\"gb\")) {\n+            } else if (sValue.toLowerCase().endsWith(\"gb\")) {\n                 bytes = (long) (Double.parseDouble(sValue.substring(0, sValue.length() - 2)) * ByteSizeUnit.C3);\n             } else if (sValue.endsWith(\"b\")) {\n                 bytes = Long.parseLong(sValue.substring(0, sValue.length() - 1));\ndiff --git a/src/test/java/org/elasticsearch/common/unit/ByteSizeValueTests.java b/src/test/java/org/elasticsearch/common/unit/ByteSizeValueTests.java\nindex 17d6437..5e5b7e5 100644\n--- a/src/test/java/org/elasticsearch/common/unit/ByteSizeValueTests.java\n+++ b/src/test/java/org/elasticsearch/common/unit/ByteSizeValueTests.java\n@@ -53,4 +53,25 @@ public class ByteSizeValueTests extends ElasticsearchTestCase {\n         assertThat(\"1.5gb\", is(new ByteSizeValue((long) (1024 * 1.5), ByteSizeUnit.MB).toString()));\n         assertThat(\"1536gb\", is(new ByteSizeValue((long) (1024 * 1.5), ByteSizeUnit.GB).toString()));\n     }\n+\n+    @Test\n+    public void testCaseInsensitiveParsing() {\n+        // Test lowercase two-letter suffixes\n+        assertThat(ByteSizeValue.parseBytesSizeValue(\"12gb\").bytes(), equalTo(12 * ByteSizeUnit.C3));\n+        assertThat(ByteSizeValue.parseBytesSizeValue(\"12mb\").bytes(), equalTo(12 * ByteSizeUnit.C2));\n+        assertThat(ByteSizeValue.parseBytesSizeValue(\"12kb\").bytes(), equalTo(12 * ByteSizeUnit.C1));\n+        \n+        // Test uppercase two-letter suffixes\n+        assertThat(ByteSizeValue.parseBytesSizeValue(\"12GB\").bytes(), equalTo(12 * ByteSizeUnit.C3));\n+        assertThat(ByteSizeValue.parseBytesSizeValue(\"12MB\").bytes(), equalTo(12 * ByteSizeUnit.C2));\n+        assertThat(ByteSizeValue.parseBytesSizeValue(\"12KB\").bytes(), equalTo(12 * ByteSizeUnit.C1));\n+        \n+        // Test mixed case two-letter suffixes\n+        assertThat(ByteSizeValue.parseBytesSizeValue(\"12Gb\").bytes(), equalTo(12 * ByteSizeUnit.C3));\n+        assertThat(ByteSizeValue.parseBytesSizeValue(\"12gB\").bytes(), equalTo(12 * ByteSizeUnit.C3));\n+        assertThat(ByteSizeValue.parseBytesSizeValue(\"12Mb\").bytes(), equalTo(12 * ByteSizeUnit.C2));\n+        assertThat(ByteSizeValue.parseBytesSizeValue(\"12mB\").bytes(), equalTo(12 * ByteSizeUnit.C2));\n+        assertThat(ByteSizeValue.parseBytesSizeValue(\"12Kb\").bytes(), equalTo(12 * ByteSizeUnit.C1));\n+        assertThat(ByteSizeValue.parseBytesSizeValue(\"12kB\").bytes(), equalTo(12 * ByteSizeUnit.C1));\n+    }\n }",
  "logs_path": "factory/glm-4.6/24634b85/elastic_elasticsearch_pr4466/logs.jsonl",
  "errors": [],
  "edit_run_id": "24634b85",
  "test_label": null
}