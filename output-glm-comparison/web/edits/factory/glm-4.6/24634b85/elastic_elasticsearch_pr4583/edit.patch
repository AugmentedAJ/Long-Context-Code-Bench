diff --git a/src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java b/src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
index 5dfeeba..25ceb72 100644
--- a/src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
+++ b/src/main/java/org/elasticsearch/index/mapper/internal/AllFieldMapper.java
@@ -259,10 +259,14 @@ public class AllFieldMapper extends AbstractFieldMapper<Void> implements Interna
         // if all are defaults, no need to write it at all
         boolean includeDefaults = params.paramAsBoolean("include_defaults", false);
 
-        if (!includeDefaults && enabled == Defaults.ENABLED && fieldType.stored() == Defaults.FIELD_TYPE.stored() &&
+        if (!includeDefaults && enabled == Defaults.ENABLED && autoBoost == false && fieldType.stored() == Defaults.FIELD_TYPE.stored() &&
                 fieldType.storeTermVectors() == Defaults.FIELD_TYPE.storeTermVectors() &&
-                indexAnalyzer == null && searchAnalyzer == null && customFieldDataSettings == null
-                && fieldType.omitNorms() == Defaults.FIELD_TYPE.omitNorms()) {
+                fieldType.storeTermVectorOffsets() == Defaults.FIELD_TYPE.storeTermVectorOffsets() &&
+                fieldType.storeTermVectorPositions() == Defaults.FIELD_TYPE.storeTermVectorPositions() &&
+                fieldType.storeTermVectorPayloads() == Defaults.FIELD_TYPE.storeTermVectorPayloads() &&
+                fieldType.omitNorms() == Defaults.FIELD_TYPE.omitNorms() &&
+                indexAnalyzer == null && searchAnalyzer == null && customFieldDataSettings == null &&
+                similarity() == null) {
             return builder;
         }
         builder.startObject(CONTENT_TYPE);
@@ -324,7 +328,7 @@ public class AllFieldMapper extends AbstractFieldMapper<Void> implements Interna
         if (similarity() != null) {
             builder.field("similarity", similarity().name());
         } else if (includeDefaults) {
-            builder.field("similariry", SimilarityLookupService.DEFAULT_SIMILARITY);
+            builder.field("similarity", SimilarityLookupService.DEFAULT_SIMILARITY);
         }
 
         if (customFieldDataSettings != null) {