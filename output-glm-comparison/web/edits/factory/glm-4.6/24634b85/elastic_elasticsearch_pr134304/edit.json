{
  "repo_url": "https://github.com/elastic/elasticsearch.git",
  "pr_number": 134304,
  "base_commit": "016ca188aa79c8e5cc0f453513376fe61115940a",
  "runner": "factory",
  "model": "glm-4.6",
  "timeout_s": 1800,
  "status": "success",
  "elapsed_ms": 121475,
  "patch_unified": "diff --git a/x-pack/plugin/esql/src/test/java/org/elasticsearch/xpack/esql/optimizer/rules/logical/local/IgnoreNullMetricsTests.java b/x-pack/plugin/esql/src/test/java/org/elasticsearch/xpack/esql/optimizer/rules/logical/local/IgnoreNullMetricsTests.java\nindex 5faa73b3..ebbe3350 100644\n--- a/x-pack/plugin/esql/src/test/java/org/elasticsearch/xpack/esql/optimizer/rules/logical/local/IgnoreNullMetricsTests.java\n+++ b/x-pack/plugin/esql/src/test/java/org/elasticsearch/xpack/esql/optimizer/rules/logical/local/IgnoreNullMetricsTests.java\n@@ -14,6 +14,7 @@ import org.elasticsearch.xpack.esql.analysis.Analyzer;\n import org.elasticsearch.xpack.esql.analysis.AnalyzerContext;\n import org.elasticsearch.xpack.esql.analysis.AnalyzerTestUtils;\n import org.elasticsearch.xpack.esql.analysis.EnrichResolution;\n+import org.elasticsearch.xpack.esql.action.EsqlCapabilities;\n import org.elasticsearch.xpack.esql.core.expression.FieldAttribute;\n import org.elasticsearch.xpack.esql.core.expression.FoldContext;\n import org.elasticsearch.xpack.esql.core.type.DataType;\n@@ -35,6 +36,7 @@ import org.elasticsearch.xpack.esql.plan.logical.Filter;\n import org.elasticsearch.xpack.esql.plan.logical.Limit;\n import org.elasticsearch.xpack.esql.plan.logical.LogicalPlan;\n import org.elasticsearch.xpack.esql.stats.SearchStats;\n+import org.junit.Before;\n import org.junit.BeforeClass;\n \n import java.util.Map;\n@@ -55,6 +57,11 @@ public class IgnoreNullMetricsTests extends ESTestCase {\n     private static EsqlParser parser;\n     private static LogicalPlanOptimizer logicalOptimizer;\n \n+    @Before\n+    public void checkMetricsCommandCapability() {\n+        assumeTrue(\"metrics command capability is required for these tests\", EsqlCapabilities.Cap.METRICS_COMMAND.isEnabled());\n+    }\n+\n     @BeforeClass\n     private static void init() {\n         parser = new EsqlParser();",
  "logs_path": "factory/glm-4.6/24634b85/elastic_elasticsearch_pr134304/logs.jsonl",
  "errors": [],
  "edit_run_id": "24634b85",
  "test_label": null
}