diff --git a/pom.xml b/pom.xml
index e70a6c8..ba97607 100644
--- a/pom.xml
+++ b/pom.xml
@@ -321,8 +321,8 @@
                 <artifactId>maven-compiler-plugin</artifactId>
                 <version>3.1</version>
                 <configuration>
-                    <source>1.6</source>
-                    <target>1.6</target>
+                    <source>1.8</source>
+                    <target>1.8</target>
                     <fork>true</fork>
                     <!-- REMOVE WHEN UPGRADE:
                          see https://jira.codehaus.org/browse/MCOMPILER-209 it's a bug where
diff --git a/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
index a394166..d5cea05 100644
--- a/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
+++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
@@ -467,8 +467,11 @@ public class MetaDataCreateIndexService extends AbstractComponent {
         List<IndexTemplateMetaData> templates = Lists.newArrayList();
         for (ObjectCursor<IndexTemplateMetaData> cursor : state.metaData().templates().values()) {
             IndexTemplateMetaData template = cursor.value;
-            if (Regex.simpleMatch(template.template(), request.index)) {
-                templates.add(template);
+            // Skip templates without a valid pattern (null, empty, or just whitespace)
+            if (template.template() != null && !template.template().trim().isEmpty()) {
+                if (Regex.simpleMatch(template.template(), request.index)) {
+                    templates.add(template);
+                }
             }
         }
 
@@ -483,8 +486,11 @@ public class MetaDataCreateIndexService extends AbstractComponent {
                         byte[] templatesData = Streams.copyToByteArray(templatesFile);
                         parser = XContentHelper.createParser(templatesData, 0, templatesData.length);
                         IndexTemplateMetaData template = IndexTemplateMetaData.Builder.fromXContent(parser);
-                        if (Regex.simpleMatch(template.template(), request.index)) {
-                            templates.add(template);
+                        // Skip templates without a valid pattern (null, empty, or just whitespace)
+                        if (template.template() != null && !template.template().trim().isEmpty()) {
+                            if (Regex.simpleMatch(template.template(), request.index)) {
+                                templates.add(template);
+                            }
                         }
                     } catch (Exception e) {
                         logger.warn("[{}] failed to read template [{}] from config", e, request.index, templatesFile.getAbsolutePath());
diff --git a/src/test/java/org/elasticsearch/indices/template/IndexTemplateFileLoadingTests.java b/src/test/java/org/elasticsearch/indices/template/IndexTemplateFileLoadingTests.java
index 606d78d..e85b9f1 100644
--- a/src/test/java/org/elasticsearch/indices/template/IndexTemplateFileLoadingTests.java
+++ b/src/test/java/org/elasticsearch/indices/template/IndexTemplateFileLoadingTests.java
@@ -59,6 +59,27 @@ public class IndexTemplateFileLoadingTests extends ElasticsearchIntegrationTest
             File dst = new File(templatesDir, "template.json");
             String template = Streams.copyToStringFromClasspath("/org/elasticsearch/indices/template/template.json");
             Files.write(template, dst, Charsets.UTF_8);
+            
+            // Add a template without the template field (should be ignored)
+            File dst2 = new File(templatesDir, "bad_template.json");
+            String badTemplate = "{\n" +
+                "    \"settings\" : {\n" +
+                "        \"index.number_of_shards\": 3,\n" +
+                "        \"index.number_of_replicas\": 1\n" +
+                "   }\n" +
+                "}";
+            Files.write(badTemplate, dst2, Charsets.UTF_8);
+            
+            // Add a template with empty template field (should be ignored)
+            File dst3 = new File(templatesDir, "empty_template.json");
+            String emptyTemplate = "{\n" +
+                "    \"template\" : \"\",\n" +
+                "    \"settings\" : {\n" +
+                "        \"index.number_of_shards\": 4,\n" +
+                "        \"index.number_of_replicas\": 0\n" +
+                "   }\n" +
+                "}";
+            Files.write(emptyTemplate, dst3, Charsets.UTF_8);
         } catch (Exception e) {
             throw new RuntimeException(e);
         }
@@ -75,4 +96,16 @@ public class IndexTemplateFileLoadingTests extends ElasticsearchIntegrationTest
         assertThat(stateResponse.getState().getMetaData().indices().get("foobar").getNumberOfShards(), is(10));
         assertThat(stateResponse.getState().getMetaData().indices().get("foobar").getNumberOfReplicas(), is(0));
     }
+    
+    @Test
+    public void testThatInvalidTemplatesAreIgnored() throws Exception {
+        // Create an index that should NOT match invalid templates (bad_template.json and empty_template.json)
+        createIndex("testindex");
+        ensureYellow();
+
+        ClusterStateResponse stateResponse = client().admin().cluster().prepareState().setFilterIndices("testindex").get();
+        // Should use default settings since invalid templates are ignored
+        assertThat(stateResponse.getState().getMetaData().indices().get("testindex").getNumberOfShards(), is(5));
+        assertThat(stateResponse.getState().getMetaData().indices().get("testindex").getNumberOfReplicas(), is(1));
+    }
 }