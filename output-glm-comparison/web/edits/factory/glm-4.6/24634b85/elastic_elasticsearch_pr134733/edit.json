{
  "repo_url": "https://github.com/elastic/elasticsearch.git",
  "pr_number": 134733,
  "base_commit": "d662314b371d340e211d70e3b61cbe8b0bd42330",
  "runner": "factory",
  "model": "glm-4.6",
  "timeout_s": 1800,
  "status": "success",
  "elapsed_ms": 168584,
  "patch_unified": "diff --git a/build-tools-internal/src/main/java/org/elasticsearch/gradle/internal/transport/TransportVersionDefinition.java b/build-tools-internal/src/main/java/org/elasticsearch/gradle/internal/transport/TransportVersionDefinition.java\nindex 65f4caeb..b84bc96e 100644\n--- a/build-tools-internal/src/main/java/org/elasticsearch/gradle/internal/transport/TransportVersionDefinition.java\n+++ b/build-tools-internal/src/main/java/org/elasticsearch/gradle/internal/transport/TransportVersionDefinition.java\n@@ -21,9 +21,15 @@ record TransportVersionDefinition(String name, List<TransportVersionId> ids) {\n         List<TransportVersionId> ids = new ArrayList<>();\n \n         if (contents.isEmpty() == false) {\n+            contents = contents.replaceAll(\"(?m)^#.*$\", \"\");  // Remove comment lines starting with #\n+            contents = contents.replaceAll(\"\\\\n+\", \",\");     // Convert newlines to commas\n+            contents = contents.replaceAll(\",+\", \",\");       // Remove duplicate commas from removed comment lines\n+            contents = contents.replaceAll(\"^,|,$\", \"\");     // Remove leading/trailing commas\n+            \n             for (String rawId : contents.split(\",\")) {\n+                if (rawId.trim().isEmpty()) continue;  // Skip empty tokens from comment removal\n                 try {\n-                    ids.add(TransportVersionId.fromString(rawId));\n+                    ids.add(TransportVersionId.fromString(rawId.trim()));\n                 } catch (NumberFormatException e) {\n                     throw new IllegalStateException(\"Failed to parse id \" + rawId + \" in \" + file, e);\n                 }\ndiff --git a/build-tools-internal/src/main/java/org/elasticsearch/gradle/internal/transport/TransportVersionReference.java b/build-tools-internal/src/main/java/org/elasticsearch/gradle/internal/transport/TransportVersionReference.java\nindex eabdf837..91513195 100644\n--- a/build-tools-internal/src/main/java/org/elasticsearch/gradle/internal/transport/TransportVersionReference.java\n+++ b/build-tools-internal/src/main/java/org/elasticsearch/gradle/internal/transport/TransportVersionReference.java\n@@ -32,11 +32,16 @@ record TransportVersionReference(String name, String location) {\n         assert file.toString().endsWith(\".csv\") : file + \" does not end in .csv\";\n         List<TransportVersionReference> results = new ArrayList<>();\n         for (String line : Files.readAllLines(file, StandardCharsets.UTF_8)) {\n+            line = line.trim();\n+            // Skip comment lines starting with # and empty lines\n+            if (line.isEmpty() || line.startsWith(\"#\")) {\n+                continue;\n+            }\n             String[] parts = line.split(\",\", 2);\n             if (parts.length != 2) {\n                 throw new IOException(\"Invalid transport version data file [\" + file + \"]: \" + line);\n             }\n-            results.add(new TransportVersionReference(parts[0], parts[1]));\n+            results.add(new TransportVersionReference(parts[0].trim(), parts[1].trim()));\n         }\n         return results;\n     }\ndiff --git a/build-tools-internal/src/main/java/org/elasticsearch/gradle/internal/transport/TransportVersionUpperBound.java b/build-tools-internal/src/main/java/org/elasticsearch/gradle/internal/transport/TransportVersionUpperBound.java\nindex d3b91464..b5e14709 100644\n--- a/build-tools-internal/src/main/java/org/elasticsearch/gradle/internal/transport/TransportVersionUpperBound.java\n+++ b/build-tools-internal/src/main/java/org/elasticsearch/gradle/internal/transport/TransportVersionUpperBound.java\n@@ -23,11 +23,14 @@ record TransportVersionUpperBound(String name, String definitionName, TransportV\n         int slashIndex = filename.lastIndexOf('/');\n         String branch = filename.substring(slashIndex == -1 ? 0 : (slashIndex + 1), filename.length() - 4);\n \n+        contents = contents.replaceAll(\"(?m)^#.*$\", \"\");  // Remove comment lines starting with #\n+        contents = contents.trim();  // Remove leading/trailing whitespace\n+        \n         String[] parts = contents.split(\",\");\n         if (parts.length != 2) {\n             throw new IllegalStateException(\"Invalid transport version upper bound file [\" + file + \"]: \" + contents);\n         }\n \n-        return new TransportVersionUpperBound(branch, parts[0], TransportVersionId.fromString(parts[1]));\n+        return new TransportVersionUpperBound(branch, parts[0].trim(), TransportVersionId.fromString(parts[1].trim()));\n     }\n }",
  "logs_path": "factory/glm-4.6/24634b85/elastic_elasticsearch_pr134733/logs.jsonl",
  "errors": [],
  "edit_run_id": "24634b85",
  "test_label": null
}