diff --git a/pom.xml b/pom.xml
index dec5334..12b0e05 100644
--- a/pom.xml
+++ b/pom.xml
@@ -59,6 +59,25 @@
             <version>${lucene.version}</version>
             <scope>test</scope>
         </dependency>
+        <!-- Test framework dependencies for test-jar -->
+        <dependency>
+            <groupId>org.hamcrest</groupId>
+            <artifactId>hamcrest-all</artifactId>
+            <version>1.3</version>
+            <scope>provided</scope>
+        </dependency>
+        <dependency>
+            <groupId>org.apache.lucene</groupId>
+            <artifactId>lucene-test-framework</artifactId>
+            <version>${lucene.version}</version>
+            <scope>provided</scope>
+        </dependency>
+        <dependency>
+            <groupId>com.carrotsearch.randomizedtesting</groupId>
+            <artifactId>junit4-maven-plugin</artifactId>
+            <version>2.0.12</version>
+            <scope>provided</scope>
+        </dependency>
         <dependency>
             <groupId>org.apache.lucene</groupId>
             <artifactId>lucene-core</artifactId>
@@ -314,8 +333,8 @@
                 <artifactId>maven-compiler-plugin</artifactId>
                 <version>2.3.2</version>
                 <configuration>
-                    <source>1.6</source>
-                    <target>1.6</target>
+                    <source>1.8</source>
+                    <target>1.8</target>
                 </configuration>
             </plugin>
             <plugin>
@@ -410,6 +429,67 @@
                     <skipTests>true</skipTests>
                 </configuration>
             </plugin>
+            <plugin>
+                <groupId>org.apache.maven.plugins</groupId>
+                <artifactId>maven-javadoc-plugin</artifactId>
+                <version>2.9</version>
+                <executions>
+                    <execution>
+                        <id>attach-javadocs</id>
+                        <goals>
+                            <goal>jar</goal>
+                        </goals>
+                    </execution>
+                    <execution>
+                        <id>attach-test-javadocs</id>
+                        <goals>
+                            <goal>test-jar</goal>
+                        </goals>
+                        <configuration>
+                            <testIncludes>
+                                <include>org/elasticsearch/test/**</include>
+                            </testIncludes>
+                            <testExcludes>
+                                <exclude>**/*Tests.java</exclude>
+                                <exclude>**/*Test.java</exclude>
+                            </testExcludes>
+                        </configuration>
+                    </execution>
+                </executions>
+            </plugin>
+            <plugin>
+                <groupId>org.apache.maven.plugins</groupId>
+                <artifactId>maven-jar-plugin</artifactId>
+                <version>2.4</version>
+                <executions>
+                    <execution>
+                        <id>create-test-jar</id>
+                        <phase>package</phase>
+                        <goals>
+                            <goal>test-jar</goal>
+                        </goals>
+                        <configuration>
+                            <includes>
+                                <include>org/elasticsearch/test/**</include>
+                                <include>org/elasticsearch/test/engine/**</include>
+                                <include>org/elasticsearch/test/store/**</include>
+                                <include>org/elasticsearch/test/transport/**</include>
+                                <include>org/elasticsearch/test/junit/**</include>
+                                <include>org/elasticsearch/test/hamcrest/**</include>
+                                <include>org/apache/lucene/util/AbstractRandomizedTest.class</include>
+                                <include>org/apache/lucene/util/LuceneTestCase.class</include>
+                                <include>org/apache/lucene/util/LuceneTestCase*.class</include>
+                            </includes>
+                            <excludes>
+                                <exclude>org/elasticsearch/**/*Tests.class</exclude>
+                                <exclude>org/elasticsearch/**/*Test.class</exclude>
+                                <exclude>org/apache/lucene/**/*Tests.class</exclude>
+                                <exclude>org/apache/lucene/**/*Test.class</exclude>
+                            </excludes>
+                        </configuration>
+                    </execution>
+                </executions>
+            </plugin>
             <plugin>
                 <groupId>org.apache.maven.plugins</groupId>
                 <artifactId>maven-source-plugin</artifactId>
@@ -421,6 +501,12 @@
                             <goal>jar</goal>
                         </goals>
                     </execution>
+                    <execution>
+                        <id>attach-test-sources</id>
+                        <goals>
+                            <goal>test-jar</goal>
+                        </goals>
+                    </execution>
                 </executions>
             </plugin>
             <plugin>