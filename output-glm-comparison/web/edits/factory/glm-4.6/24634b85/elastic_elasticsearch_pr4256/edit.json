{
  "repo_url": "https://github.com/elastic/elasticsearch.git",
  "pr_number": 4256,
  "base_commit": "f1bf585089db2b3acb28edf619de4f387e69f923",
  "runner": "factory",
  "model": "glm-4.6",
  "timeout_s": 1800,
  "status": "success",
  "elapsed_ms": 49287,
  "patch_unified": "diff --git a/docs/reference/setup/as-a-service-win.asciidoc b/docs/reference/setup/as-a-service-win.asciidoc\nindex e786741..e1a5953 100644\n--- a/docs/reference/setup/as-a-service-win.asciidoc\n+++ b/docs/reference/setup/as-a-service-win.asciidoc\n@@ -1,11 +1,22 @@\n [[setup-service-win]]\n == Running as a Service on Windows\n \n-Windows users can configure Elasticsearch to run as a service to run in the background or start automatically \n-at startup without any user interaction.\n+Windows users can configure Elasticsearch to run as a service to run in the background without any user interaction.\n This can be achieved through `service.bat` script under `bin/` folder which allows one to install,\n remove, manage or configure the service and potentially start and stop the service, all from the command-line.\n \n+[NOTE]\n+====\n+After installing the Elasticsearch service, it is NOT started automatically. You need to start it manually using:\n+\n+* To start the service: `service.bat start` (or `sc start elasticsearch-service-x64` for the 64-bit service)\n+* To stop the service: `service.bat stop` (or `sc stop elasticsearch-service-x64` for the 64-bit service)\n+\n+To configure the service to start automatically on Windows startup, use:\n+* Via service manager: `service.bat manager` and set the startup type to \"Automatic\"\n+* Via command line: `sc config elasticsearch-service-x64 start= auto`\n+====\n+\n [source,sh]\n --------------------------------------------------\n c:\\elasticsearch-0.90.5\\bin>service\ndiff --git a/docs/reference/setup/as-a-service.asciidoc b/docs/reference/setup/as-a-service.asciidoc\nindex d8a935b..95b9cbf 100644\n--- a/docs/reference/setup/as-a-service.asciidoc\n+++ b/docs/reference/setup/as-a-service.asciidoc\n@@ -7,6 +7,18 @@ In order to run elasticsearch as a service on your operating system, the provide\n \n Currently our build automatically creates a debian package and an RPM package, which is available on the download page. The package itself does not have any dependencies, but you have to make sure that you installed a JDK.\n \n+[NOTE]\n+====\n+After installation, Elasticsearch is NOT started automatically. You need to start it manually using the appropriate command for your system:\n+\n+* For systems using systemd: `sudo systemctl start elasticsearch.service`\n+* For systems using SysV init: `sudo service elasticsearch start` or `sudo /etc/init.d/elasticsearch start`\n+\n+To enable Elasticsearch to start automatically on system boot, use:\n+* For systemd: `sudo systemctl enable elasticsearch.service`\n+* For SysV init with chkconfig: `sudo chkconfig elasticsearch on`\n+====\n+\n Each package features a configuration file, which allows you to set the following parameters\n \n [horizontal]\ndiff --git a/src/deb/control/postinst b/src/deb/control/postinst\nindex 1e14e8a..29adfac 100755\n--- a/src/deb/control/postinst\n+++ b/src/deb/control/postinst\n@@ -40,9 +40,15 @@ case \"$1\" in\n \t# if $2 is set, this is an upgrade\n \tif ( [ -n $2 ] && [ \"$RESTART_ON_UPGRADE\" = \"true\" ] ) ; then\n \t\tstartElasticsearch\n-\t# this is a fresh installation, start anyway\n+\t# this is a fresh installation, do NOT start automatically\n \telif [ -z $2 ] ; then\n-\t\tstartElasticsearch\n+\t\t# Note: Elasticsearch is NOT started automatically after installation.\n+\t\t# To start Elasticsearch manually, use one of these commands:\n+\t\t#   service elasticsearch start              (for systems with service command)\n+\t\t#   /etc/init.d/elasticsearch start          (fallback)\n+\t\t#   invoke-rc.d elasticsearch start          (alternative)\n+\t\techo \"Elasticsearch has been installed but NOT started automatically.\"\n+\t\techo \"To start Elasticsearch, run: sudo service elasticsearch start\"\n \tfi\n \t;;\n esac\ndiff --git a/src/rpm/scripts/postinstall b/src/rpm/scripts/postinstall\nindex aefbea3..4d941fa 100644\n--- a/src/rpm/scripts/postinstall\n+++ b/src/rpm/scripts/postinstall\n@@ -35,7 +35,11 @@ if [ $1 -eq 1 ] ; then\n         /sbin/chkconfig --add elasticsearch\n     fi\n \n-\tstartElasticsearch\n+\t# Note: Elasticsearch is NOT started automatically after installation.\n+\t# To start Elasticsearch manually, use one of these commands:\n+\t#   systemctl start elasticsearch.service    (for systems with systemd)\n+\t#   service elasticsearch start              (for systems with sysv init)\n+\t#   /etc/init.d/elasticsearch start          (fallback)\n elif [ $1 -ge 2 -a \"$RESTART_ON_UPGRADE\" == \"true\" ] ; then\n \tstopElasticsearch\n \tstartElasticsearch",
  "logs_path": "factory/glm-4.6/24634b85/elastic_elasticsearch_pr4256/logs.jsonl",
  "errors": [],
  "edit_run_id": "24634b85",
  "test_label": null
}