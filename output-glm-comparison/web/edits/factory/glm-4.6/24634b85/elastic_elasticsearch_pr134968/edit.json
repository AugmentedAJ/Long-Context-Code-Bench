{
  "repo_url": "https://github.com/elastic/elasticsearch.git",
  "pr_number": 134968,
  "base_commit": "2ab71babbc961f70b434f7bd5f8cb935f283fc0e",
  "runner": "factory",
  "model": "glm-4.6",
  "timeout_s": 1800,
  "status": "success",
  "elapsed_ms": 101695,
  "patch_unified": "diff --git a/.github/workflows/updatecli-compose.yml b/.github/workflows/updatecli-compose.yml\nindex 433dffe8..221da19c 100644\n--- a/.github/workflows/updatecli-compose.yml\n+++ b/.github/workflows/updatecli-compose.yml\n@@ -26,14 +26,67 @@ jobs:\n           username: ${{ github.actor }}\n           password: ${{ secrets.GITHUB_TOKEN }}\n \n-      - uses: elastic/oblt-actions/updatecli/run@v1\n-        with:\n-          command: --experimental compose diff\n+      - name: Install updatecli\n+        run: |\n+          # Install updatecli locally to check what changes would be made\n+          curl -sSL https://github.com/updatecli/updatecli/releases/latest/download/updatecli_Linux_x86_64.tar.gz | tar -xz\n+          sudo mv updatecli /usr/local/bin/\n+          updatecli version\n+\n+      - name: Check for transport changes only\n+        id: check-transport-changes\n+        run: |\n+          # Run updatecli diff to see what would change\n+          updatecli --experimental compose diff > /tmp/updatecli-diff.log 2>&1 || true\n+          \n+          # Check if there are any transport-related changes\n+          if [ -s \"/tmp/updatecli-diff.log\" ]; then\n+            # Extract changed files from updatecli output\n+            CHANGED_FILES=$(grep -E \"^\\+\\+\\+|^\\-\\-\\-\" /tmp/updatecli-diff.log | cut -c4- | sort | uniq)\n+            \n+            echo \"Changed files detected:\"\n+            echo \"$CHANGED_FILES\"\n+            \n+            # Check if any of the changed files are transport-related\n+            TRANSPORT_CHANGES=false\n+            for file in $CHANGED_FILES; do\n+              if [[ \"$file\" == *\"src/main/resources/transport/\"* ]] || \\\n+                 [[ \"$file\" == *\"transport/\"* ]] || \\\n+                 [[ \"$file\" == *\"TransportVersion\"* ]]; then\n+                echo \"Transport-related change detected: $file\"\n+                TRANSPORT_CHANGES=true\n+              fi\n+            done\n+            \n+            if [ \"$TRANSPORT_CHANGES\" = true ]; then\n+              echo \"has_transport_changes=true\" >> $GITHUB_OUTPUT\n+              echo \"Found transport-related changes, will proceed with auto-commit\"\n+            else\n+              echo \"has_transport_changes=false\" >> $GITHUB_OUTPUT\n+              echo \"No transport-related changes found, skipping auto-commit\"\n+            fi\n+          else\n+            echo \"has_transport_changes=false\" >> $GITHUB_OUTPUT\n+            echo \"No changes detected by updatecli\"\n+          fi\n         env:\n           GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n \n-      - uses: elastic/oblt-actions/updatecli/run@v1\n+      - name: Apply updatecli changes (transport only)\n+        if: steps.check-transport-changes.outputs.has_transport_changes == 'true'\n+        uses: elastic/oblt-actions/updatecli/run@v1\n         with:\n           command: --experimental compose apply\n         env:\n           GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n+\n+      - name: Show summary when no transport changes\n+        if: steps.check-transport-changes.outputs.has_transport_changes == 'false'\n+        run: |\n+          echo \"## Summary\"\n+          echo \"Updatecli detected changes but none were transport-related.\"\n+          echo \"Skipping auto-commit to avoid non-transport changes.\"\n+          echo \"\"\n+          echo \"Only files in \\`src/main/resources/transport/\\` are considered transport changes.\"\n+        env:\n+          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}",
  "logs_path": "factory/glm-4.6/24634b85/elastic_elasticsearch_pr134968/logs.jsonl",
  "errors": [],
  "edit_run_id": "24634b85",
  "test_label": null
}