{
  "repo_url": "https://github.com/elastic/elasticsearch.git",
  "pr_number": 4448,
  "base_commit": "c30945a3d84c7e6aa516f123a140d344f5cec42e",
  "runner": "factory",
  "model": "glm-4.6",
  "timeout_s": 1800,
  "status": "success",
  "elapsed_ms": 126112,
  "patch_unified": "diff --git a/bin/elasticsearch b/bin/elasticsearch\nindex 753aa8e..41a09bc 100755\n--- a/bin/elasticsearch\n+++ b/bin/elasticsearch\n@@ -151,45 +151,96 @@ launch_service()\n }\n \n # Parse any command line options.\n-args=`getopt vdhp:D:X: \"$@\"`\n-eval set -- \"$args\"\n-\n-while true; do\n-    case $1 in\n-        -v)\n-            \"$JAVA\" $JAVA_OPTS $ES_JAVA_OPTS $es_parms -Des.path.home=\"$ES_HOME\" -cp \"$ES_CLASSPATH\" $props \\\n-                    org.elasticsearch.Version\n-            exit 0\n-        ;;\n-        -p)\n-            pidfile=\"$2\"\n-            shift 2\n-        ;;\n-        -d)\n-            daemonized=\"yes\"\n-            shift\n-        ;;\n-        -h)\n-            echo \"Usage: $0 [-d] [-h] [-p pidfile]\"\n-            exit 0\n-        ;;\n-        -D)\n-            properties=\"$properties -D$2\"\n-            shift 2\n-        ;;\n-        -X)\n-            properties=\"$properties -X$2\"\n-            shift 2\n-        ;;\n-        --)\n-            shift\n-            break\n-        ;;\n-        *)\n-            echo \"Error parsing argument $1!\" >&2\n+# First, separate -D style options from -- style options\n+dash_d_args=\"\"\n+dash_dash_args=\"\"\n+remaining_args=\"\"\n+\n+for arg in \"$@\"; do\n+    if [[ \"$arg\" =~ ^-D ]]; then\n+        dash_d_args=\"$dash_d_args $arg\"\n+    elif [[ \"$arg\" =~ ^-- ]]; then\n+        dash_dash_args=\"$dash_dash_args $arg\"\n+    else\n+        remaining_args=\"$remaining_args $arg\"\n+    fi\n+done\n+\n+# Parse the known options with getopt\n+if [ -n \"$remaining_args\" ] || [ -n \"$dash_d_args\" ]; then\n+    # Extract -D arguments for getopt processing\n+    d_args=\"\"\n+    for arg in $dash_d_args; do\n+        if [[ \"$arg\" =~ ^-D.+= ]]; then\n+            d_args=\"$d_args -D${arg#-D}\"\n+        fi\n+    done\n+    \n+    if [ -n \"$d_args\" ] || [ -n \"$remaining_args\" ]; then\n+        args=`getopt vdhp:D:X: $remaining_args $d_args 2>/dev/null`\n+        if [ $? != 0 ]; then\n+            echo \"Error parsing command line arguments\" >&2\n             exit 1\n-        ;;\n-    esac\n+        fi\n+        eval set -- \"$args\"\n+        \n+        while true; do\n+            case $1 in\n+                -v)\n+                    \"$JAVA\" $JAVA_OPTS $ES_JAVA_OPTS $es_parms -Des.path.home=\"$ES_HOME\" -cp \"$ES_CLASSPATH\" $props \\\n+                            org.elasticsearch.Version\n+                    exit 0\n+                ;;\n+                -p)\n+                    pidfile=\"$2\"\n+                    shift 2\n+                ;;\n+                -d)\n+                    daemonized=\"yes\"\n+                    shift\n+                ;;\n+                -h)\n+                    echo \"Usage: $0 [-d] [-h] [-p pidfile] [-Dproperty=value] [--property.name=value]\"\n+                    echo \"  -d                    Daemonize, start in the background\"\n+                    echo \"  -h                    Show this help message\"\n+                    echo \"  -p pidfile            Log the pid to a file\"\n+                    echo \"  -Dproperty=value      Set Java system property\"\n+                    echo \"  --property.name=value Set Elasticsearch property (converted to -Des.property.name=value)\"\n+                    exit 0\n+                ;;\n+                -D)\n+                    properties=\"$properties -D$2\"\n+                    shift 2\n+                ;;\n+                -X)\n+                    properties=\"$properties -X$2\"\n+                    shift 2\n+                ;;\n+                --)\n+                    shift\n+                    break\n+                ;;\n+                *)\n+                    echo \"Error parsing argument $1!\" >&2\n+                    exit 1\n+                ;;\n+            esac\n+        done\n+    fi\n+fi\n+\n+# Process --style arguments\n+for arg in $dash_dash_args; do\n+    if [[ \"$arg\" =~ ^--([^.]+)(\\..+)?=.+$ ]]; then\n+        # This is a --property.name=value style argument\n+        # Convert it to -Des.property.name=value\n+        property=\"${arg#--}\"\n+        properties=\"$properties -Des.$property\"\n+    elif [[ \"$arg\" =~ ^--.+$ ]]; then\n+        # This is a -- argument without a value (invalid format)\n+        echo \"Error: Long-style arguments must be in the format --property.name=value. Got: $arg\" >&2\n+        exit 1\n+    fi\n done\n \n # Start up the service",
  "logs_path": "factory/glm-4.6/24634b85/elastic_elasticsearch_pr4448/logs.jsonl",
  "errors": [],
  "edit_run_id": "24634b85",
  "test_label": null
}