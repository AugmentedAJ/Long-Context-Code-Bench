diff --git a/x-pack/plugin/analytics/src/main/java/org/elasticsearch/xpack/analytics/rate/TimeSeriesRateAggregator.java b/x-pack/plugin/analytics/src/main/java/org/elasticsearch/xpack/analytics/rate/TimeSeriesRateAggregator.java
index f153a397..23304bbe 100644
--- a/x-pack/plugin/analytics/src/main/java/org/elasticsearch/xpack/analytics/rate/TimeSeriesRateAggregator.java
+++ b/x-pack/plugin/analytics/src/main/java/org/elasticsearch/xpack/analytics/rate/TimeSeriesRateAggregator.java
@@ -111,7 +111,10 @@ public final class TimeSeriesRateAggregator extends NumericMetricsAggregator.Sin
         return new LeafBucketCollectorBase(sub, null) {
             @Override
             public void collect(int doc, long bucket) throws IOException {
-                leafValues.advanceExact(doc);   // TODO handle missing values
+                if (leafValues.advanceExact(doc) == false) {
+                    // Skip documents that don't have values for this field
+                    return;
+                }
                 double latestValue = leafValues.doubleValue();
 
                 if (bucket != currentBucket) {