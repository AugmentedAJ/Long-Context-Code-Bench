diff --git a/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
index a394166..0ced1d0 100644
--- a/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
+++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
@@ -25,6 +25,7 @@ import com.google.common.base.Charsets;
 import com.google.common.collect.Lists;
 import com.google.common.collect.Maps;
 import com.google.common.collect.Sets;
+import com.google.common.collect.MapBuilder;
 import org.apache.lucene.util.CollectionUtil;
 import org.apache.lucene.util.IOUtils;
 import org.elasticsearch.ElasticSearchException;
@@ -48,6 +49,7 @@ import org.elasticsearch.common.io.Streams;
 import org.elasticsearch.common.regex.Regex;
 import org.elasticsearch.common.settings.ImmutableSettings;
 import org.elasticsearch.common.settings.Settings;
+import org.elasticsearch.common.settings.loader.SettingsLoader;
 import org.elasticsearch.common.unit.TimeValue;
 import org.elasticsearch.common.xcontent.XContentFactory;
 import org.elasticsearch.common.xcontent.XContentHelper;
@@ -480,9 +482,86 @@ public class MetaDataCreateIndexService extends AbstractComponent {
                 for (File templatesFile : templatesFiles) {
                     XContentParser parser = null;
                     try {
+                        // Derive template name from filename (without extension)
+                        String templateName = templatesFile.getName();
+                        int lastDotIndex = templateName.lastIndexOf('.');
+                        if (lastDotIndex != -1) {
+                            templateName = templateName.substring(0, lastDotIndex);
+                        }
+                        
                         byte[] templatesData = Streams.copyToByteArray(templatesFile);
                         parser = XContentHelper.createParser(templatesData, 0, templatesData.length);
-                        IndexTemplateMetaData template = IndexTemplateMetaData.Builder.fromXContent(parser);
+                        
+                        // Parse the template content directly (0.90.7 format)
+                        // The template file contains the template content directly, not wrapped in a named object
+                        IndexTemplateMetaData.Builder templateBuilder = IndexTemplateMetaData.builder(templateName);
+                        
+                        String currentFieldName = null;
+                        XContentParser.Token token = parser.nextToken();
+                        if (token != XContentParser.Token.START_OBJECT) {
+                            throw new IOException("template file should start with an object");
+                        }
+                        
+                        while ((token = parser.nextToken()) != XContentParser.Token.END_OBJECT) {
+                            if (token == XContentParser.Token.FIELD_NAME) {
+                                currentFieldName = parser.currentName();
+                            } else if (token == XContentParser.Token.START_OBJECT) {
+                                if ("settings".equals(currentFieldName)) {
+                                    ImmutableSettings.Builder templateSettingsBuilder = ImmutableSettings.settingsBuilder();
+                                    Map<String, String> settingsMap = SettingsLoader.Helper.loadNestedFromMap(parser.mapOrdered());
+                                    for (Map.Entry<String, String> entry : settingsMap.entrySet()) {
+                                        if (!entry.getKey().startsWith("index.")) {
+                                            templateSettingsBuilder.put("index." + entry.getKey(), entry.getValue());
+                                        } else {
+                                            templateSettingsBuilder.put(entry.getKey(), entry.getValue());
+                                        }
+                                    }
+                                    templateBuilder.settings(templateSettingsBuilder.build());
+                                } else if ("mappings".equals(currentFieldName)) {
+                                    while ((token = parser.nextToken()) != XContentParser.Token.END_OBJECT) {
+                                        if (token == XContentParser.Token.FIELD_NAME) {
+                                            currentFieldName = parser.currentName();
+                                        } else if (token == XContentParser.Token.START_OBJECT) {
+                                            String mappingType = currentFieldName;
+                                            Map<String, Object> mappingSource = MapBuilder.<String, Object>newMapBuilder().put(mappingType, parser.mapOrdered()).map();
+                                            templateBuilder.putMapping(mappingType, XContentFactory.jsonBuilder().map(mappingSource).string());
+                                        }
+                                    }
+                                } else {
+                                    // check if its a custom index metadata
+                                    IndexMetaData.Custom.Factory<IndexMetaData.Custom> factory = IndexMetaData.lookupFactory(currentFieldName);
+                                    if (factory == null) {
+                                        //TODO warn
+                                        parser.skipChildren();
+                                    } else {
+                                        templateBuilder.putCustom(factory.type(), factory.fromXContent(parser));
+                                    }
+                                }
+                            } else if (token == XContentParser.Token.START_ARRAY) {
+                                if ("mappings".equals(currentFieldName)) {
+                                    while ((token = parser.nextToken()) != XContentParser.Token.END_ARRAY) {
+                                        Map<String, Object> mapping = parser.mapOrdered();
+                                        if (mapping.size() == 1) {
+                                            String mappingType = mapping.keySet().iterator().next();
+                                            String mappingSource = XContentFactory.jsonBuilder().map(mapping).string();
+                                            if (mappingSource == null) {
+                                                // crap, no mapping source, warn?
+                                            } else {
+                                                templateBuilder.putMapping(mappingType, mappingSource);
+                                            }
+                                        }
+                                    }
+                                }
+                            } else if (token.isValue()) {
+                                if ("template".equals(currentFieldName)) {
+                                    templateBuilder.template(parser.text());
+                                } else if ("order".equals(currentFieldName)) {
+                                    templateBuilder.order(parser.intValue());
+                                }
+                            }
+                        }
+                        
+                        IndexTemplateMetaData template = templateBuilder.build();
                         if (Regex.simpleMatch(template.template(), request.index)) {
                             templates.add(template);
                         }