{
  "repo_url": "https://github.com/elastic/elasticsearch.git",
  "pr_number": 4462,
  "base_commit": "1ede9a5730e7b1a76c37d2623999740352e10fec",
  "runner": "factory",
  "model": "glm-4.6",
  "timeout_s": 1800,
  "status": "success",
  "elapsed_ms": 105434,
  "patch_unified": "diff --git a/src/main/java/org/elasticsearch/action/admin/indices/alias/get/GetAliasesRequest.java b/src/main/java/org/elasticsearch/action/admin/indices/alias/get/GetAliasesRequest.java\nindex 157df71..2265c37 100644\n--- a/src/main/java/org/elasticsearch/action/admin/indices/alias/get/GetAliasesRequest.java\n+++ b/src/main/java/org/elasticsearch/action/admin/indices/alias/get/GetAliasesRequest.java\n@@ -78,11 +78,8 @@ public class GetAliasesRequest extends MasterNodeOperationRequest<GetAliasesRequ\n \n     @Override\n     public ActionRequestValidationException validate() {\n-        if (aliases.length == 0) {\n-            return addValidationError(\"No alias specified\", null);\n-        } else {\n-            return null;\n-        }\n+        // Allow empty aliases array to retrieve all aliases\n+        return null;\n     }\n \n     @Override\ndiff --git a/src/main/java/org/elasticsearch/action/admin/indices/alias/get/TransportGetAliasesAction.java b/src/main/java/org/elasticsearch/action/admin/indices/alias/get/TransportGetAliasesAction.java\nindex 64d1e7d..057744e 100644\n--- a/src/main/java/org/elasticsearch/action/admin/indices/alias/get/TransportGetAliasesAction.java\n+++ b/src/main/java/org/elasticsearch/action/admin/indices/alias/get/TransportGetAliasesAction.java\n@@ -18,6 +18,7 @@\n \n package org.elasticsearch.action.admin.indices.alias.get;\n \n+import com.carrotsearch.hppc.cursors.ObjectCursor;\n import org.elasticsearch.ElasticSearchException;\n import org.elasticsearch.action.ActionListener;\n import org.elasticsearch.action.support.master.TransportMasterNodeOperationAction;\n@@ -30,6 +31,7 @@ import org.elasticsearch.common.settings.Settings;\n import org.elasticsearch.threadpool.ThreadPool;\n import org.elasticsearch.transport.TransportService;\n \n+import java.util.ArrayList;\n import java.util.List;\n \n /**\n@@ -68,8 +70,43 @@ public class TransportGetAliasesAction extends TransportMasterNodeOperationActio\n         request.indices(concreteIndices);\n \n         @SuppressWarnings(\"unchecked\") // ImmutableList to List results incompatible type\n-        ImmutableOpenMap<String, List<AliasMetaData>> result = (ImmutableOpenMap) state.metaData().findAliases(request.aliases(), request.indices());\n+        ImmutableOpenMap<String, List<AliasMetaData>> result;\n+        \n+        // If no specific aliases requested, return all aliases for the requested indices\n+        if (request.aliases().length == 0) {\n+            result = getAllAliasesForIndices(state.metaData(), request.indices());\n+        } else {\n+            result = (ImmutableOpenMap) state.metaData().findAliases(request.aliases(), request.indices());\n+        }\n+        \n         listener.onResponse(new GetAliasesResponse(result));\n     }\n \n+    /**\n+     * Gets all aliases for the specified indices.\n+     */\n+    @SuppressWarnings(\"unchecked\")\n+    private ImmutableOpenMap<String, List<AliasMetaData>> getAllAliasesForIndices(org.elasticsearch.cluster.metadata.MetaData metaData, String[] indices) {\n+        ImmutableOpenMap.Builder<String, List<AliasMetaData>> mapBuilder = ImmutableOpenMap.builder();\n+        \n+        if (indices.length == 0) {\n+            return mapBuilder.build();\n+        }\n+\n+        for (String index : indices) {\n+            org.elasticsearch.cluster.metadata.IndexMetaData indexMetaData = metaData.index(index);\n+            if (indexMetaData != null && !indexMetaData.getAliases().isEmpty()) {\n+                // Convert the alias metadata to match the expected return type\n+                List<AliasMetaData> aliasList = new ArrayList<>();\n+                for (ObjectCursor<AliasMetaData> cursor : indexMetaData.getAliases().values()) {\n+                    aliasList.add(cursor.value);\n+                }\n+                if (!aliasList.isEmpty()) {\n+                    mapBuilder.put(index, aliasList);\n+                }\n+            }\n+        }\n+        return (ImmutableOpenMap<String, List<AliasMetaData>>) (ImmutableOpenMap) mapBuilder.build();\n+    }\n+\n }\ndiff --git a/src/main/java/org/elasticsearch/rest/action/admin/indices/alias/get/RestGetAliasesAction.java b/src/main/java/org/elasticsearch/rest/action/admin/indices/alias/get/RestGetAliasesAction.java\nindex 1ee0283..85b93ed 100644\n--- a/src/main/java/org/elasticsearch/rest/action/admin/indices/alias/get/RestGetAliasesAction.java\n+++ b/src/main/java/org/elasticsearch/rest/action/admin/indices/alias/get/RestGetAliasesAction.java\n@@ -71,13 +71,21 @@ public class RestGetAliasesAction extends BaseRestHandler {\n                 try {\n                     XContentBuilder builder = RestXContentBuilder.restContentBuilder(request);\n                     if (response.getAliases().isEmpty()) {\n-                        String message = String.format(Locale.ROOT, \"alias [%s] missing\", toNamesString(getAliasesRequest.aliases()));\n-                        builder.startObject()\n-                                .field(\"error\", message)\n-                                .field(\"status\", RestStatus.NOT_FOUND.getStatus())\n-                                .endObject();\n-                        channel.sendResponse(new XContentRestResponse(request, RestStatus.NOT_FOUND, builder));\n-                        return;\n+                        boolean specifiedAliases = getAliasesRequest.aliases().length > 0;\n+                        if (specifiedAliases) {\n+                            String message = String.format(Locale.ROOT, \"alias [%s] missing\", toNamesString(getAliasesRequest.aliases()));\n+                            builder.startObject()\n+                                    .field(\"error\", message)\n+                                    .field(\"status\", RestStatus.NOT_FOUND.getStatus())\n+                                    .endObject();\n+                            channel.sendResponse(new XContentRestResponse(request, RestStatus.NOT_FOUND, builder));\n+                            return;\n+                        } else {\n+                            // No aliases requested and no aliases found - return empty response\n+                            builder.startObject().endObject();\n+                            channel.sendResponse(new XContentRestResponse(request, OK, builder));\n+                            return;\n+                        }\n                     }\n \n                     builder.startObject();",
  "logs_path": "factory/glm-4.6/24634b85/elastic_elasticsearch_pr4462/logs.jsonl",
  "errors": [],
  "edit_run_id": "24634b85",
  "test_label": null
}