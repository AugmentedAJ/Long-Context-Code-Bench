diff --git a/src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java b/src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
index aa179f1..c5acc6c 100644
--- a/src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
+++ b/src/main/java/org/elasticsearch/index/mapper/internal/TTLFieldMapper.java
@@ -182,6 +182,8 @@ public class TTLFieldMapper extends LongFieldMapper implements InternalMapper, R
             long ttl = context.sourceToParse().ttl();
             if (ttl <= 0 && defaultTTL > 0) { // no ttl provided so we use the default value
                 ttl = defaultTTL;
+                // Update the source context to reflect that default TTL is being used
+                context.sourceToParse().ttl(ttl);
             }
             if (ttl > 0) { // a ttl has been provided either externally or in the _source
                 long timestamp = context.sourceToParse().timestamp();
diff --git a/src/test/java/org/elasticsearch/test/unit/index/mapper/ttl/TTLMappingTests.java b/src/test/java/org/elasticsearch/test/unit/index/mapper/ttl/TTLMappingTests.java
index e3c02f6..c79487c 100644
--- a/src/test/java/org/elasticsearch/test/unit/index/mapper/ttl/TTLMappingTests.java
+++ b/src/test/java/org/elasticsearch/test/unit/index/mapper/ttl/TTLMappingTests.java
@@ -88,4 +88,71 @@ public class TTLMappingTests {
         assertThat(docMapper.TTLFieldMapper().store(), equalTo(Field.Store.NO));
         assertThat(docMapper.TTLFieldMapper().index(), equalTo(Field.Index.NO));
     }
+
+    @Test
+    public void testDefaultTTLSetInSourceContext() throws Exception {
+        long defaultTTLValue = 5000; // 5 seconds
+        String mapping = XContentFactory.jsonBuilder().startObject().startObject("type")
+                .startObject("_ttl")
+                .field("enabled", true)
+                .field("default", defaultTTLValue + "ms")
+                .endObject()
+                .endObject().endObject().string();
+        
+        DocumentMapper docMapper = MapperTests.newParser().parse(mapping);
+        
+        // Verify default TTL is configured in the mapper
+        assertThat(docMapper.TTLFieldMapper().enabled(), equalTo(true));
+        assertThat(docMapper.TTLFieldMapper().defaultTTL(), equalTo(defaultTTLValue));
+        
+        // Create source document without TTL
+        byte[] source = XContentFactory.jsonBuilder()
+                .startObject()
+                .field("field", "value")
+                .endObject()
+                .copiedBytes();
+        
+        // Parse document without providing TTL externally (ttl < 0)
+        SourceToParse sourceToParse = SourceToParse.source(source).type("type").id("1").ttl(-1);
+        ParsedDocument doc = docMapper.parse(sourceToParse);
+        
+        // Verify that the TTL field is created with default value
+        assertThat(doc.rootDoc().getFieldable("_ttl"), notNullValue());
+        
+        // Most importantly, verify that the source context TTL has been updated to reflect default TTL usage
+        assertThat(sourceToParse.ttl(), equalTo(defaultTTLValue));
+    }
+
+    @Test
+    public void testProvidedTTLOverridesDefault() throws Exception {
+        long defaultTTLValue = 5000; // 5 seconds
+        long providedTTLValue = 10000; // 10 seconds
+        String mapping = XContentFactory.jsonBuilder().startObject().startObject("type")
+                .startObject("_ttl")
+                .field("enabled", true)
+                .field("default", defaultTTLValue + "ms")
+                .endObject()
+                .endObject().endObject().string();
+        
+        DocumentMapper docMapper = MapperTests.newParser().parse(mapping);
+        
+        // Create source document with explicit TTL in source
+        byte[] source = XContentFactory.jsonBuilder()
+                .startObject()
+                .field("field", "value")
+                .field("_ttl", providedTTLValue)
+                .endObject()
+                .copiedBytes();
+        
+        // Parse document without providing TTL externally (ttl < 0)
+        SourceToParse sourceToParse = SourceToParse.source(source).type("type").id("1").ttl(-1);
+        ParsedDocument doc = docMapper.parse(sourceToParse);
+        
+        // Verify that the TTL field is created with provided value, not default
+        assertThat(doc.rootDoc().getFieldable("_ttl"), notNullValue());
+        
+        // Verify that the source context TTL reflects the provided value, not the default
+        assertThat(sourceToParse.ttl(), equalTo(providedTTLValue));
+        assertThat(sourceToParse.ttl(), not(equalTo(defaultTTLValue)));
+    }
 }
\ No newline at end of file