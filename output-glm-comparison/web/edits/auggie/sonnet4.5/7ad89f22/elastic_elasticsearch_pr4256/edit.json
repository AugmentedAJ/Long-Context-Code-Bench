{
  "repo_url": "https://github.com/elastic/elasticsearch.git",
  "pr_number": 4256,
  "base_commit": "f1bf585089db2b3acb28edf619de4f387e69f923",
  "runner": "auggie",
  "model": "sonnet4.5",
  "timeout_s": 1800,
  "status": "success",
  "elapsed_ms": 95831,
  "patch_unified": "diff --git a/docs/reference/setup/as-a-service.asciidoc b/docs/reference/setup/as-a-service.asciidoc\nindex d8a935b..fc684bb 100644\n--- a/docs/reference/setup/as-a-service.asciidoc\n+++ b/docs/reference/setup/as-a-service.asciidoc\n@@ -3,6 +3,8 @@\n \n In order to run elasticsearch as a service on your operating system, the provided packages try to make it as easy as possible for you to start and stop elasticsearch during reboot and upgrades.\n \n+NOTE: Elasticsearch does not start automatically after installation. You need to start it manually using the commands described below.\n+\n === Linux\n \n Currently our build automatically creates a debian package and an RPM package, which is available on the download page. The package itself does not have any dependencies, but you have to make sure that you installed a JDK.\n@@ -26,6 +28,52 @@ Each package features a configuration file, which allows you to set the followin\n `ES_JAVA_OPTS`::          Any additional java options you may want to apply. This may be useful, if you need to set the `node.name` property, but do not want to change the `elasticsearch.yml` configuration file, because it is distributed via a provisioning system like puppet or chef. Example: `ES_JAVA_OPTS=\"-Des.node.name=search-01\"`\n `RESTART_ON_UPGRADE`::    Configure restart on package upgrade, defaults to `false`. This means you will have to restart your elasticsearch instance after installing a package manually. The reason for this is to ensure, that upgrades in a cluster do not result in a continouos shard reallocation resulting in high network traffic and reducing the response times of your cluster.\n \n+==== Starting Elasticsearch Manually\n+\n+After installation, Elasticsearch will not start automatically. You need to start it manually using one of the following commands:\n+\n+For systems using systemd (newer distributions):\n+[source,sh]\n+--------------------------------------------------\n+sudo systemctl start elasticsearch.service\n+--------------------------------------------------\n+\n+For systems using init.d or service command:\n+[source,sh]\n+--------------------------------------------------\n+sudo service elasticsearch start\n+--------------------------------------------------\n+\n+To enable Elasticsearch to start automatically on system boot:\n+\n+For systemd:\n+[source,sh]\n+--------------------------------------------------\n+sudo systemctl enable elasticsearch.service\n+--------------------------------------------------\n+\n+For init.d (already enabled during installation):\n+[source,sh]\n+--------------------------------------------------\n+# Already configured via update-rc.d or chkconfig during installation\n+--------------------------------------------------\n+\n+To check the status of Elasticsearch:\n+[source,sh]\n+--------------------------------------------------\n+sudo service elasticsearch status\n+# or\n+sudo systemctl status elasticsearch.service\n+--------------------------------------------------\n+\n+To stop Elasticsearch:\n+[source,sh]\n+--------------------------------------------------\n+sudo service elasticsearch stop\n+# or\n+sudo systemctl stop elasticsearch.service\n+--------------------------------------------------\n+\n ==== Debian/Ubuntu\n \n The debian package ships with everything you need as it uses standard debian tools like update `update-rc.d` to define the runlevels it runs on. The init script is placed at `/etc/init.d/elasticsearch` is you would expect it. The configuration file is placed at `/etc/default/elasticsearch`.\ndiff --git a/src/deb/control/postinst b/src/deb/control/postinst\nindex 1e14e8a..5b1c646 100755\n--- a/src/deb/control/postinst\n+++ b/src/deb/control/postinst\n@@ -40,9 +40,11 @@ case \"$1\" in\n \t# if $2 is set, this is an upgrade\n \tif ( [ -n $2 ] && [ \"$RESTART_ON_UPGRADE\" = \"true\" ] ) ; then\n \t\tstartElasticsearch\n-\t# this is a fresh installation, start anyway\n-\telif [ -z $2 ] ; then\n-\t\tstartElasticsearch\n+\t# Elasticsearch will not start automatically after fresh installation\n+\t# To start Elasticsearch manually, run:\n+\t#   sudo service elasticsearch start\n+\t# elif [ -z $2 ] ; then\n+\t#\tstartElasticsearch\n \tfi\n \t;;\n esac\ndiff --git a/src/rpm/scripts/postinstall b/src/rpm/scripts/postinstall\nindex aefbea3..551d2a5 100644\n--- a/src/rpm/scripts/postinstall\n+++ b/src/rpm/scripts/postinstall\n@@ -35,7 +35,12 @@ if [ $1 -eq 1 ] ; then\n         /sbin/chkconfig --add elasticsearch\n     fi\n \n-\tstartElasticsearch\n+\t# Elasticsearch will not start automatically after installation\n+\t# To start Elasticsearch manually, run:\n+\t#   sudo service elasticsearch start\n+\t# or\n+\t#   sudo systemctl start elasticsearch.service\n+\t# startElasticsearch\n elif [ $1 -ge 2 -a \"$RESTART_ON_UPGRADE\" == \"true\" ] ; then\n \tstopElasticsearch\n \tstartElasticsearch",
  "logs_path": "auggie/sonnet4.5/7ad89f22/elastic_elasticsearch_pr4256/logs.jsonl",
  "errors": [],
  "edit_run_id": "7ad89f22",
  "test_label": "v1-rollouts-1-3-sonnet4.5"
}