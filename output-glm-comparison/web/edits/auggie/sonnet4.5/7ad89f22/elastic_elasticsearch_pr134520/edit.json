{
  "repo_url": "https://github.com/elastic/elasticsearch.git",
  "pr_number": 134520,
  "base_commit": "63b6d96a44939b8720a20b5809b28318dc2a75fd",
  "runner": "auggie",
  "model": "sonnet4.5",
  "timeout_s": 1800,
  "status": "success",
  "elapsed_ms": 135424,
  "patch_unified": "diff --git a/server/src/internalClusterTest/java/org/elasticsearch/threadpool/SimpleThreadPoolIT.java b/server/src/internalClusterTest/java/org/elasticsearch/threadpool/SimpleThreadPoolIT.java\nindex fa81ee40..219d71ba 100644\n--- a/server/src/internalClusterTest/java/org/elasticsearch/threadpool/SimpleThreadPoolIT.java\n+++ b/server/src/internalClusterTest/java/org/elasticsearch/threadpool/SimpleThreadPoolIT.java\n@@ -245,16 +245,21 @@ public class SimpleThreadPoolIT extends ESIntegTestCase {\n         var threadPool = internalCluster().getInstance(ThreadPool.class, nodeName);\n \n         // Verify that the write thread pools all use the tracking executor.\n-        for (var name : List.of(ThreadPool.Names.WRITE, ThreadPool.Names.SYSTEM_WRITE, ThreadPool.Names.SYSTEM_CRITICAL_WRITE)) {\n+        for (var name : List.of(\n+            ThreadPool.Names.WRITE,\n+            ThreadPool.Names.WRITE_COORDINATION,\n+            ThreadPool.Names.SYSTEM_WRITE,\n+            ThreadPool.Names.SYSTEM_CRITICAL_WRITE\n+        )) {\n             assertThat(threadPool.executor(name), instanceOf(TaskExecutionTimeTrackingEsThreadPoolExecutor.class));\n             final var executor = (TaskExecutionTimeTrackingEsThreadPoolExecutor) threadPool.executor(name);\n             assertThat(Double.compare(executor.getExecutionEwmaAlpha(), executionEwmaAlpha), CoreMatchers.equalTo(0));\n \n-            // Only the WRITE thread pool should enable further tracking.\n-            if (name.equals(ThreadPool.Names.WRITE) == false) {\n+            // Only the WRITE and WRITE_COORDINATION thread pools should enable further tracking.\n+            if (name.equals(ThreadPool.Names.WRITE) == false && name.equals(ThreadPool.Names.WRITE_COORDINATION) == false) {\n                 assertFalse(executor.trackingMaxQueueLatency());\n             } else {\n-                // Verify that the WRITE thread pool has extra tracking enabled.\n+                // Verify that the WRITE and WRITE_COORDINATION thread pools have extra tracking enabled.\n                 assertTrue(executor.trackingMaxQueueLatency());\n             }\n         }\ndiff --git a/server/src/main/java/org/elasticsearch/threadpool/DefaultBuiltInExecutorBuilders.java b/server/src/main/java/org/elasticsearch/threadpool/DefaultBuiltInExecutorBuilders.java\nindex 4ebcae1c..877c59fd 100644\n--- a/server/src/main/java/org/elasticsearch/threadpool/DefaultBuiltInExecutorBuilders.java\n+++ b/server/src/main/java/org/elasticsearch/threadpool/DefaultBuiltInExecutorBuilders.java\n@@ -45,7 +45,11 @@ public class DefaultBuiltInExecutorBuilders implements BuiltInExecutorBuilders {\n                 ThreadPool.Names.WRITE_COORDINATION,\n                 allocatedProcessors,\n                 10000,\n-                EsExecutors.TaskTrackingConfig.DO_NOT_TRACK\n+                EsExecutors.TaskTrackingConfig.builder()\n+                    .trackOngoingTasks()\n+                    .trackMaxQueueLatency()\n+                    .trackExecutionTime(indexAutoscalingEWMA)\n+                    .build()\n             )\n         );\n         result.put(",
  "logs_path": "auggie/sonnet4.5/7ad89f22/elastic_elasticsearch_pr134520/logs.jsonl",
  "errors": [],
  "edit_run_id": "7ad89f22",
  "test_label": "v1-rollouts-1-3-sonnet4.5"
}