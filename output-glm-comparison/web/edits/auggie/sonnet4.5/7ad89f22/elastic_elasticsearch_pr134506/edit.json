{
  "repo_url": "https://github.com/elastic/elasticsearch.git",
  "pr_number": 134506,
  "base_commit": "e5559ef012c066ddfe75ccbc3961d7923e92af3b",
  "runner": "auggie",
  "model": "sonnet4.5",
  "timeout_s": 1800,
  "status": "success",
  "elapsed_ms": 192643,
  "patch_unified": "diff --git a/server/src/main/java/org/elasticsearch/TransportVersion.java b/server/src/main/java/org/elasticsearch/TransportVersion.java\nindex f130f7d6..783798c6 100644\n--- a/server/src/main/java/org/elasticsearch/TransportVersion.java\n+++ b/server/src/main/java/org/elasticsearch/TransportVersion.java\n@@ -12,6 +12,7 @@ package org.elasticsearch;\n import org.elasticsearch.common.VersionId;\n import org.elasticsearch.common.io.stream.StreamInput;\n import org.elasticsearch.common.io.stream.StreamOutput;\n+import org.elasticsearch.common.xcontent.SuggestingErrorOnUnknown;\n import org.elasticsearch.internal.VersionExtension;\n import org.elasticsearch.plugins.ExtensionLoader;\n \n@@ -239,7 +240,8 @@ public record TransportVersion(String name, int id, TransportVersion nextPatchVe\n     public static TransportVersion fromName(String name) {\n         TransportVersion known = VersionsHolder.ALL_VERSIONS_BY_NAME.get(name);\n         if (known == null) {\n-            throw new IllegalStateException(\"unknown transport version [\" + name + \"]\");\n+            String suggestion = SuggestingErrorOnUnknown.suggest(name, VersionsHolder.ALL_VERSIONS_BY_NAME.keySet());\n+            throw new IllegalStateException(\"unknown transport version [\" + name + \"]\" + suggestion);\n         }\n         return known;\n     }\ndiff --git a/server/src/test/java/org/elasticsearch/TransportVersionTests.java b/server/src/test/java/org/elasticsearch/TransportVersionTests.java\nindex e51ca0c5..4748c763 100644\n--- a/server/src/test/java/org/elasticsearch/TransportVersionTests.java\n+++ b/server/src/test/java/org/elasticsearch/TransportVersionTests.java\n@@ -391,4 +391,16 @@ public class TransportVersionTests extends ESTestCase {\n         );\n         assertThat(new TransportVersion(null, 1000000, null).supports(test3), is(true));\n     }\n+\n+    public void testFromNameWithSuggestions() {\n+        // Test that an unknown version name throws an exception with suggestions\n+        IllegalStateException exception = expectThrows(IllegalStateException.class, () -> TransportVersion.fromName(\"nonexistent\"));\n+        assertThat(exception.getMessage(), containsString(\"unknown transport version [nonexistent]\"));\n+\n+        // Test with a typo that should suggest a similar version\n+        // Note: This test assumes there are named versions in the system. If there are no named versions,\n+        // the suggestion part will be empty, which is still correct behavior.\n+        exception = expectThrows(IllegalStateException.class, () -> TransportVersion.fromName(\"invalid_version_name\"));\n+        assertThat(exception.getMessage(), containsString(\"unknown transport version [invalid_version_name]\"));\n+    }\n }",
  "logs_path": "auggie/sonnet4.5/7ad89f22/elastic_elasticsearch_pr134506/logs.jsonl",
  "errors": [],
  "edit_run_id": "7ad89f22",
  "test_label": "v1-rollouts-1-3-sonnet4.5"
}