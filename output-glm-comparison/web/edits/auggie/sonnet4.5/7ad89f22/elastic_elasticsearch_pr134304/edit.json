{
  "repo_url": "https://github.com/elastic/elasticsearch.git",
  "pr_number": 134304,
  "base_commit": "016ca188aa79c8e5cc0f453513376fe61115940a",
  "runner": "auggie",
  "model": "sonnet4.5",
  "timeout_s": 1800,
  "status": "success",
  "elapsed_ms": 192461,
  "patch_unified": "diff --git a/x-pack/plugin/esql/src/test/java/org/elasticsearch/xpack/esql/optimizer/rules/logical/local/IgnoreNullMetricsTests.java b/x-pack/plugin/esql/src/test/java/org/elasticsearch/xpack/esql/optimizer/rules/logical/local/IgnoreNullMetricsTests.java\nindex 5faa73b3..304b207c 100644\n--- a/x-pack/plugin/esql/src/test/java/org/elasticsearch/xpack/esql/optimizer/rules/logical/local/IgnoreNullMetricsTests.java\n+++ b/x-pack/plugin/esql/src/test/java/org/elasticsearch/xpack/esql/optimizer/rules/logical/local/IgnoreNullMetricsTests.java\n@@ -10,6 +10,7 @@ package org.elasticsearch.xpack.esql.optimizer.rules.logical.local;\n import org.elasticsearch.index.IndexMode;\n import org.elasticsearch.test.ESTestCase;\n import org.elasticsearch.xpack.esql.EsqlTestUtils;\n+import org.elasticsearch.xpack.esql.action.EsqlCapabilities;\n import org.elasticsearch.xpack.esql.analysis.Analyzer;\n import org.elasticsearch.xpack.esql.analysis.AnalyzerContext;\n import org.elasticsearch.xpack.esql.analysis.AnalyzerTestUtils;\n@@ -115,6 +116,7 @@ public class IgnoreNullMetricsTests extends ESTestCase {\n     }\n \n     public void testSimple() {\n+        assumeTrue(\"requires metrics command\", EsqlCapabilities.Cap.METRICS_COMMAND.isEnabled());\n         LogicalPlan actual = localPlan(\"\"\"\n             TS test\n             | STATS max(max_over_time(metric_1))\n@@ -144,7 +146,7 @@ public class IgnoreNullMetricsTests extends ESTestCase {\n     }\n \n     public void testDimensionsAreNotFiltered() {\n-\n+        assumeTrue(\"requires metrics command\", EsqlCapabilities.Cap.METRICS_COMMAND.isEnabled());\n         LogicalPlan actual = localPlan(\"\"\"\n             TS test\n             | STATS max(max_over_time(metric_1)) BY dimension_1\n@@ -161,7 +163,7 @@ public class IgnoreNullMetricsTests extends ESTestCase {\n     }\n \n     public void testFiltersAreJoinedWithOr() {\n-\n+        assumeTrue(\"requires metrics command\", EsqlCapabilities.Cap.METRICS_COMMAND.isEnabled());\n         LogicalPlan actual = localPlan(\"\"\"\n             TS test\n             | STATS max(max_over_time(metric_1)), min(min_over_time(metric_2))\n@@ -195,6 +197,7 @@ public class IgnoreNullMetricsTests extends ESTestCase {\n     }\n \n     public void testSkipCoalescedMetrics() {\n+        assumeTrue(\"requires metrics command\", EsqlCapabilities.Cap.METRICS_COMMAND.isEnabled());\n         // Note: this test is passing because the reference attribute metric_2 in the stats block does not inherit the\n         // metric property from the original field.\n         LogicalPlan actual = localPlan(\"\"\"\n@@ -218,6 +221,7 @@ public class IgnoreNullMetricsTests extends ESTestCase {\n      * check that stats blocks after the first are not sourced for adding metrics to the filter\n      */\n     public void testMultipleStats() {\n+        assumeTrue(\"requires metrics command\", EsqlCapabilities.Cap.METRICS_COMMAND.isEnabled());\n         LogicalPlan actual = localPlan(\"\"\"\n             TS test\n             | STATS m = max(max_over_time(metric_1))",
  "logs_path": "auggie/sonnet4.5/7ad89f22/elastic_elasticsearch_pr134304/logs.jsonl",
  "errors": [],
  "edit_run_id": "7ad89f22",
  "test_label": "v1-rollouts-1-3-sonnet4.5"
}