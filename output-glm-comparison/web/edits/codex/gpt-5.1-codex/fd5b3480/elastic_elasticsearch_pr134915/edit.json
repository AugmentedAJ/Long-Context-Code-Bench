{
  "repo_url": "https://github.com/elastic/elasticsearch.git",
  "pr_number": 134915,
  "base_commit": "dd4b8d96484bc1b0f86d7b006d79cac5916b3f45",
  "runner": "codex",
  "model": "gpt-5.1-codex",
  "timeout_s": 10800,
  "status": "success",
  "elapsed_ms": 146930,
  "patch_unified": "diff --git a/x-pack/plugin/esql/qa/server/single-node/src/javaRestTest/java/org/elasticsearch/xpack/esql/qa/single_node/RestEsqlIT.java b/x-pack/plugin/esql/qa/server/single-node/src/javaRestTest/java/org/elasticsearch/xpack/esql/qa/single_node/RestEsqlIT.java\nindex 458fffaa..3e092e43 100644\n--- a/x-pack/plugin/esql/qa/server/single-node/src/javaRestTest/java/org/elasticsearch/xpack/esql/qa/single_node/RestEsqlIT.java\n+++ b/x-pack/plugin/esql/qa/server/single-node/src/javaRestTest/java/org/elasticsearch/xpack/esql/qa/single_node/RestEsqlIT.java\n@@ -27,6 +27,7 @@ import org.elasticsearch.test.cluster.LogType;\n import org.elasticsearch.xcontent.XContentBuilder;\n import org.elasticsearch.xcontent.XContentType;\n import org.elasticsearch.xcontent.json.JsonXContent;\n+import org.elasticsearch.xpack.esql.action.EsqlCapabilities;\n import org.elasticsearch.xpack.esql.core.plugin.EsqlCorePlugin;\n import org.elasticsearch.xpack.esql.core.type.DataType;\n import org.elasticsearch.xpack.esql.qa.rest.RestEsqlTestCase;\n@@ -467,6 +468,10 @@ public class RestEsqlIT extends RestEsqlTestCase {\n     @AwaitsFix(bugUrl = \"disabled until JOIN infrastructrure properly lands\")\n     public void testInlineStatsProfile() throws IOException {\n         assumeTrue(\"INLINESTATS only available on snapshots\", Build.current().isSnapshot());\n+        assumeTrue(\n+            \"INLINESTATS capability required\",\n+            hasCapabilities(adminClient(), List.of(EsqlCapabilities.Cap.INLINESTATS_V11.capabilityName()))\n+        );\n         indexTimestampData(1);\n \n         RequestObjectBuilder builder = requestObjectBuilder().query(fromIndex() + \" | INLINESTATS AVG(value) | SORT value ASC\");\ndiff --git a/x-pack/plugin/esql/qa/server/src/main/java/org/elasticsearch/xpack/esql/qa/rest/RestEsqlTestCase.java b/x-pack/plugin/esql/qa/server/src/main/java/org/elasticsearch/xpack/esql/qa/rest/RestEsqlTestCase.java\nindex 8c3c243d..a08f7309 100644\n--- a/x-pack/plugin/esql/qa/server/src/main/java/org/elasticsearch/xpack/esql/qa/rest/RestEsqlTestCase.java\n+++ b/x-pack/plugin/esql/qa/server/src/main/java/org/elasticsearch/xpack/esql/qa/rest/RestEsqlTestCase.java\n@@ -1222,6 +1222,10 @@ public abstract class RestEsqlTestCase extends ESRestTestCase {\n      */\n     public void testInlineStatsNow() throws IOException {\n         assumeTrue(\"INLINESTATS only available on snapshots\", Build.current().isSnapshot());\n+        assumeTrue(\n+            \"INLINESTATS capability required\",\n+            hasCapabilities(adminClient(), List.of(EsqlCapabilities.Cap.INLINESTATS_V11.capabilityName()))\n+        );\n         indexTimestampData(1);\n \n         RequestObjectBuilder builder = requestObjectBuilder().query(",
  "logs_path": "codex/gpt-5.1-codex/fd5b3480/elastic_elasticsearch_pr134915/logs.jsonl",
  "errors": [],
  "edit_run_id": "fd5b3480",
  "test_label": "v1-agent-comparison"
}