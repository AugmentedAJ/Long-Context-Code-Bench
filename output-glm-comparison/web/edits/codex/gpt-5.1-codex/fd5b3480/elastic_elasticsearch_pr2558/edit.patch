diff --git a/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/ShardsAllocatorModule.java b/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/ShardsAllocatorModule.java
index a3d8da2..6a94ac8 100644
--- a/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/ShardsAllocatorModule.java
+++ b/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/ShardsAllocatorModule.java
@@ -48,6 +48,10 @@ public class ShardsAllocatorModule extends AbstractModule {
     @Override
     protected void configure() {
         bind(GatewayAllocator.class).to(gatewayAllocator).asEagerSingleton();
-        bind(ShardsAllocator.class).to(shardsAllocator == null ? BalancedShardsAllocator.class : shardsAllocator).asEagerSingleton();
+        Class<? extends ShardsAllocator> allocatorClass = shardsAllocator;
+        if (allocatorClass == null) {
+            allocatorClass = ShardsAllocators.resolveAllocator(settings);
+        }
+        bind(ShardsAllocator.class).to(allocatorClass).asEagerSingleton();
     }
 }
diff --git a/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/ShardsAllocators.java b/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/ShardsAllocators.java
index 9efcf7e..9bf838b 100644
--- a/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/ShardsAllocators.java
+++ b/src/main/java/org/elasticsearch/cluster/routing/allocation/allocator/ShardsAllocators.java
@@ -19,6 +19,7 @@
 
 package org.elasticsearch.cluster.routing.allocation.allocator;
 
+import org.elasticsearch.ElasticSearchIllegalStateException;
 import org.elasticsearch.cluster.routing.MutableShardRouting;
 import org.elasticsearch.cluster.routing.RoutingNode;
 import org.elasticsearch.cluster.routing.allocation.FailedRerouteAllocation;
@@ -30,6 +31,9 @@ import org.elasticsearch.common.settings.ImmutableSettings;
 import org.elasticsearch.common.settings.Settings;
 import org.elasticsearch.gateway.none.NoneGatewayAllocator;
 
+import java.lang.reflect.NoSuchMethodException;
+import java.util.Locale;
+
 /**
  * The {@link ShardsAllocator} class offers methods for allocating shard within a cluster.
  * These methods include moving shards and re-balancing the cluster. It also allows management
@@ -37,6 +41,10 @@ import org.elasticsearch.gateway.none.NoneGatewayAllocator;
  */
 public class ShardsAllocators extends AbstractComponent implements ShardsAllocator {
 
+    public static final String TYPE_SETTING = "cluster.routing.allocation.type";
+    private static final String ALLOCATOR_CLASS_PREFIX = "org.elasticsearch.cluster.routing.allocation.allocator.";
+    private static final String ALLOCATOR_CLASS_SUFFIX = "ShardsAllocator";
+
     private final GatewayAllocator gatewayAllocator;
     private final ShardsAllocator allocator;
 
@@ -45,7 +53,7 @@ public class ShardsAllocators extends AbstractComponent implements ShardsAllocat
     }
 
     public ShardsAllocators(Settings settings) {
-      this(settings, new NoneGatewayAllocator(), new BalancedShardsAllocator(settings));
+        this(settings, new NoneGatewayAllocator(), createAllocator(settings));
     }
 
     @Inject
@@ -55,6 +63,36 @@ public class ShardsAllocators extends AbstractComponent implements ShardsAllocat
         this.allocator = allocator;
     }
 
+    static Class<? extends ShardsAllocator> resolveAllocator(Settings settings) {
+        String type = settings.get(TYPE_SETTING);
+        if (type == null) {
+            return BalancedShardsAllocator.class;
+        }
+        String lowercaseType = type.toLowerCase(Locale.ROOT);
+        if ("balanced_shards".equals(lowercaseType)) {
+            return BalancedShardsAllocator.class;
+        }
+        if ("even_shards".equals(lowercaseType) || "even_shards_count".equals(lowercaseType)) {
+            return EvenShardsCountAllocator.class;
+        }
+        return settings.getAsClass(TYPE_SETTING, BalancedShardsAllocator.class, ALLOCATOR_CLASS_PREFIX, ALLOCATOR_CLASS_SUFFIX);
+    }
+
+    private static ShardsAllocator createAllocator(Settings settings) {
+        Class<? extends ShardsAllocator> allocatorClass = resolveAllocator(settings);
+        try {
+            return allocatorClass.getConstructor(Settings.class).newInstance(settings);
+        } catch (NoSuchMethodException e) {
+            try {
+                return allocatorClass.newInstance();
+            } catch (Exception e1) {
+                throw new ElasticSearchIllegalStateException("Failed to create instance of [" + allocatorClass.getName() + "]", e1);
+            }
+        } catch (Exception e) {
+            throw new ElasticSearchIllegalStateException("Failed to create instance of [" + allocatorClass.getName() + "]", e);
+        }
+    }
+
     @Override
     public void applyStartedShards(StartedRerouteAllocation allocation) {
         gatewayAllocator.applyStartedShards(allocation);