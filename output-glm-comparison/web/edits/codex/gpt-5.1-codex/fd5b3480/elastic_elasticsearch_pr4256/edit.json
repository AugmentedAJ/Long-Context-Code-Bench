{
  "repo_url": "https://github.com/elastic/elasticsearch.git",
  "pr_number": 4256,
  "base_commit": "f1bf585089db2b3acb28edf619de4f387e69f923",
  "runner": "codex",
  "model": "gpt-5.1-codex",
  "timeout_s": 10800,
  "status": "success",
  "elapsed_ms": 115811,
  "patch_unified": "diff --git a/docs/reference/setup/as-a-service.asciidoc b/docs/reference/setup/as-a-service.asciidoc\nindex d8a935b..e743bc8 100644\n--- a/docs/reference/setup/as-a-service.asciidoc\n+++ b/docs/reference/setup/as-a-service.asciidoc\n@@ -28,6 +28,13 @@ Each package features a configuration file, which allows you to set the followin\n \n ==== Debian/Ubuntu\n \n+After installing the Debian package the service is registered but not started automatically. Start Elasticsearch manually after configuring it:\n+\n+[source,sh]\n+--------------------------------------------------\n+sudo service elasticsearch start\n+--------------------------------------------------\n+\n The debian package ships with everything you need as it uses standard debian tools like update `update-rc.d` to define the runlevels it runs on. The init script is placed at `/etc/init.d/elasticsearch` is you would expect it. The configuration file is placed at `/etc/default/elasticsearch`.\n \n ===== Installing the oracle JDK\n@@ -47,6 +54,15 @@ The last command should verify a successful installation of the Oracle JDK.\n \n ==== RedHat/Centos/Fedora\n \n+On RedHat, Centos and Fedora systems the service also remains stopped immediately after installation. Start it manually once your configuration is finalized:\n+\n+[source,sh]\n+--------------------------------------------------\n+sudo systemctl start elasticsearch.service\n+# or for SysV init\n+sudo service elasticsearch start\n+--------------------------------------------------\n+\n RedHat based distributions are using `chkconfig` to enable and disable services. The init script is at `/etc/init.d/elasticsearch`, where as the configuration file is placed at `/etc/sysconfig/elasticsearch`.\n \n ==== SuSe\ndiff --git a/src/deb/control/postinst b/src/deb/control/postinst\nindex 1e14e8a..405d420 100755\n--- a/src/deb/control/postinst\n+++ b/src/deb/control/postinst\n@@ -37,13 +37,9 @@ case \"$1\" in\n \tchmod 644 /etc/elasticsearch/*\n \t\n \tupdate-rc.d elasticsearch defaults 95 10 >/dev/null\n-\t# if $2 is set, this is an upgrade\n-\tif ( [ -n $2 ] && [ \"$RESTART_ON_UPGRADE\" = \"true\" ] ) ; then\n-\t\tstartElasticsearch\n-\t# this is a fresh installation, start anyway\n-\telif [ -z $2 ] ; then\n-\t\tstartElasticsearch\n-\tfi\n-\t;;\n+\t\t# if $2 is set, this is an upgrade\n+\t\tif ( [ -n $2 ] && [ \"$RESTART_ON_UPGRADE\" = \"true\" ] ) ; then\n+\t\t\tstartElasticsearch\n+\t\tfi\n+\t\t;;\n esac\n-\ndiff --git a/src/rpm/scripts/postinstall b/src/rpm/scripts/postinstall\nindex aefbea3..3a1f81e 100644\n--- a/src/rpm/scripts/postinstall\n+++ b/src/rpm/scripts/postinstall\n@@ -35,9 +35,7 @@ if [ $1 -eq 1 ] ; then\n         /sbin/chkconfig --add elasticsearch\n     fi\n \n-\tstartElasticsearch\n elif [ $1 -ge 2 -a \"$RESTART_ON_UPGRADE\" == \"true\" ] ; then\n \tstopElasticsearch\n \tstartElasticsearch\n fi\n-",
  "logs_path": "codex/gpt-5.1-codex/b8978668/elastic_elasticsearch_pr4256/logs.jsonl",
  "errors": [],
  "edit_run_id": "fd5b3480",
  "test_label": "v1-agent-comparison"
}