diff --git a/.buildkite/scripts/update-transport-versions.sh b/.buildkite/scripts/update-transport-versions.sh
index c3ae067f..26b1d6e0 100755
--- a/.buildkite/scripts/update-transport-versions.sh
+++ b/.buildkite/scripts/update-transport-versions.sh
@@ -6,9 +6,11 @@ if [[ -z "${BUILDKITE_PULL_REQUEST:-}" ]]; then
   exit 0
 fi
 
-if ! git diff --exit-code; then
-  echo "Changes are present before updating transport versions, not running"
-  git status
+TRANSPORT_STATE_PATH="server/src/main/resources/transport"
+
+if ! git diff --exit-code -- "$TRANSPORT_STATE_PATH"; then
+  echo "Transport version state changes are present before updating, not running"
+  git status --short -- "$TRANSPORT_STATE_PATH"
   exit 0
 fi
 
@@ -29,10 +31,11 @@ if [[ -z "${backport_branches}" ]]; then
   exit 0
 fi
 
+
 .ci/scripts/run-gradle.sh generateTransportVersion --backport-branches="${backport_branches}"
 
-if git diff --exit-code; then
-  echo "No changes found after updating transport versions. Don't need to auto commit."
+if git diff --exit-code -- "$TRANSPORT_STATE_PATH"; then
+  echo "No transport version state changes found after updating. Don't need to auto commit."
   exit 0
 fi
 
@@ -40,7 +43,7 @@ git config --global user.name elasticsearchmachine
 git config --global user.email 'infra-root+elasticsearchmachine@elastic.co'
 
 gh pr checkout "${BUILDKITE_PULL_REQUEST}"
-git add -A .
+git add -A "$TRANSPORT_STATE_PATH"
 git commit -m "$NEW_COMMIT_MESSAGE"
 git push
 