{
  "repo_url": "https://github.com/elastic/elasticsearch.git",
  "pr_number": 4444,
  "base_commit": "8f85d63b679b4996a2eeadba0af65caeb97e047d",
  "runner": "codex",
  "model": "gpt-5.1-codex",
  "timeout_s": 10800,
  "status": "success",
  "elapsed_ms": 86166,
  "patch_unified": "diff --git a/src/main/java/org/elasticsearch/common/util/concurrent/EsThreadPoolExecutor.java b/src/main/java/org/elasticsearch/common/util/concurrent/EsThreadPoolExecutor.java\nindex 86301ec..40443bd 100644\n--- a/src/main/java/org/elasticsearch/common/util/concurrent/EsThreadPoolExecutor.java\n+++ b/src/main/java/org/elasticsearch/common/util/concurrent/EsThreadPoolExecutor.java\n@@ -44,17 +44,21 @@ public class EsThreadPoolExecutor extends ThreadPoolExecutor {\n     }\n \n     public void shutdown(ShutdownListener listener) {\n+        boolean terminated = false;\n         synchronized (monitor) {\n             if (this.listener != null) {\n                 throw new ElasticSearchIllegalStateException(\"Shutdown was already called on this thread pool\");\n             }\n             if (isTerminated()) {\n-                listener.onTerminated();\n+                terminated = true;\n             } else {\n                 this.listener = listener;\n             }\n-            shutdown();\n         }\n+        if (terminated) {\n+            listener.onTerminated();\n+        }\n+        super.shutdown();\n     }\n \n     @Override",
  "logs_path": "codex/gpt-5.1-codex/b8978668/elastic_elasticsearch_pr4444/logs.jsonl",
  "errors": [],
  "edit_run_id": "fd5b3480",
  "test_label": "v1-agent-comparison"
}