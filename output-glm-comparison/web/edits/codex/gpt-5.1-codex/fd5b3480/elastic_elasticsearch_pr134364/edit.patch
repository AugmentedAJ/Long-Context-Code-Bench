diff --git a/x-pack/plugin/otel-data/src/test/java/org/elasticsearch/xpack/oteldata/otlp/docbuilder/MetricDocumentBuilderTests.java b/x-pack/plugin/otel-data/src/test/java/org/elasticsearch/xpack/oteldata/otlp/docbuilder/MetricDocumentBuilderTests.java
index 01fa605d..df8915fb 100644
--- a/x-pack/plugin/otel-data/src/test/java/org/elasticsearch/xpack/oteldata/otlp/docbuilder/MetricDocumentBuilderTests.java
+++ b/x-pack/plugin/otel-data/src/test/java/org/elasticsearch/xpack/oteldata/otlp/docbuilder/MetricDocumentBuilderTests.java
@@ -104,8 +104,10 @@ public class MetricDocumentBuilderTests extends ESTestCase {
         HashMap<String, String> dynamicTemplates = documentBuilder.buildMetricDocument(builder, dataPointGroup);
         ObjectPath doc = ObjectPath.createFromXContent(JsonXContent.jsonXContent, BytesReference.bytes(builder));
 
-        assertThat(doc.evaluate("@timestamp"), equalTo(TimeUnit.NANOSECONDS.toMillis(timestamp)));
-        assertThat(doc.evaluate("start_timestamp"), equalTo(TimeUnit.NANOSECONDS.toMillis(startTimestamp)));
+        Number timestampMillis = (Number) doc.evaluate("@timestamp");
+        assertThat(timestampMillis.longValue(), equalTo(TimeUnit.NANOSECONDS.toMillis(timestamp)));
+        Number startTimestampMillis = (Number) doc.evaluate("start_timestamp");
+        assertThat(startTimestampMillis.longValue(), equalTo(TimeUnit.NANOSECONDS.toMillis(startTimestamp)));
         assertThat(doc.evaluate("data_stream.type"), equalTo("metrics"));
         assertThat(doc.evaluate("data_stream.dataset"), equalTo("generic.otel"));
         assertThat(doc.evaluate("data_stream.namespace"), equalTo("default"));