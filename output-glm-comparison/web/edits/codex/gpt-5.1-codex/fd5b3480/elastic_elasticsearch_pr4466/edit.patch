diff --git a/src/main/java/org/elasticsearch/common/unit/ByteSizeValue.java b/src/main/java/org/elasticsearch/common/unit/ByteSizeValue.java
index 0c4e9b1..ad110ed 100644
--- a/src/main/java/org/elasticsearch/common/unit/ByteSizeValue.java
+++ b/src/main/java/org/elasticsearch/common/unit/ByteSizeValue.java
@@ -28,6 +28,7 @@ import org.elasticsearch.common.io.stream.Streamable;
 
 import java.io.IOException;
 import java.io.Serializable;
+import java.util.Locale;
 
 /**
  *
@@ -142,20 +143,21 @@ public class ByteSizeValue implements Serializable, Streamable {
             return defaultValue;
         }
         long bytes;
+        String lowerValue = sValue.toLowerCase(Locale.ROOT);
         try {
-            if (sValue.endsWith("k") || sValue.endsWith("K")) {
-                bytes = (long) (Double.parseDouble(sValue.substring(0, sValue.length() - 1)) * ByteSizeUnit.C1);
-            } else if (sValue.endsWith("kb")) {
+            if (lowerValue.endsWith("kb")) {
                 bytes = (long) (Double.parseDouble(sValue.substring(0, sValue.length() - 2)) * ByteSizeUnit.C1);
-            } else if (sValue.endsWith("m") || sValue.endsWith("M")) {
-                bytes = (long) (Double.parseDouble(sValue.substring(0, sValue.length() - 1)) * ByteSizeUnit.C2);
-            } else if (sValue.endsWith("mb")) {
+            } else if (lowerValue.endsWith("k")) {
+                bytes = (long) (Double.parseDouble(sValue.substring(0, sValue.length() - 1)) * ByteSizeUnit.C1);
+            } else if (lowerValue.endsWith("mb")) {
                 bytes = (long) (Double.parseDouble(sValue.substring(0, sValue.length() - 2)) * ByteSizeUnit.C2);
-            } else if (sValue.endsWith("g") || sValue.endsWith("G")) {
-                bytes = (long) (Double.parseDouble(sValue.substring(0, sValue.length() - 1)) * ByteSizeUnit.C3);
-            } else if (sValue.endsWith("gb")) {
+            } else if (lowerValue.endsWith("m")) {
+                bytes = (long) (Double.parseDouble(sValue.substring(0, sValue.length() - 1)) * ByteSizeUnit.C2);
+            } else if (lowerValue.endsWith("gb")) {
                 bytes = (long) (Double.parseDouble(sValue.substring(0, sValue.length() - 2)) * ByteSizeUnit.C3);
-            } else if (sValue.endsWith("b")) {
+            } else if (lowerValue.endsWith("g")) {
+                bytes = (long) (Double.parseDouble(sValue.substring(0, sValue.length() - 1)) * ByteSizeUnit.C3);
+            } else if (lowerValue.endsWith("b")) {
                 bytes = Long.parseLong(sValue.substring(0, sValue.length() - 1));
             } else {
                 bytes = Long.parseLong(sValue);
@@ -202,4 +204,4 @@ public class ByteSizeValue implements Serializable, Streamable {
         result = 31 * result + (sizeUnit != null ? sizeUnit.hashCode() : 0);
         return result;
     }
-}
\ No newline at end of file
+}