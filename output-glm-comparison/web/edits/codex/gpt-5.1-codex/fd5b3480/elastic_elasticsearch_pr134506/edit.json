{
  "repo_url": "https://github.com/elastic/elasticsearch.git",
  "pr_number": 134506,
  "base_commit": "e5559ef012c066ddfe75ccbc3961d7923e92af3b",
  "runner": "codex",
  "model": "gpt-5.1-codex",
  "timeout_s": 10800,
  "status": "success",
  "elapsed_ms": 170717,
  "patch_unified": "diff --git a/server/src/main/java/org/elasticsearch/TransportVersion.java b/server/src/main/java/org/elasticsearch/TransportVersion.java\nindex f130f7d6..783798c6 100644\n--- a/server/src/main/java/org/elasticsearch/TransportVersion.java\n+++ b/server/src/main/java/org/elasticsearch/TransportVersion.java\n@@ -12,6 +12,7 @@ package org.elasticsearch;\n import org.elasticsearch.common.VersionId;\n import org.elasticsearch.common.io.stream.StreamInput;\n import org.elasticsearch.common.io.stream.StreamOutput;\n+import org.elasticsearch.common.xcontent.SuggestingErrorOnUnknown;\n import org.elasticsearch.internal.VersionExtension;\n import org.elasticsearch.plugins.ExtensionLoader;\n \n@@ -239,7 +240,8 @@ public record TransportVersion(String name, int id, TransportVersion nextPatchVe\n     public static TransportVersion fromName(String name) {\n         TransportVersion known = VersionsHolder.ALL_VERSIONS_BY_NAME.get(name);\n         if (known == null) {\n-            throw new IllegalStateException(\"unknown transport version [\" + name + \"]\");\n+            String suggestion = SuggestingErrorOnUnknown.suggest(name, VersionsHolder.ALL_VERSIONS_BY_NAME.keySet());\n+            throw new IllegalStateException(\"unknown transport version [\" + name + \"]\" + suggestion);\n         }\n         return known;\n     }\ndiff --git a/server/src/test/java/org/elasticsearch/TransportVersionTests.java b/server/src/test/java/org/elasticsearch/TransportVersionTests.java\nindex e51ca0c5..8205d033 100644\n--- a/server/src/test/java/org/elasticsearch/TransportVersionTests.java\n+++ b/server/src/test/java/org/elasticsearch/TransportVersionTests.java\n@@ -128,6 +128,28 @@ public class TransportVersionTests extends ESTestCase {\n         }\n     }\n \n+    public void testFromNameSuggestsSimilarTransportVersionNames() {\n+        TransportVersion namedVersion = TransportVersion.getAllVersions()\n+            .stream()\n+            .filter(tv -> tv.name() != null)\n+            .findFirst()\n+            .orElseThrow();\n+        String typo = namedVersion.name() + \"x\";\n+\n+        IllegalStateException e = expectThrows(IllegalStateException.class, () -> TransportVersion.fromName(typo));\n+        assertThat(e.getMessage(), containsString(\"unknown transport version [\" + typo + \"]\"));\n+        assertThat(e.getMessage(), containsString(\"did you mean [\" + namedVersion.name() + \"]?\"));\n+    }\n+\n+    public void testFromNameWithoutSuggestion() {\n+        String unknown = randomAlphaOfLengthBetween(10, 15);\n+        while (TransportVersion.getAllVersions().stream().anyMatch(tv -> unknown.equals(tv.name()))) {\n+            unknown = randomAlphaOfLengthBetween(10, 15);\n+        }\n+        IllegalStateException e = expectThrows(IllegalStateException.class, () -> TransportVersion.fromName(unknown));\n+        assertEquals(\"unknown transport version [\" + unknown + \"]\", e.getMessage());\n+    }\n+\n     public void testMin() {\n         assertEquals(\n             TransportVersionUtils.getPreviousVersion(),",
  "logs_path": "codex/gpt-5.1-codex/93548e0a/elastic_elasticsearch_pr134506/logs.jsonl",
  "errors": [],
  "edit_run_id": "fd5b3480",
  "test_label": "v1-agent-comparison"
}