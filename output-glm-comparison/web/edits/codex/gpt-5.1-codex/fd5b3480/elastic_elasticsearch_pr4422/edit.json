{
  "repo_url": "https://github.com/elastic/elasticsearch.git",
  "pr_number": 4422,
  "base_commit": "bb275166f1a1f20f5330691ab854d6dc61c51366",
  "runner": "codex",
  "model": "gpt-5.1-codex",
  "timeout_s": 10800,
  "status": "success",
  "elapsed_ms": 97315,
  "patch_unified": "diff --git a/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexResponse.java b/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexResponse.java\nindex 7052861..59fdd23 100644\n--- a/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexResponse.java\n+++ b/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexResponse.java\n@@ -19,7 +19,7 @@\n \n package org.elasticsearch.action.admin.indices.create;\n \n-import org.elasticsearch.action.ActionResponse;\n+import org.elasticsearch.action.support.master.AcknowledgedResponse;\n import org.elasticsearch.common.io.stream.StreamInput;\n import org.elasticsearch.common.io.stream.StreamOutput;\n \n@@ -28,34 +28,24 @@ import java.io.IOException;\n /**\n  * A response for a create index action.\n  */\n-public class CreateIndexResponse extends ActionResponse {\n-\n-    private boolean acknowledged;\n+public class CreateIndexResponse extends AcknowledgedResponse {\n \n     CreateIndexResponse() {\n     }\n \n     CreateIndexResponse(boolean acknowledged) {\n-        this.acknowledged = acknowledged;\n-    }\n-\n-    /**\n-     * Has the index creation been acknowledged by all current cluster nodes within the\n-     * provided {@link CreateIndexRequest#timeout(org.elasticsearch.common.unit.TimeValue)}.\n-     */\n-    public boolean isAcknowledged() {\n-        return acknowledged;\n+        super(acknowledged);\n     }\n \n     @Override\n     public void readFrom(StreamInput in) throws IOException {\n         super.readFrom(in);\n-        acknowledged = in.readBoolean();\n+        readAcknowledged(in);\n     }\n \n     @Override\n     public void writeTo(StreamOutput out) throws IOException {\n         super.writeTo(out);\n-        out.writeBoolean(acknowledged);\n+        writeAcknowledged(out);\n     }\n }\ndiff --git a/src/main/java/org/elasticsearch/rest/action/admin/indices/create/RestCreateIndexAction.java b/src/main/java/org/elasticsearch/rest/action/admin/indices/create/RestCreateIndexAction.java\nindex 90cb970..5f97bf4 100644\n--- a/src/main/java/org/elasticsearch/rest/action/admin/indices/create/RestCreateIndexAction.java\n+++ b/src/main/java/org/elasticsearch/rest/action/admin/indices/create/RestCreateIndexAction.java\n@@ -19,20 +19,15 @@\n \n package org.elasticsearch.rest.action.admin.indices.create;\n \n-import org.elasticsearch.action.ActionListener;\n import org.elasticsearch.action.admin.indices.create.CreateIndexRequest;\n import org.elasticsearch.action.admin.indices.create.CreateIndexResponse;\n import org.elasticsearch.client.Client;\n import org.elasticsearch.common.inject.Inject;\n import org.elasticsearch.common.settings.Settings;\n-import org.elasticsearch.common.xcontent.XContentBuilder;\n import org.elasticsearch.rest.*;\n-import org.elasticsearch.rest.action.support.RestXContentBuilder;\n \n import java.io.IOException;\n \n-import static org.elasticsearch.rest.RestStatus.OK;\n-\n /**\n  *\n  */\n@@ -66,29 +61,6 @@ public class RestCreateIndexAction extends BaseRestHandler {\n         createIndexRequest.timeout(request.paramAsTime(\"timeout\", createIndexRequest.timeout()));\n         createIndexRequest.masterNodeTimeout(request.paramAsTime(\"master_timeout\", createIndexRequest.masterNodeTimeout()));\n \n-        client.admin().indices().create(createIndexRequest, new ActionListener<CreateIndexResponse>() {\n-            @Override\n-            public void onResponse(CreateIndexResponse response) {\n-                try {\n-                    XContentBuilder builder = RestXContentBuilder.restContentBuilder(request);\n-                    builder.startObject()\n-                            .field(\"ok\", true)\n-                            .field(\"acknowledged\", response.isAcknowledged())\n-                            .endObject();\n-                    channel.sendResponse(new XContentRestResponse(request, OK, builder));\n-                } catch (Throwable e) {\n-                    onFailure(e);\n-                }\n-            }\n-\n-            @Override\n-            public void onFailure(Throwable e) {\n-                try {\n-                    channel.sendResponse(new XContentThrowableRestResponse(request, e));\n-                } catch (IOException e1) {\n-                    logger.error(\"Failed to send failure response\", e1);\n-                }\n-            }\n-        });\n+        client.admin().indices().create(createIndexRequest, new AcknowledgedRestResponseActionListener<CreateIndexResponse>(request, channel, logger));\n     }\n }",
  "logs_path": "codex/gpt-5.1-codex/bdf2fcfe/elastic_elasticsearch_pr4422/logs.jsonl",
  "errors": [],
  "edit_run_id": "fd5b3480",
  "test_label": "v1-agent-comparison"
}