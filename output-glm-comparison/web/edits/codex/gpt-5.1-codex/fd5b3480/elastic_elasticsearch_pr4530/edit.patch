diff --git a/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
index a394166..0c79048 100644
--- a/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
+++ b/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java
@@ -482,9 +482,26 @@ public class MetaDataCreateIndexService extends AbstractComponent {
                     try {
                         byte[] templatesData = Streams.copyToByteArray(templatesFile);
                         parser = XContentHelper.createParser(templatesData, 0, templatesData.length);
-                        IndexTemplateMetaData template = IndexTemplateMetaData.Builder.fromXContent(parser);
-                        if (Regex.simpleMatch(template.template(), request.index)) {
-                            templates.add(template);
+                        XContentParser.Token token = parser.nextToken();
+                        if (token == null) {
+                            continue;
+                        }
+                        if (token != XContentParser.Token.START_OBJECT) {
+                            logger.warn("[{}] failed to parse template [{}] from config, not starting with object", request.index, templatesFile.getAbsolutePath());
+                            continue;
+                        }
+                        String currentFieldName = null;
+                        while ((token = parser.nextToken()) != XContentParser.Token.END_OBJECT) {
+                            if (token == XContentParser.Token.FIELD_NAME) {
+                                currentFieldName = parser.currentName();
+                            } else if (token == XContentParser.Token.START_OBJECT) {
+                                IndexTemplateMetaData template = IndexTemplateMetaData.Builder.fromXContent(parser);
+                                if (Regex.simpleMatch(template.template(), request.index)) {
+                                    templates.add(template);
+                                }
+                            } else {
+                                parser.skipChildren();
+                            }
                         }
                     } catch (Exception e) {
                         logger.warn("[{}] failed to read template [{}] from config", e, request.index, templatesFile.getAbsolutePath());