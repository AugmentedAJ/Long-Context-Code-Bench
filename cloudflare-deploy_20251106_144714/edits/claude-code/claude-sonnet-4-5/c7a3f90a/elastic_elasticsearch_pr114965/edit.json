{
  "repo_url": "https://github.com/elastic/elasticsearch.git",
  "pr_number": 114965,
  "base_commit": "64ae0aea45036be62aec076717816a27aa006437",
  "runner": "claude-code",
  "model": "claude-sonnet-4-5",
  "timeout_s": 1200,
  "status": "success",
  "elapsed_ms": 139877,
  "patch_unified": "diff --git a/docs/reference/esql/esql-kibana.asciidoc b/docs/reference/esql/esql-kibana.asciidoc\nindex 5da8b932..81a42a37 100644\n--- a/docs/reference/esql/esql-kibana.asciidoc\n+++ b/docs/reference/esql/esql-kibana.asciidoc\n@@ -175,16 +175,64 @@ To display data within a specified time range, use the\n {kibana-ref}/set-time-filter.html[time filter]. The time filter is only enabled\n when the indices you're querying have a field called `@timestamp`.\n \n-If your indices do not have a timestamp field called `@timestamp`, you can limit\n-the time range using the <<esql-where>> command and the <<esql-now>> function.\n-For example, if the timestamp field is called `timestamp`, to query the last 15\n-minutes of data:\n+[discrete]\n+[[esql-kibana-time-filter-params]]\n+==== Using the Kibana time filter\n+\n+When you select a time range in Kibana's time filter, Kibana automatically\n+applies the filter to your {esql} query by adding two named parameters:\n+`?_tstart` and `?_tend`. These parameters represent the start and end of the\n+selected time range.\n+\n+You can reference these parameters in your query using the <<esql-where>>\n+command. For example:\n+\n+[source,esql]\n+----\n+FROM kibana_sample_data_logs\n+| WHERE @timestamp >= ?_tstart AND @timestamp < ?_tend\n+----\n+\n+This is useful when you want to:\n+\n+* Apply additional time-based filters beyond the standard time filter\n+* Use the time filter values in calculations or aggregations\n+* Filter on the `@timestamp` field in combination with other conditions\n+\n+[discrete]\n+[[esql-kibana-time-filter-custom]]\n+==== Custom time filtering\n+\n+If your indices do not have a timestamp field called `@timestamp`, you can use\n+the `?_tstart` and `?_tend` parameters with your custom timestamp field:\n+\n+[source,esql]\n+----\n+FROM kibana_sample_data_logs\n+| WHERE timestamp >= ?_tstart AND timestamp < ?_tend\n+----\n+\n+Alternatively, you can limit the time range using the <<esql-where>> command and\n+the <<esql-now>> function. For example, to query the last 15 minutes of data:\n+\n [source,esql]\n ----\n FROM kibana_sample_data_logs\n | WHERE timestamp > NOW() - 15minutes\n ----\n \n+You can also use the `?_tstart` and `?_tend` parameters with the <<esql-bucket>>\n+function to create time buckets that align with the selected time range:\n+\n+[source,esql]\n+----\n+FROM kibana_sample_data_logs\n+| WHERE @timestamp >= ?_tstart AND @timestamp < ?_tend\n+| STATS count = COUNT(*) BY bucket = BUCKET(@timestamp, 50, ?_tstart, ?_tend)\n+----\n+\n+This creates 50 auto-incrementing time buckets spanning the selected time range.\n+\n [discrete]\n [[esql-kibana-visualizations]]\n === Analyze and visualize data",
  "logs_path": "claude-code/claude-sonnet-4-5/c7a3f90a/elastic_elasticsearch_pr114965/logs.jsonl",
  "errors": [],
  "edit_run_id": "c7a3f90a",
  "test_label": "v0"
}