{
  "repo_url": "https://github.com/elastic/elasticsearch.git",
  "pr_number": 114854,
  "base_commit": "9770ab7ac2da950b916743507abf8f9e73e084c7",
  "runner": "claude-code",
  "model": "claude-sonnet-4-5",
  "timeout_s": 1200,
  "status": "success",
  "elapsed_ms": 178935,
  "patch_unified": "diff --git a/server/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java b/server/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java\nindex 6d427aac..708b025e 100644\n--- a/server/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java\n+++ b/server/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java\n@@ -429,6 +429,12 @@ public final class SearchSourceBuilder implements Writeable, ToXContentObject, R\n      * Sets the sub searches for this request.\n      */\n     public SearchSourceBuilder subSearches(List<SubSearchSourceBuilder> subSearchSourceBuilders) {\n+        deprecationLogger.critical(\n+            DeprecationCategory.API,\n+            \"search_api_sub_searches_field\",\n+            \"The [sub_searches] field in the search request body is deprecated and will be removed in a future version. \"\n+                + \"Use the [retriever] field instead.\"\n+        );\n         Objects.requireNonNull(subSearchSourceBuilders);\n         this.subSearchSourceBuilders = subSearchSourceBuilders;\n         return this;\n@@ -475,6 +481,12 @@ public final class SearchSourceBuilder implements Writeable, ToXContentObject, R\n     }\n \n     public SearchSourceBuilder rankBuilder(RankBuilder rankBuilder) {\n+        deprecationLogger.critical(\n+            DeprecationCategory.API,\n+            \"search_api_rank_field\",\n+            \"The [rank] field in the search request body is deprecated and will be removed in a future version. \"\n+                + \"Use the [retriever] field instead.\"\n+        );\n         this.rankBuilder = rankBuilder;\n         return this;\n     }\n@@ -1418,6 +1430,12 @@ public final class SearchSourceBuilder implements Writeable, ToXContentObject, R\n                     if (RANK_SUPPORTED == false) {\n                         throwUnknownKey(parser, token, currentFieldName);\n                     }\n+                    deprecationLogger.critical(\n+                        DeprecationCategory.API,\n+                        \"search_api_rank_field\",\n+                        \"The [rank] field in the search request body is deprecated and will be removed in a future version. \"\n+                            + \"Use the [retriever] field instead.\"\n+                    );\n                     if (parser.nextToken() != XContentParser.Token.FIELD_NAME) {\n                         throw new ParsingException(\n                             parser.getTokenLocation(),\n@@ -1605,6 +1623,12 @@ public final class SearchSourceBuilder implements Writeable, ToXContentObject, R\n                     if (RANK_SUPPORTED == false) {\n                         throwUnknownKey(parser, token, currentFieldName);\n                     }\n+                    deprecationLogger.critical(\n+                        DeprecationCategory.API,\n+                        \"search_api_sub_searches_field\",\n+                        \"The [sub_searches] field in the search request body is deprecated and will be removed in a future version. \"\n+                            + \"Use the [retriever] field instead.\"\n+                    );\n                     if (subSearchSourceBuilders.isEmpty() == false) {\n                         throw new IllegalArgumentException(\n                             \"cannot specify field [\" + currentFieldName + \"] and field [\" + QUERY_FIELD.getPreferredName() + \"]\"",
  "logs_path": "claude-code/claude-sonnet-4-5/c7a3f90a/elastic_elasticsearch_pr114854/logs.jsonl",
  "errors": [],
  "edit_run_id": "c7a3f90a",
  "test_label": "v0"
}