{
  "repo_url": "https://github.com/elastic/elasticsearch.git",
  "pr_number": 114971,
  "base_commit": "91e1e02edcd877e7b347156f5f9ef39e62bce211",
  "runner": "factory",
  "model": "claude-sonnet-4-5-20250929",
  "timeout_s": 7200,
  "status": "success",
  "elapsed_ms": 1013681,
  "patch_unified": "diff --git a/modules/ingest-geoip/src/main/java/org/elasticsearch/ingest/geoip/GeoIpTaskState.java b/modules/ingest-geoip/src/main/java/org/elasticsearch/ingest/geoip/GeoIpTaskState.java\nindex 09ed1056..bf05d9b2 100644\n--- a/modules/ingest-geoip/src/main/java/org/elasticsearch/ingest/geoip/GeoIpTaskState.java\n+++ b/modules/ingest-geoip/src/main/java/org/elasticsearch/ingest/geoip/GeoIpTaskState.java\n@@ -44,7 +44,7 @@ import static org.elasticsearch.xcontent.ConstructingObjectParser.optionalConstr\n public class GeoIpTaskState implements PersistentTaskState, VersionedNamedWriteable {\n \n     private static boolean includeSha256(TransportVersion version) {\n-        return version.isPatchFrom(TransportVersions.ENTERPRISE_GEOIP_DOWNLOADER_BACKPORT_8_15)\n+        return version.isPatchFrom(TransportVersions.V_8_15_0)\n             || version.onOrAfter(TransportVersions.ENTERPRISE_GEOIP_DOWNLOADER);\n     }\n \ndiff --git a/server/src/internalClusterTest/java/org/elasticsearch/search/rank/FieldBasedRerankerIT.java b/server/src/internalClusterTest/java/org/elasticsearch/search/rank/FieldBasedRerankerIT.java\nindex 027b223e..c8c1f504 100644\n--- a/server/src/internalClusterTest/java/org/elasticsearch/search/rank/FieldBasedRerankerIT.java\n+++ b/server/src/internalClusterTest/java/org/elasticsearch/search/rank/FieldBasedRerankerIT.java\n@@ -234,7 +234,7 @@ public class FieldBasedRerankerIT extends AbstractRerankerIT {\n \n         @Override\n         public TransportVersion getMinimalSupportedVersion() {\n-            return TransportVersions.RANK_FEATURE_PHASE_ADDED;\n+            return TransportVersions.V_8_15_0;\n         }\n     }\n \ndiff --git a/server/src/internalClusterTest/java/org/elasticsearch/search/rank/MockedRequestActionBasedRerankerIT.java b/server/src/internalClusterTest/java/org/elasticsearch/search/rank/MockedRequestActionBasedRerankerIT.java\nindex ce9ce7b9..dbdd6e8c 100644\n--- a/server/src/internalClusterTest/java/org/elasticsearch/search/rank/MockedRequestActionBasedRerankerIT.java\n+++ b/server/src/internalClusterTest/java/org/elasticsearch/search/rank/MockedRequestActionBasedRerankerIT.java\n@@ -424,7 +424,7 @@ public class MockedRequestActionBasedRerankerIT extends AbstractRerankerIT {\n \n         @Override\n         public TransportVersion getMinimalSupportedVersion() {\n-            return TransportVersions.RANK_FEATURE_PHASE_ADDED;\n+            return TransportVersions.V_8_15_0;\n         }\n     }\n \ndiff --git a/server/src/main/java/org/elasticsearch/ElasticsearchException.java b/server/src/main/java/org/elasticsearch/ElasticsearchException.java\nindex 5d04e310..a349e50a 100644\n--- a/server/src/main/java/org/elasticsearch/ElasticsearchException.java\n+++ b/server/src/main/java/org/elasticsearch/ElasticsearchException.java\n@@ -1923,7 +1923,7 @@ public class ElasticsearchException extends RuntimeException implements ToXConte\n             ResourceAlreadyUploadedException.class,\n             ResourceAlreadyUploadedException::new,\n             181,\n-            TransportVersions.ADD_RESOURCE_ALREADY_UPLOADED_EXCEPTION\n+            TransportVersions.V_8_15_0\n         ),\n         INGEST_PIPELINE_EXCEPTION(\n             org.elasticsearch.ingest.IngestPipelineException.class,\ndiff --git a/server/src/main/java/org/elasticsearch/TransportVersions.java b/server/src/main/java/org/elasticsearch/TransportVersions.java\nindex a504087d..dbffce05 100644\n--- a/server/src/main/java/org/elasticsearch/TransportVersions.java\n+++ b/server/src/main/java/org/elasticsearch/TransportVersions.java\n@@ -102,80 +102,8 @@ public class TransportVersions {\n     public static final TransportVersion V_8_13_0 = def(8_595_00_0);\n     public static final TransportVersion V_8_13_4 = def(8_595_00_1);\n     public static final TransportVersion V_8_14_0 = def(8_636_00_1);\n-    // 8.15.0+\n-    public static final TransportVersion WATERMARK_THRESHOLDS_STATS = def(8_637_00_0);\n-    public static final TransportVersion ENRICH_CACHE_ADDITIONAL_STATS = def(8_638_00_0);\n-    public static final TransportVersion ML_INFERENCE_RATE_LIMIT_SETTINGS_ADDED = def(8_639_00_0);\n-    public static final TransportVersion ML_TRAINED_MODEL_CACHE_METADATA_ADDED = def(8_640_00_0);\n-    public static final TransportVersion TOP_LEVEL_KNN_SUPPORT_QUERY_NAME = def(8_641_00_0);\n-    public static final TransportVersion INDEX_SEGMENTS_VECTOR_FORMATS = def(8_642_00_0);\n-    public static final TransportVersion ADD_RESOURCE_ALREADY_UPLOADED_EXCEPTION = def(8_643_00_0);\n-    public static final TransportVersion ESQL_MV_ORDERING_SORTED_ASCENDING = def(8_644_00_0);\n-    public static final TransportVersion ESQL_PAGE_MAPPING_TO_ITERATOR = def(8_645_00_0);\n-    public static final TransportVersion BINARY_PIT_ID = def(8_646_00_0);\n-    public static final TransportVersion SECURITY_ROLE_MAPPINGS_IN_CLUSTER_STATE = def(8_647_00_0);\n-    public static final TransportVersion ESQL_REQUEST_TABLES = def(8_648_00_0);\n-    public static final TransportVersion ROLE_REMOTE_CLUSTER_PRIVS = def(8_649_00_0);\n-    public static final TransportVersion NO_GLOBAL_RETENTION_FOR_SYSTEM_DATA_STREAMS = def(8_650_00_0);\n-    public static final TransportVersion SHUTDOWN_REQUEST_TIMEOUTS_FIX = def(8_651_00_0);\n-    public static final TransportVersion INDEXING_PRESSURE_REQUEST_REJECTIONS_COUNT = def(8_652_00_0);\n-    public static final TransportVersion ROLLUP_USAGE = def(8_653_00_0);\n-    public static final TransportVersion SECURITY_ROLE_DESCRIPTION = def(8_654_00_0);\n-    public static final TransportVersion ML_INFERENCE_AZURE_OPENAI_COMPLETIONS = def(8_655_00_0);\n-    public static final TransportVersion JOIN_STATUS_AGE_SERIALIZATION = def(8_656_00_0);\n-    public static final TransportVersion ML_RERANK_DOC_OPTIONAL = def(8_657_00_0);\n-    public static final TransportVersion FAILURE_STORE_FIELD_PARITY = def(8_658_00_0);\n-    public static final TransportVersion ML_INFERENCE_AZURE_AI_STUDIO = def(8_659_00_0);\n-    public static final TransportVersion ML_INFERENCE_COHERE_COMPLETION_ADDED = def(8_660_00_0);\n-    public static final TransportVersion ESQL_REMOVE_ES_SOURCE_OPTIONS = def(8_661_00_0);\n-    public static final TransportVersion NODE_STATS_INGEST_BYTES = def(8_662_00_0);\n-    public static final TransportVersion SEMANTIC_QUERY = def(8_663_00_0);\n-    public static final TransportVersion GET_AUTOSCALING_CAPACITY_UNUSED_TIMEOUT = def(8_664_00_0);\n-    public static final TransportVersion SIMULATE_VALIDATES_MAPPINGS = def(8_665_00_0);\n-    public static final TransportVersion RULE_QUERY_RENAME = def(8_666_00_0);\n-    public static final TransportVersion SPARSE_VECTOR_QUERY_ADDED = def(8_667_00_0);\n-    public static final TransportVersion ESQL_ADD_INDEX_MODE_TO_SOURCE = def(8_668_00_0);\n-    public static final TransportVersion GET_SHUTDOWN_STATUS_TIMEOUT = def(8_669_00_0);\n-    public static final TransportVersion FAILURE_STORE_TELEMETRY = def(8_670_00_0);\n-    public static final TransportVersion ADD_METADATA_FLATTENED_TO_ROLES = def(8_671_00_0);\n-    public static final TransportVersion ML_INFERENCE_GOOGLE_AI_STUDIO_COMPLETION_ADDED = def(8_672_00_0);\n-    public static final TransportVersion WATCHER_REQUEST_TIMEOUTS = def(8_673_00_0);\n-    public static final TransportVersion ML_INFERENCE_ENHANCE_DELETE_ENDPOINT = def(8_674_00_0);\n-    public static final TransportVersion ML_INFERENCE_GOOGLE_AI_STUDIO_EMBEDDINGS_ADDED = def(8_675_00_0);\n-    public static final TransportVersion ADD_MISTRAL_EMBEDDINGS_INFERENCE = def(8_676_00_0);\n-    public static final TransportVersion ML_CHUNK_INFERENCE_OPTION = def(8_677_00_0);\n-    public static final TransportVersion RANK_FEATURE_PHASE_ADDED = def(8_678_00_0);\n-    public static final TransportVersion RANK_DOC_IN_SHARD_FETCH_REQUEST = def(8_679_00_0);\n-    public static final TransportVersion SECURITY_SETTINGS_REQUEST_TIMEOUTS = def(8_680_00_0);\n-    public static final TransportVersion QUERY_RULE_CRUD_API_PUT = def(8_681_00_0);\n-    public static final TransportVersion DROP_UNUSED_NODES_REQUESTS = def(8_682_00_0);\n-    public static final TransportVersion QUERY_RULE_CRUD_API_GET_DELETE = def(8_683_00_0);\n-    public static final TransportVersion MORE_LIGHTER_NODES_REQUESTS = def(8_684_00_0);\n-    public static final TransportVersion DROP_UNUSED_NODES_IDS = def(8_685_00_0);\n-    public static final TransportVersion DELETE_SNAPSHOTS_ASYNC_ADDED = def(8_686_00_0);\n-    public static final TransportVersion VERSION_SUPPORTING_SPARSE_VECTOR_STATS = def(8_687_00_0);\n-    public static final TransportVersion ML_AD_OUTPUT_MEMORY_ALLOCATOR_FIELD = def(8_688_00_0);\n-    public static final TransportVersion FAILURE_STORE_LAZY_CREATION = def(8_689_00_0);\n-    public static final TransportVersion SNAPSHOT_REQUEST_TIMEOUTS = def(8_690_00_0);\n-    public static final TransportVersion INDEX_METADATA_MAPPINGS_UPDATED_VERSION = def(8_691_00_0);\n-    public static final TransportVersion ML_INFERENCE_ELAND_SETTINGS_ADDED = def(8_692_00_0);\n-    public static final TransportVersion ML_ANTHROPIC_INTEGRATION_ADDED = def(8_693_00_0);\n-    public static final TransportVersion ML_INFERENCE_GOOGLE_VERTEX_AI_EMBEDDINGS_ADDED = def(8_694_00_0);\n-    public static final TransportVersion EVENT_INGESTED_RANGE_IN_CLUSTER_STATE = def(8_695_00_0);\n-    public static final TransportVersion ESQL_ADD_AGGREGATE_TYPE = def(8_696_00_0);\n-    public static final TransportVersion SECURITY_MIGRATIONS_MIGRATION_NEEDED_ADDED = def(8_697_00_0);\n-    public static final TransportVersion K_FOR_KNN_QUERY_ADDED = def(8_698_00_0);\n-    public static final TransportVersion TEXT_SIMILARITY_RERANKER_RETRIEVER = def(8_699_00_0);\n-    public static final TransportVersion ML_INFERENCE_GOOGLE_VERTEX_AI_RERANKING_ADDED = def(8_700_00_0);\n-    public static final TransportVersion VERSIONED_MASTER_NODE_REQUESTS = def(8_701_00_0);\n-    public static final TransportVersion ML_INFERENCE_AMAZON_BEDROCK_ADDED = def(8_702_00_0);\n-    public static final TransportVersion ENTERPRISE_GEOIP_DOWNLOADER_BACKPORT_8_15 = def(8_702_00_1);\n-    public static final TransportVersion FIX_VECTOR_SIMILARITY_INNER_HITS_BACKPORT_8_15 = def(8_702_00_2);\n-    /**\n-     * we made a single backport for ESQL_ES_FIELD_CACHED_SERIALIZATION and ESQL_ATTRIBUTE_CACHED_SERIALIZATION\n-     * with only one TransportVersion entry\n-     */\n-    public static final TransportVersion ESQL_ATTRIBUTE_CACHED_SERIALIZATION_8_15 = def(8_702_00_3);\n+    public static final TransportVersion V_8_15_0 = def(8_702_00_2);\n+    public static final TransportVersion V_8_15_2 = def(8_702_00_3);\n     public static final TransportVersion ML_INFERENCE_DONT_DELETE_WHEN_SEMANTIC_TEXT_EXISTS = def(8_703_00_0);\n     public static final TransportVersion INFERENCE_ADAPTIVE_ALLOCATIONS = def(8_704_00_0);\n     public static final TransportVersion INDEX_REQUEST_UPDATE_BY_SCRIPT_ORIGIN = def(8_705_00_0);\n@@ -310,7 +238,7 @@ public class TransportVersions {\n      * Reference to the minimum transport version that can be used with CCS.\n      * This should be the transport version used by the previous minor release.\n      */\n-    public static final TransportVersion MINIMUM_CCS_VERSION = ESQL_ATTRIBUTE_CACHED_SERIALIZATION_8_15;\n+    public static final TransportVersion MINIMUM_CCS_VERSION = V_8_15_0;\n \n     static final NavigableMap<Integer, TransportVersion> VERSION_IDS = getAllVersionIds(TransportVersions.class);\n \ndiff --git a/server/src/main/java/org/elasticsearch/action/admin/cluster/allocation/TransportGetAllocationStatsAction.java b/server/src/main/java/org/elasticsearch/action/admin/cluster/allocation/TransportGetAllocationStatsAction.java\nindex 259a244b..e14f229f 100644\n--- a/server/src/main/java/org/elasticsearch/action/admin/cluster/allocation/TransportGetAllocationStatsAction.java\n+++ b/server/src/main/java/org/elasticsearch/action/admin/cluster/allocation/TransportGetAllocationStatsAction.java\n@@ -156,7 +156,7 @@ public class TransportGetAllocationStatsAction extends TransportMasterNodeReadAc\n         public Response(StreamInput in) throws IOException {\n             super(in);\n             this.nodeAllocationStats = in.readImmutableMap(StreamInput::readString, NodeAllocationStats::new);\n-            if (in.getTransportVersion().onOrAfter(TransportVersions.WATERMARK_THRESHOLDS_STATS)) {\n+            if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 this.diskThresholdSettings = in.readOptionalWriteable(DiskThresholdSettings::readFrom);\n             } else {\n                 this.diskThresholdSettings = null;\n@@ -166,7 +166,7 @@ public class TransportGetAllocationStatsAction extends TransportMasterNodeReadAc\n         @Override\n         public void writeTo(StreamOutput out) throws IOException {\n             out.writeMap(nodeAllocationStats, StreamOutput::writeString, StreamOutput::writeWriteable);\n-            if (out.getTransportVersion().onOrAfter(TransportVersions.WATERMARK_THRESHOLDS_STATS)) {\n+            if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 out.writeOptionalWriteable(diskThresholdSettings);\n             } else {\n                 assert diskThresholdSettings == null;\ndiff --git a/server/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/TransportNodesHotThreadsAction.java b/server/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/TransportNodesHotThreadsAction.java\nindex f1e24258..25f3a53a 100644\n--- a/server/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/TransportNodesHotThreadsAction.java\n+++ b/server/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/TransportNodesHotThreadsAction.java\n@@ -117,14 +117,14 @@ public class TransportNodesHotThreadsAction extends TransportNodesAction<\n \n         NodeRequest(StreamInput in) throws IOException {\n             super(in);\n-            skipLegacyNodesRequestHeader(TransportVersions.MORE_LIGHTER_NODES_REQUESTS, in);\n+            skipLegacyNodesRequestHeader(TransportVersions.V_8_15_0, in);\n             requestOptions = HotThreads.RequestOptions.readFrom(in);\n         }\n \n         @Override\n         public void writeTo(StreamOutput out) throws IOException {\n             super.writeTo(out);\n-            sendLegacyNodesRequestHeader(TransportVersions.MORE_LIGHTER_NODES_REQUESTS, out);\n+            sendLegacyNodesRequestHeader(TransportVersions.V_8_15_0, out);\n             requestOptions.writeTo(out);\n         }\n     }\ndiff --git a/server/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java b/server/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java\nindex 379ebe80..e9cff9c1 100644\n--- a/server/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java\n+++ b/server/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java\n@@ -168,7 +168,7 @@ public class TransportNodesStatsAction extends TransportNodesAction<\n             skipLegacyNodesRequestHeader(TransportVersions.V_8_13_0, in);\n             this.nodesStatsRequestParameters = new NodesStatsRequestParameters(in);\n             if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_13_0)\n-                && in.getTransportVersion().before(TransportVersions.DROP_UNUSED_NODES_IDS)) {\n+                && in.getTransportVersion().before(TransportVersions.V_8_15_0)) {\n                 in.readStringArray(); // formerly nodeIds, now unused\n             }\n         }\n@@ -197,7 +197,7 @@ public class TransportNodesStatsAction extends TransportNodesAction<\n             sendLegacyNodesRequestHeader(TransportVersions.V_8_13_0, out);\n             nodesStatsRequestParameters.writeTo(out);\n             if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_13_0)\n-                && out.getTransportVersion().before(TransportVersions.DROP_UNUSED_NODES_IDS)) {\n+                && out.getTransportVersion().before(TransportVersions.V_8_15_0)) {\n                 out.writeStringArray(Strings.EMPTY_ARRAY); // formerly nodeIds, now unused\n             }\n         }\ndiff --git a/server/src/main/java/org/elasticsearch/action/admin/cluster/node/usage/TransportNodesUsageAction.java b/server/src/main/java/org/elasticsearch/action/admin/cluster/node/usage/TransportNodesUsageAction.java\nindex a55c5856..8ec451f4 100644\n--- a/server/src/main/java/org/elasticsearch/action/admin/cluster/node/usage/TransportNodesUsageAction.java\n+++ b/server/src/main/java/org/elasticsearch/action/admin/cluster/node/usage/TransportNodesUsageAction.java\n@@ -93,7 +93,7 @@ public class TransportNodesUsageAction extends TransportNodesAction<\n \n         public NodeUsageRequest(StreamInput in) throws IOException {\n             super(in);\n-            skipLegacyNodesRequestHeader(TransportVersions.MORE_LIGHTER_NODES_REQUESTS, in);\n+            skipLegacyNodesRequestHeader(TransportVersions.V_8_15_0, in);\n             restActions = in.readBoolean();\n             aggregations = in.readBoolean();\n         }\n@@ -106,7 +106,7 @@ public class TransportNodesUsageAction extends TransportNodesAction<\n         @Override\n         public void writeTo(StreamOutput out) throws IOException {\n             super.writeTo(out);\n-            sendLegacyNodesRequestHeader(TransportVersions.MORE_LIGHTER_NODES_REQUESTS, out);\n+            sendLegacyNodesRequestHeader(TransportVersions.V_8_15_0, out);\n             out.writeBoolean(restActions);\n             out.writeBoolean(aggregations);\n         }\ndiff --git a/server/src/main/java/org/elasticsearch/action/admin/cluster/repositories/cleanup/CleanupRepositoryRequest.java b/server/src/main/java/org/elasticsearch/action/admin/cluster/repositories/cleanup/CleanupRepositoryRequest.java\nindex 39fcb9fd..cdcf4bda 100644\n--- a/server/src/main/java/org/elasticsearch/action/admin/cluster/repositories/cleanup/CleanupRepositoryRequest.java\n+++ b/server/src/main/java/org/elasticsearch/action/admin/cluster/repositories/cleanup/CleanupRepositoryRequest.java\n@@ -29,7 +29,7 @@ public class CleanupRepositoryRequest extends AcknowledgedRequest<CleanupReposit\n     }\n \n     public static CleanupRepositoryRequest readFrom(StreamInput in) throws IOException {\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.SNAPSHOT_REQUEST_TIMEOUTS)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             return new CleanupRepositoryRequest(in);\n         } else {\n             return new CleanupRepositoryRequest(TimeValue.THIRTY_SECONDS, TimeValue.THIRTY_SECONDS, in);\n@@ -48,7 +48,7 @@ public class CleanupRepositoryRequest extends AcknowledgedRequest<CleanupReposit\n \n     @Override\n     public void writeTo(StreamOutput out) throws IOException {\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.SNAPSHOT_REQUEST_TIMEOUTS)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             super.writeTo(out);\n         }\n         out.writeString(repository);\ndiff --git a/server/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/DeleteSnapshotRequest.java b/server/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/DeleteSnapshotRequest.java\nindex 7d3c31a0..ab073f83 100644\n--- a/server/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/DeleteSnapshotRequest.java\n+++ b/server/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/DeleteSnapshotRequest.java\n@@ -51,7 +51,7 @@ public class DeleteSnapshotRequest extends MasterNodeRequest<DeleteSnapshotReque\n         super(in);\n         repository = in.readString();\n         snapshots = in.readStringArray();\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.DELETE_SNAPSHOTS_ASYNC_ADDED)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             waitForCompletion = in.readBoolean();\n         }\n     }\n@@ -61,7 +61,7 @@ public class DeleteSnapshotRequest extends MasterNodeRequest<DeleteSnapshotReque\n         super.writeTo(out);\n         out.writeString(repository);\n         out.writeStringArray(snapshots);\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.DELETE_SNAPSHOTS_ASYNC_ADDED)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeBoolean(waitForCompletion);\n         } else {\n             assert waitForCompletion : \"Using wait_for_completion parameter when it should have been disallowed\";\ndiff --git a/server/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/TransportDeleteSnapshotAction.java b/server/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/TransportDeleteSnapshotAction.java\nindex b28c2a8e..fe5abfe6 100644\n--- a/server/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/TransportDeleteSnapshotAction.java\n+++ b/server/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/TransportDeleteSnapshotAction.java\n@@ -64,7 +64,7 @@ public class TransportDeleteSnapshotAction extends AcknowledgedTransportMasterNo\n \n     @Override\n     protected void doExecute(Task task, DeleteSnapshotRequest request, ActionListener<AcknowledgedResponse> listener) {\n-        if (clusterService.state().getMinTransportVersion().before(TransportVersions.DELETE_SNAPSHOTS_ASYNC_ADDED)\n+        if (clusterService.state().getMinTransportVersion().before(TransportVersions.V_8_15_0)\n             && request.waitForCompletion() == false) {\n             throw new UnsupportedOperationException(\"wait_for_completion parameter is not supported by all nodes in this cluster\");\n         }\ndiff --git a/server/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java b/server/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java\nindex 48e0f3ac..113218a8 100644\n--- a/server/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java\n+++ b/server/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java\n@@ -315,7 +315,7 @@ public class TransportClusterStatsAction extends TransportNodesAction<\n \n         public ClusterStatsNodeRequest(StreamInput in) throws IOException {\n             super(in);\n-            skipLegacyNodesRequestHeader(TransportVersions.DROP_UNUSED_NODES_REQUESTS, in);\n+            skipLegacyNodesRequestHeader(TransportVersions.V_8_15_0, in);\n         }\n \n         @Override\n@@ -326,7 +326,7 @@ public class TransportClusterStatsAction extends TransportNodesAction<\n         @Override\n         public void writeTo(StreamOutput out) throws IOException {\n             super.writeTo(out);\n-            sendLegacyNodesRequestHeader(TransportVersions.DROP_UNUSED_NODES_REQUESTS, out);\n+            sendLegacyNodesRequestHeader(TransportVersions.V_8_15_0, out);\n         }\n     }\n \ndiff --git a/server/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java b/server/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java\nindex f4ac1a3f..c233ed57 100644\n--- a/server/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java\n+++ b/server/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java\n@@ -113,7 +113,7 @@ public class CreateIndexRequest extends AcknowledgedRequest<CreateIndexRequest>\n         } else {\n             requireDataStream = false;\n         }\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.FAILURE_STORE_LAZY_CREATION)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             initializeFailureStore = in.readBoolean();\n         } else {\n             initializeFailureStore = true;\n@@ -518,7 +518,7 @@ public class CreateIndexRequest extends AcknowledgedRequest<CreateIndexRequest>\n         if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_13_0)) {\n             out.writeBoolean(this.requireDataStream);\n         }\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.FAILURE_STORE_LAZY_CREATION)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeBoolean(this.initializeFailureStore);\n         }\n     }\ndiff --git a/server/src/main/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentsRequest.java b/server/src/main/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentsRequest.java\nindex 26447910..bdacfb0a 100644\n--- a/server/src/main/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentsRequest.java\n+++ b/server/src/main/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentsRequest.java\n@@ -34,7 +34,7 @@ public class IndicesSegmentsRequest extends BroadcastRequest<IndicesSegmentsRequ\n         if (in.getTransportVersion().before(TransportVersions.V_8_0_0)) {\n             in.readBoolean();   // old 'verbose' option, since removed\n         }\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.INDEX_SEGMENTS_VECTOR_FORMATS)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             this.includeVectorFormatsInfo = in.readBoolean();\n         }\n     }\n@@ -59,7 +59,7 @@ public class IndicesSegmentsRequest extends BroadcastRequest<IndicesSegmentsRequ\n         if (out.getTransportVersion().before(TransportVersions.V_8_0_0)) {\n             out.writeBoolean(false);\n         }\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.INDEX_SEGMENTS_VECTOR_FORMATS)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeBoolean(includeVectorFormatsInfo);\n         }\n     }\ndiff --git a/server/src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStats.java b/server/src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStats.java\nindex ddfe89cc..1351674f 100644\n--- a/server/src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStats.java\n+++ b/server/src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStats.java\n@@ -47,12 +47,11 @@ import org.elasticsearch.xcontent.XContentBuilder;\n import java.io.IOException;\n import java.util.Objects;\n \n-import static org.elasticsearch.TransportVersions.VERSION_SUPPORTING_SPARSE_VECTOR_STATS;\n-\n public class CommonStats implements Writeable, ToXContentFragment {\n \n     private static final TransportVersion VERSION_SUPPORTING_NODE_MAPPINGS = TransportVersions.V_8_5_0;\n     private static final TransportVersion VERSION_SUPPORTING_DENSE_VECTOR_STATS = TransportVersions.V_8_10_X;\n+    private static final TransportVersion VERSION_SUPPORTING_SPARSE_VECTOR_STATS = TransportVersions.V_8_15_0;\n \n     @Nullable\n     public DocsStats docs;\ndiff --git a/server/src/main/java/org/elasticsearch/action/bulk/BulkShardRequest.java b/server/src/main/java/org/elasticsearch/action/bulk/BulkShardRequest.java\nindex 8d8f60cc..406ba972 100644\n--- a/server/src/main/java/org/elasticsearch/action/bulk/BulkShardRequest.java\n+++ b/server/src/main/java/org/elasticsearch/action/bulk/BulkShardRequest.java\n@@ -43,7 +43,7 @@ public final class BulkShardRequest extends ReplicatedWriteRequest<BulkShardRequ\n     public BulkShardRequest(StreamInput in) throws IOException {\n         super(in);\n         items = in.readArray(i -> i.readOptionalWriteable(inpt -> new BulkItemRequest(shardId, inpt)), BulkItemRequest[]::new);\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.SIMULATE_VALIDATES_MAPPINGS)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             isSimulated = in.readBoolean();\n         } else {\n             isSimulated = false;\n@@ -132,7 +132,7 @@ public final class BulkShardRequest extends ReplicatedWriteRequest<BulkShardRequ\n         }\n         super.writeTo(out);\n         out.writeArray((o, item) -> o.writeOptional(BulkItemRequest.THIN_WRITER, item), items);\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.SIMULATE_VALIDATES_MAPPINGS)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeBoolean(isSimulated);\n         }\n     }\ndiff --git a/server/src/main/java/org/elasticsearch/action/datastreams/lifecycle/ExplainIndexDataStreamLifecycle.java b/server/src/main/java/org/elasticsearch/action/datastreams/lifecycle/ExplainIndexDataStreamLifecycle.java\nindex 94c29443..f9bd1359 100644\n--- a/server/src/main/java/org/elasticsearch/action/datastreams/lifecycle/ExplainIndexDataStreamLifecycle.java\n+++ b/server/src/main/java/org/elasticsearch/action/datastreams/lifecycle/ExplainIndexDataStreamLifecycle.java\n@@ -82,7 +82,7 @@ public class ExplainIndexDataStreamLifecycle implements Writeable, ToXContentObj\n     public ExplainIndexDataStreamLifecycle(StreamInput in) throws IOException {\n         this.index = in.readString();\n         this.managedByLifecycle = in.readBoolean();\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.NO_GLOBAL_RETENTION_FOR_SYSTEM_DATA_STREAMS)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             this.isInternalDataStream = in.readBoolean();\n         } else {\n             this.isInternalDataStream = false;\n@@ -165,7 +165,7 @@ public class ExplainIndexDataStreamLifecycle implements Writeable, ToXContentObj\n     public void writeTo(StreamOutput out) throws IOException {\n         out.writeString(index);\n         out.writeBoolean(managedByLifecycle);\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.NO_GLOBAL_RETENTION_FOR_SYSTEM_DATA_STREAMS)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeBoolean(isInternalDataStream);\n         }\n         if (managedByLifecycle) {\ndiff --git a/server/src/main/java/org/elasticsearch/action/datastreams/lifecycle/GetDataStreamLifecycleAction.java b/server/src/main/java/org/elasticsearch/action/datastreams/lifecycle/GetDataStreamLifecycleAction.java\nindex bd628c88..a43d2950 100644\n--- a/server/src/main/java/org/elasticsearch/action/datastreams/lifecycle/GetDataStreamLifecycleAction.java\n+++ b/server/src/main/java/org/elasticsearch/action/datastreams/lifecycle/GetDataStreamLifecycleAction.java\n@@ -173,7 +173,7 @@ public class GetDataStreamLifecycleAction {\n                 this(\n                     in.readString(),\n                     in.readOptionalWriteable(org.elasticsearch.cluster.metadata.DataStreamLifecycle::new),\n-                    in.getTransportVersion().onOrAfter(TransportVersions.NO_GLOBAL_RETENTION_FOR_SYSTEM_DATA_STREAMS) && in.readBoolean()\n+                    in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0) && in.readBoolean()\n                 );\n             }\n \n@@ -181,7 +181,7 @@ public class GetDataStreamLifecycleAction {\n             public void writeTo(StreamOutput out) throws IOException {\n                 out.writeString(dataStreamName);\n                 out.writeOptionalWriteable(lifecycle);\n-                if (out.getTransportVersion().onOrAfter(TransportVersions.NO_GLOBAL_RETENTION_FOR_SYSTEM_DATA_STREAMS)) {\n+                if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                     out.writeBoolean(isInternalDataStream);\n                 }\n             }\ndiff --git a/server/src/main/java/org/elasticsearch/action/ingest/SimulateIndexResponse.java b/server/src/main/java/org/elasticsearch/action/ingest/SimulateIndexResponse.java\nindex 1b930d5e..9d883cb0 100644\n--- a/server/src/main/java/org/elasticsearch/action/ingest/SimulateIndexResponse.java\n+++ b/server/src/main/java/org/elasticsearch/action/ingest/SimulateIndexResponse.java\n@@ -42,7 +42,7 @@ public class SimulateIndexResponse extends IndexResponse {\n         this.source = in.readBytesReference();\n         this.sourceXContentType = XContentType.valueOf(in.readString());\n         setShardInfo(ShardInfo.EMPTY);\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.SIMULATE_VALIDATES_MAPPINGS)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             this.exception = in.readException();\n         } else {\n             this.exception = null;\n@@ -102,7 +102,7 @@ public class SimulateIndexResponse extends IndexResponse {\n         super.writeTo(out);\n         out.writeBytesReference(source);\n         out.writeString(sourceXContentType.name());\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.SIMULATE_VALIDATES_MAPPINGS)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeException(exception);\n         }\n     }\ndiff --git a/server/src/main/java/org/elasticsearch/action/support/master/MasterNodeRequest.java b/server/src/main/java/org/elasticsearch/action/support/master/MasterNodeRequest.java\nindex a4ecd59e..10d8fe02 100644\n--- a/server/src/main/java/org/elasticsearch/action/support/master/MasterNodeRequest.java\n+++ b/server/src/main/java/org/elasticsearch/action/support/master/MasterNodeRequest.java\n@@ -76,7 +76,7 @@ public abstract class MasterNodeRequest<Request extends MasterNodeRequest<Reques\n     protected MasterNodeRequest(StreamInput in) throws IOException {\n         super(in);\n         masterNodeTimeout = in.readTimeValue();\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.VERSIONED_MASTER_NODE_REQUESTS)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             masterTerm = in.readVLong();\n         } else {\n             masterTerm = 0L;\n@@ -90,7 +90,7 @@ public abstract class MasterNodeRequest<Request extends MasterNodeRequest<Reques\n         assert masterTerm <= newMasterTerm : masterTerm + \" vs \" + newMasterTerm;\n         super.writeTo(out);\n         out.writeTimeValue(masterNodeTimeout);\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.VERSIONED_MASTER_NODE_REQUESTS)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeVLong(newMasterTerm);\n         } // else no protection against routing loops in older versions\n     }\ndiff --git a/server/src/main/java/org/elasticsearch/cluster/ClusterState.java b/server/src/main/java/org/elasticsearch/cluster/ClusterState.java\nindex 64df6e77..4a241ba5 100644\n--- a/server/src/main/java/org/elasticsearch/cluster/ClusterState.java\n+++ b/server/src/main/java/org/elasticsearch/cluster/ClusterState.java\n@@ -241,7 +241,7 @@ public class ClusterState implements ChunkedToXContent, Diffable<ClusterState> {\n     }\n \n     private boolean assertEventIngestedIsUnknownInMixedClusters(Metadata metadata, CompatibilityVersions compatibilityVersions) {\n-        if (compatibilityVersions.transportVersion().before(TransportVersions.EVENT_INGESTED_RANGE_IN_CLUSTER_STATE)\n+        if (compatibilityVersions.transportVersion().before(TransportVersions.V_8_15_0)\n             && metadata != null\n             && metadata.indices() != null) {\n             for (IndexMetadata indexMetadata : metadata.indices().values()) {\ndiff --git a/server/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java b/server/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java\nindex 4b848543..bd438d66 100644\n--- a/server/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java\n+++ b/server/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java\n@@ -722,7 +722,7 @@ public class ShardStateAction {\n                              */\n                             IndexLongFieldRange newEventIngestedMillisRange = IndexLongFieldRange.UNKNOWN;\n                             TransportVersion minTransportVersion = batchExecutionContext.initialState().getMinTransportVersion();\n-                            if (minTransportVersion.onOrAfter(TransportVersions.EVENT_INGESTED_RANGE_IN_CLUSTER_STATE)) {\n+                            if (minTransportVersion.onOrAfter(TransportVersions.V_8_15_0)) {\n                                 newEventIngestedMillisRange = currentEventIngestedMillisRange.extendWithShardRange(\n                                     startedShardEntry.shardId.id(),\n                                     indexMetadata.getNumberOfShards(),\n@@ -827,7 +827,7 @@ public class ShardStateAction {\n             primaryTerm = in.readVLong();\n             this.message = in.readString();\n             this.timestampRange = ShardLongFieldRange.readFrom(in);\n-            if (in.getTransportVersion().onOrAfter(TransportVersions.EVENT_INGESTED_RANGE_IN_CLUSTER_STATE)) {\n+            if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 this.eventIngestedRange = ShardLongFieldRange.readFrom(in);\n             } else {\n                 this.eventIngestedRange = ShardLongFieldRange.UNKNOWN;\n@@ -858,7 +858,7 @@ public class ShardStateAction {\n             out.writeVLong(primaryTerm);\n             out.writeString(message);\n             timestampRange.writeTo(out);\n-            if (out.getTransportVersion().onOrAfter(TransportVersions.EVENT_INGESTED_RANGE_IN_CLUSTER_STATE)) {\n+            if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 eventIngestedRange.writeTo(out);\n             }\n         }\ndiff --git a/server/src/main/java/org/elasticsearch/cluster/coordination/JoinStatus.java b/server/src/main/java/org/elasticsearch/cluster/coordination/JoinStatus.java\nindex 5182e018..89083848 100644\n--- a/server/src/main/java/org/elasticsearch/cluster/coordination/JoinStatus.java\n+++ b/server/src/main/java/org/elasticsearch/cluster/coordination/JoinStatus.java\n@@ -25,7 +25,7 @@ public record JoinStatus(DiscoveryNode remoteNode, long term, String message, Ti\n             new DiscoveryNode(in),\n             in.readLong(),\n             in.readString(),\n-            in.getTransportVersion().onOrAfter(TransportVersions.JOIN_STATUS_AGE_SERIALIZATION)\n+            in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)\n                 ? in.readTimeValue()\n                 : new TimeValue(in.readLong(), TimeUnit.valueOf(in.readString()))\n         );\n@@ -36,7 +36,7 @@ public record JoinStatus(DiscoveryNode remoteNode, long term, String message, Ti\n         remoteNode.writeTo(out);\n         out.writeLong(term);\n         out.writeString(message);\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.JOIN_STATUS_AGE_SERIALIZATION)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeTimeValue(age);\n         } else {\n             out.writeLong(age.duration());\ndiff --git a/server/src/main/java/org/elasticsearch/cluster/metadata/DataStream.java b/server/src/main/java/org/elasticsearch/cluster/metadata/DataStream.java\nindex dd4a52fd..bedf65e1 100644\n--- a/server/src/main/java/org/elasticsearch/cluster/metadata/DataStream.java\n+++ b/server/src/main/java/org/elasticsearch/cluster/metadata/DataStream.java\n@@ -211,7 +211,7 @@ public final class DataStream implements SimpleDiffable<DataStream>, ToXContentO\n         if (in.getTransportVersion().onOrAfter(DataStream.ADDED_AUTO_SHARDING_EVENT_VERSION)) {\n             backingIndicesBuilder.setAutoShardingEvent(in.readOptionalWriteable(DataStreamAutoShardingEvent::new));\n         }\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.FAILURE_STORE_FIELD_PARITY)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             failureIndicesBuilder.setRolloverOnWrite(in.readBoolean())\n                 .setAutoShardingEvent(in.readOptionalWriteable(DataStreamAutoShardingEvent::new));\n         }\n@@ -1089,7 +1089,7 @@ public final class DataStream implements SimpleDiffable<DataStream>, ToXContentO\n         if (out.getTransportVersion().onOrAfter(DataStream.ADDED_AUTO_SHARDING_EVENT_VERSION)) {\n             out.writeOptionalWriteable(backingIndices.autoShardingEvent);\n         }\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.FAILURE_STORE_FIELD_PARITY)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeBoolean(failureIndices.rolloverOnWrite);\n             out.writeOptionalWriteable(failureIndices.autoShardingEvent);\n         }\ndiff --git a/server/src/main/java/org/elasticsearch/cluster/metadata/IndexMetadata.java b/server/src/main/java/org/elasticsearch/cluster/metadata/IndexMetadata.java\nindex 8a05d1d7..6f91f92e 100644\n--- a/server/src/main/java/org/elasticsearch/cluster/metadata/IndexMetadata.java\n+++ b/server/src/main/java/org/elasticsearch/cluster/metadata/IndexMetadata.java\n@@ -949,7 +949,7 @@ public class IndexMetadata implements Diffable<IndexMetadata>, ToXContentFragmen\n         }\n         IndexLongFieldRange allowedEventIngestedRange = eventIngestedRange;\n         // remove this check when the EVENT_INGESTED_RANGE_IN_CLUSTER_STATE version is removed\n-        if (minClusterTransportVersion.before(TransportVersions.EVENT_INGESTED_RANGE_IN_CLUSTER_STATE)) {\n+        if (minClusterTransportVersion.before(TransportVersions.V_8_15_0)) {\n             allowedEventIngestedRange = IndexLongFieldRange.UNKNOWN;\n         }\n         return new IndexMetadata(\n@@ -1647,7 +1647,7 @@ public class IndexMetadata implements Diffable<IndexMetadata>, ToXContentFragmen\n                 DiffableUtils.getStringKeySerializer(),\n                 ROLLOVER_INFO_DIFF_VALUE_READER\n             );\n-            if (in.getTransportVersion().onOrAfter(TransportVersions.INDEX_METADATA_MAPPINGS_UPDATED_VERSION)) {\n+            if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 mappingsUpdatedVersion = IndexVersion.readVersion(in);\n             } else {\n                 mappingsUpdatedVersion = IndexVersions.ZERO;\n@@ -1667,7 +1667,7 @@ public class IndexMetadata implements Diffable<IndexMetadata>, ToXContentFragmen\n                 indexWriteLoadForecast = null;\n                 shardSizeInBytesForecast = null;\n             }\n-            if (in.getTransportVersion().onOrAfter(TransportVersions.EVENT_INGESTED_RANGE_IN_CLUSTER_STATE)) {\n+            if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 eventIngestedRange = IndexLongFieldRange.readFrom(in);\n             } else {\n                 eventIngestedRange = IndexLongFieldRange.UNKNOWN;\n@@ -1701,7 +1701,7 @@ public class IndexMetadata implements Diffable<IndexMetadata>, ToXContentFragmen\n             customData.writeTo(out);\n             inSyncAllocationIds.writeTo(out);\n             rolloverInfos.writeTo(out);\n-            if (out.getTransportVersion().onOrAfter(TransportVersions.INDEX_METADATA_MAPPINGS_UPDATED_VERSION)) {\n+            if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 IndexVersion.writeVersion(mappingsUpdatedVersion, out);\n             }\n             if (out.getTransportVersion().onOrAfter(SYSTEM_INDEX_FLAG_ADDED)) {\n@@ -1713,7 +1713,7 @@ public class IndexMetadata implements Diffable<IndexMetadata>, ToXContentFragmen\n                 out.writeOptionalDouble(indexWriteLoadForecast);\n                 out.writeOptionalLong(shardSizeInBytesForecast);\n             }\n-            if (out.getTransportVersion().onOrAfter(TransportVersions.EVENT_INGESTED_RANGE_IN_CLUSTER_STATE)) {\n+            if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 eventIngestedRange.writeTo(out);\n             } else {\n                 assert eventIngestedRange == IndexLongFieldRange.UNKNOWN\n@@ -1812,7 +1812,7 @@ public class IndexMetadata implements Diffable<IndexMetadata>, ToXContentFragmen\n         for (int i = 0; i < rolloverAliasesSize; i++) {\n             builder.putRolloverInfo(new RolloverInfo(in));\n         }\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.INDEX_METADATA_MAPPINGS_UPDATED_VERSION)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             builder.mappingsUpdatedVersion(IndexVersion.readVersion(in));\n         }\n         if (in.getTransportVersion().onOrAfter(SYSTEM_INDEX_FLAG_ADDED)) {\n@@ -1825,7 +1825,7 @@ public class IndexMetadata implements Diffable<IndexMetadata>, ToXContentFragmen\n             builder.indexWriteLoadForecast(in.readOptionalDouble());\n             builder.shardSizeInBytesForecast(in.readOptionalLong());\n         }\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.EVENT_INGESTED_RANGE_IN_CLUSTER_STATE)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             builder.eventIngestedRange(IndexLongFieldRange.readFrom(in), in.getTransportVersion());\n         } else {\n             builder.eventIngestedRange(IndexLongFieldRange.UNKNOWN, in.getTransportVersion());\n@@ -1870,7 +1870,7 @@ public class IndexMetadata implements Diffable<IndexMetadata>, ToXContentFragmen\n             (o, v) -> DiffableUtils.StringSetValueSerializer.getInstance().write(v, o)\n         );\n         out.writeCollection(rolloverInfos.values());\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.INDEX_METADATA_MAPPINGS_UPDATED_VERSION)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             IndexVersion.writeVersion(mappingsUpdatedVersion, out);\n         }\n         if (out.getTransportVersion().onOrAfter(SYSTEM_INDEX_FLAG_ADDED)) {\n@@ -1882,7 +1882,7 @@ public class IndexMetadata implements Diffable<IndexMetadata>, ToXContentFragmen\n             out.writeOptionalDouble(writeLoadForecast);\n             out.writeOptionalLong(shardSizeInBytesForecast);\n         }\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.EVENT_INGESTED_RANGE_IN_CLUSTER_STATE)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             eventIngestedRange.writeTo(out);\n         } else {\n             assert eventIngestedRange == IndexLongFieldRange.UNKNOWN\n@@ -2209,7 +2209,7 @@ public class IndexMetadata implements Diffable<IndexMetadata>, ToXContentFragmen\n                     + \"; eventIngestedRange = \"\n                     + eventIngestedRange;\n             if (minClusterTransportVersion != null\n-                && minClusterTransportVersion.before(TransportVersions.EVENT_INGESTED_RANGE_IN_CLUSTER_STATE)) {\n+                && minClusterTransportVersion.before(TransportVersions.V_8_15_0)) {\n                 this.eventIngestedRange = IndexLongFieldRange.UNKNOWN;\n             } else {\n                 this.eventIngestedRange = eventIngestedRange;\ndiff --git a/server/src/main/java/org/elasticsearch/cluster/metadata/MetadataCreateIndexService.java b/server/src/main/java/org/elasticsearch/cluster/metadata/MetadataCreateIndexService.java\nindex 29720e98..32171947 100644\n--- a/server/src/main/java/org/elasticsearch/cluster/metadata/MetadataCreateIndexService.java\n+++ b/server/src/main/java/org/elasticsearch/cluster/metadata/MetadataCreateIndexService.java\n@@ -1306,7 +1306,7 @@ public class MetadataCreateIndexService {\n     ) {\n         IndexMetadata.Builder indexMetadataBuilder = createIndexMetadataBuilder(indexName, sourceMetadata, indexSettings, routingNumShards);\n         indexMetadataBuilder.system(isSystem);\n-        if (minClusterTransportVersion.before(TransportVersions.EVENT_INGESTED_RANGE_IN_CLUSTER_STATE)) {\n+        if (minClusterTransportVersion.before(TransportVersions.V_8_15_0)) {\n             // promote to UNKNOWN for older versions since they don't know how to handle event.ingested in cluster state\n             indexMetadataBuilder.eventIngestedRange(IndexLongFieldRange.UNKNOWN, minClusterTransportVersion);\n         }\ndiff --git a/server/src/main/java/org/elasticsearch/index/stats/IndexingPressureStats.java b/server/src/main/java/org/elasticsearch/index/stats/IndexingPressureStats.java\nindex c755862d..b5197274 100644\n--- a/server/src/main/java/org/elasticsearch/index/stats/IndexingPressureStats.java\n+++ b/server/src/main/java/org/elasticsearch/index/stats/IndexingPressureStats.java\n@@ -80,7 +80,7 @@ public class IndexingPressureStats implements Writeable, ToXContentFragment {\n             primaryDocumentRejections = -1L;\n         }\n \n-        if (in.getTransportVersion().onOrAfter(TransportVersions.INDEXING_PRESSURE_REQUEST_REJECTIONS_COUNT)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             totalCoordinatingRequests = in.readVLong();\n         } else {\n             totalCoordinatingRequests = -1L;\n@@ -157,7 +157,7 @@ public class IndexingPressureStats implements Writeable, ToXContentFragment {\n             out.writeVLong(primaryDocumentRejections);\n         }\n \n-        if (out.getTransportVersion().onOrAfter(TransportVersions.INDEXING_PRESSURE_REQUEST_REJECTIONS_COUNT)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeVLong(totalCoordinatingRequests);\n         }\n     }\ndiff --git a/server/src/main/java/org/elasticsearch/ingest/IngestStats.java b/server/src/main/java/org/elasticsearch/ingest/IngestStats.java\nindex a7f0a16b..4731a89d 100644\n--- a/server/src/main/java/org/elasticsearch/ingest/IngestStats.java\n+++ b/server/src/main/java/org/elasticsearch/ingest/IngestStats.java\n@@ -65,7 +65,7 @@ public record IngestStats(Stats totalStats, List<PipelineStat> pipelineStats, Ma\n         for (var i = 0; i < size; i++) {\n             var pipelineId = in.readString();\n             var pipelineStat = new Stats(in);\n-            var byteStat = in.getTransportVersion().onOrAfter(TransportVersions.NODE_STATS_INGEST_BYTES)\n+            var byteStat = in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)\n                 ? new ByteStats(in)\n                 : new ByteStats(0, 0);\n             pipelineStats.add(new PipelineStat(pipelineId, pipelineStat, byteStat));\n@@ -90,7 +90,7 @@ public record IngestStats(Stats totalStats, List<PipelineStat> pipelineStats, Ma\n         for (PipelineStat pipelineStat : pipelineStats) {\n             out.writeString(pipelineStat.pipelineId());\n             pipelineStat.stats().writeTo(out);\n-            if (out.getTransportVersion().onOrAfter(TransportVersions.NODE_STATS_INGEST_BYTES)) {\n+            if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 pipelineStat.byteStats().writeTo(out);\n             }\n             List<ProcessorStat> processorStatsForPipeline = processorStats.get(pipelineStat.pipelineId());\ndiff --git a/server/src/main/java/org/elasticsearch/search/builder/PointInTimeBuilder.java b/server/src/main/java/org/elasticsearch/search/builder/PointInTimeBuilder.java\nindex 0d11ce15..eecc840e 100644\n--- a/server/src/main/java/org/elasticsearch/search/builder/PointInTimeBuilder.java\n+++ b/server/src/main/java/org/elasticsearch/search/builder/PointInTimeBuilder.java\n@@ -63,7 +63,7 @@ public final class PointInTimeBuilder implements Writeable, ToXContentFragment {\n     }\n \n     public PointInTimeBuilder(StreamInput in) throws IOException {\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.BINARY_PIT_ID)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             encodedId = in.readBytesReference();\n         } else {\n             encodedId = new BytesArray(Base64.getUrlDecoder().decode(in.readString()));\n@@ -73,7 +73,7 @@ public final class PointInTimeBuilder implements Writeable, ToXContentFragment {\n \n     @Override\n     public void writeTo(StreamOutput out) throws IOException {\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.BINARY_PIT_ID)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeBytesReference(encodedId);\n         } else {\n             out.writeString(Base64.getUrlEncoder().encodeToString(BytesReference.toBytes(encodedId)));\ndiff --git a/server/src/main/java/org/elasticsearch/search/fetch/ShardFetchSearchRequest.java b/server/src/main/java/org/elasticsearch/search/fetch/ShardFetchSearchRequest.java\nindex efde60f4..534c764c 100644\n--- a/server/src/main/java/org/elasticsearch/search/fetch/ShardFetchSearchRequest.java\n+++ b/server/src/main/java/org/elasticsearch/search/fetch/ShardFetchSearchRequest.java\n@@ -61,7 +61,7 @@ public class ShardFetchSearchRequest extends ShardFetchRequest implements Indice\n         shardSearchRequest = in.readOptionalWriteable(ShardSearchRequest::new);\n         rescoreDocIds = new RescoreDocIds(in);\n         aggregatedDfs = in.readOptionalWriteable(AggregatedDfs::new);\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.RANK_DOC_IN_SHARD_FETCH_REQUEST)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             this.rankDocs = in.readOptionalWriteable(RankDocShardInfo::new);\n         } else {\n             this.rankDocs = null;\n@@ -75,7 +75,7 @@ public class ShardFetchSearchRequest extends ShardFetchRequest implements Indice\n         out.writeOptionalWriteable(shardSearchRequest);\n         rescoreDocIds.writeTo(out);\n         out.writeOptionalWriteable(aggregatedDfs);\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.RANK_DOC_IN_SHARD_FETCH_REQUEST)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeOptionalWriteable(rankDocs);\n         }\n     }\ndiff --git a/server/src/main/java/org/elasticsearch/search/rank/feature/RankFeatureShardResult.java b/server/src/main/java/org/elasticsearch/search/rank/feature/RankFeatureShardResult.java\nindex eb8d03bd..13cf9f33 100644\n--- a/server/src/main/java/org/elasticsearch/search/rank/feature/RankFeatureShardResult.java\n+++ b/server/src/main/java/org/elasticsearch/search/rank/feature/RankFeatureShardResult.java\n@@ -43,7 +43,7 @@ public class RankFeatureShardResult implements RankShardResult {\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.RANK_FEATURE_PHASE_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/server/src/main/java/org/elasticsearch/search/vectors/ExactKnnQueryBuilder.java b/server/src/main/java/org/elasticsearch/search/vectors/ExactKnnQueryBuilder.java\nindex 30a32e9a..c8670a8d 100644\n--- a/server/src/main/java/org/elasticsearch/search/vectors/ExactKnnQueryBuilder.java\n+++ b/server/src/main/java/org/elasticsearch/search/vectors/ExactKnnQueryBuilder.java\n@@ -56,7 +56,7 @@ public class ExactKnnQueryBuilder extends AbstractQueryBuilder<ExactKnnQueryBuil\n         }\n         this.field = in.readString();\n         if (in.getTransportVersion().onOrAfter(TransportVersions.FIX_VECTOR_SIMILARITY_INNER_HITS)\n-            || in.getTransportVersion().isPatchFrom(TransportVersions.FIX_VECTOR_SIMILARITY_INNER_HITS_BACKPORT_8_15)) {\n+            || in.getTransportVersion().isPatchFrom(TransportVersions.V_8_15_0)) {\n             this.vectorSimilarity = in.readOptionalFloat();\n         } else {\n             this.vectorSimilarity = null;\n@@ -89,7 +89,7 @@ public class ExactKnnQueryBuilder extends AbstractQueryBuilder<ExactKnnQueryBuil\n         }\n         out.writeString(field);\n         if (out.getTransportVersion().onOrAfter(TransportVersions.FIX_VECTOR_SIMILARITY_INNER_HITS)\n-            || out.getTransportVersion().isPatchFrom(TransportVersions.FIX_VECTOR_SIMILARITY_INNER_HITS_BACKPORT_8_15)) {\n+            || out.getTransportVersion().isPatchFrom(TransportVersions.V_8_15_0)) {\n             out.writeOptionalFloat(vectorSimilarity);\n         }\n     }\ndiff --git a/server/src/main/java/org/elasticsearch/search/vectors/KnnScoreDocQueryBuilder.java b/server/src/main/java/org/elasticsearch/search/vectors/KnnScoreDocQueryBuilder.java\nindex 15052fda..f52addef 100644\n--- a/server/src/main/java/org/elasticsearch/search/vectors/KnnScoreDocQueryBuilder.java\n+++ b/server/src/main/java/org/elasticsearch/search/vectors/KnnScoreDocQueryBuilder.java\n@@ -72,7 +72,7 @@ public class KnnScoreDocQueryBuilder extends AbstractQueryBuilder<KnnScoreDocQue\n             this.queryVector = null;\n         }\n         if (in.getTransportVersion().onOrAfter(TransportVersions.FIX_VECTOR_SIMILARITY_INNER_HITS)\n-            || in.getTransportVersion().isPatchFrom(TransportVersions.FIX_VECTOR_SIMILARITY_INNER_HITS_BACKPORT_8_15)) {\n+            || in.getTransportVersion().isPatchFrom(TransportVersions.V_8_15_0)) {\n             this.vectorSimilarity = in.readOptionalFloat();\n         } else {\n             this.vectorSimilarity = null;\n@@ -117,7 +117,7 @@ public class KnnScoreDocQueryBuilder extends AbstractQueryBuilder<KnnScoreDocQue\n             }\n         }\n         if (out.getTransportVersion().onOrAfter(TransportVersions.FIX_VECTOR_SIMILARITY_INNER_HITS)\n-            || out.getTransportVersion().isPatchFrom(TransportVersions.FIX_VECTOR_SIMILARITY_INNER_HITS_BACKPORT_8_15)) {\n+            || out.getTransportVersion().isPatchFrom(TransportVersions.V_8_15_0)) {\n             out.writeOptionalFloat(vectorSimilarity);\n         }\n     }\ndiff --git a/server/src/main/java/org/elasticsearch/search/vectors/KnnSearchBuilder.java b/server/src/main/java/org/elasticsearch/search/vectors/KnnSearchBuilder.java\nindex a30aa0ef..8ce8fc07 100644\n--- a/server/src/main/java/org/elasticsearch/search/vectors/KnnSearchBuilder.java\n+++ b/server/src/main/java/org/elasticsearch/search/vectors/KnnSearchBuilder.java\n@@ -261,7 +261,7 @@ public class KnnSearchBuilder implements Writeable, ToXContentFragment, Rewritea\n         }\n         this.filterQueries = in.readNamedWriteableCollectionAsList(QueryBuilder.class);\n         this.boost = in.readFloat();\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.TOP_LEVEL_KNN_SUPPORT_QUERY_NAME)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             this.queryName = in.readOptionalString();\n         } else {\n             this.queryName = null;\n@@ -501,7 +501,7 @@ public class KnnSearchBuilder implements Writeable, ToXContentFragment, Rewritea\n         }\n         out.writeNamedWriteableCollection(filterQueries);\n         out.writeFloat(boost);\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.TOP_LEVEL_KNN_SUPPORT_QUERY_NAME)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeOptionalString(queryName);\n         }\n         if (out.getTransportVersion().before(TransportVersions.V_8_7_0) && queryVectorBuilder != null) {\ndiff --git a/server/src/main/java/org/elasticsearch/search/vectors/KnnVectorQueryBuilder.java b/server/src/main/java/org/elasticsearch/search/vectors/KnnVectorQueryBuilder.java\nindex 9af1968b..deb7e6bd 100644\n--- a/server/src/main/java/org/elasticsearch/search/vectors/KnnVectorQueryBuilder.java\n+++ b/server/src/main/java/org/elasticsearch/search/vectors/KnnVectorQueryBuilder.java\n@@ -192,7 +192,7 @@ public class KnnVectorQueryBuilder extends AbstractQueryBuilder<KnnVectorQueryBu\n     public KnnVectorQueryBuilder(StreamInput in) throws IOException {\n         super(in);\n         this.fieldName = in.readString();\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.K_FOR_KNN_QUERY_ADDED)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             this.k = in.readOptionalVInt();\n         } else {\n             this.k = null;\n@@ -279,7 +279,7 @@ public class KnnVectorQueryBuilder extends AbstractQueryBuilder<KnnVectorQueryBu\n             throw new IllegalStateException(\"missing a rewriteAndFetch?\");\n         }\n         out.writeString(fieldName);\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.K_FOR_KNN_QUERY_ADDED)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeOptionalVInt(k);\n         }\n         if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_13_0)) {\ndiff --git a/server/src/main/resources/org/elasticsearch/TransportVersions.csv b/server/src/main/resources/org/elasticsearch/TransportVersions.csv\nindex 44c752de..b0ef5b78 100644\n--- a/server/src/main/resources/org/elasticsearch/TransportVersions.csv\n+++ b/server/src/main/resources/org/elasticsearch/TransportVersions.csv\n@@ -130,3 +130,4 @@\n 8.15.0,8702002\n 8.15.1,8702002\n 8.15.2,8702003\n+8.15.3,8702003\ndiff --git a/server/src/test/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequestParametersTests.java b/server/src/test/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequestParametersTests.java\nindex e7661bf3..f37b1d1b 100644\n--- a/server/src/test/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequestParametersTests.java\n+++ b/server/src/test/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequestParametersTests.java\n@@ -23,7 +23,7 @@ import java.util.List;\n public class NodesStatsRequestParametersTests extends ESTestCase {\n \n     public void testReadWriteMetricSet() {\n-        for (var version : List.of(TransportVersions.VERSIONED_MASTER_NODE_REQUESTS, TransportVersions.NODES_STATS_ENUM_SET)) {\n+        for (var version : List.of(TransportVersions.V_8_15_0, TransportVersions.NODES_STATS_ENUM_SET)) {\n             var randSet = randomSubsetOf(Metric.ALL);\n             var metricsOut = randSet.isEmpty() ? EnumSet.noneOf(Metric.class) : EnumSet.copyOf(randSet);\n             try {\ndiff --git a/server/src/test/java/org/elasticsearch/action/admin/indices/close/CloseIndexRequestTests.java b/server/src/test/java/org/elasticsearch/action/admin/indices/close/CloseIndexRequestTests.java\nindex 733ef1c2..9957acee 100644\n--- a/server/src/test/java/org/elasticsearch/action/admin/indices/close/CloseIndexRequestTests.java\n+++ b/server/src/test/java/org/elasticsearch/action/admin/indices/close/CloseIndexRequestTests.java\n@@ -50,7 +50,7 @@ public class CloseIndexRequestTests extends ESTestCase {\n                     in.setTransportVersion(out.getTransportVersion());\n                     assertEquals(request.getParentTask(), TaskId.readFromStream(in));\n                     assertEquals(request.masterNodeTimeout(), in.readTimeValue());\n-                    if (in.getTransportVersion().onOrAfter(TransportVersions.VERSIONED_MASTER_NODE_REQUESTS)) {\n+                    if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                         assertEquals(request.masterTerm(), in.readVLong());\n                     }\n                     assertEquals(request.ackTimeout(), in.readTimeValue());\n@@ -79,7 +79,7 @@ public class CloseIndexRequestTests extends ESTestCase {\n                 out.setTransportVersion(version);\n                 sample.getParentTask().writeTo(out);\n                 out.writeTimeValue(sample.masterNodeTimeout());\n-                if (out.getTransportVersion().onOrAfter(TransportVersions.VERSIONED_MASTER_NODE_REQUESTS)) {\n+                if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                     out.writeVLong(sample.masterTerm());\n                 }\n                 out.writeTimeValue(sample.ackTimeout());\ndiff --git a/server/src/test/java/org/elasticsearch/cluster/action/shard/ShardStartedClusterStateTaskExecutorTests.java b/server/src/test/java/org/elasticsearch/cluster/action/shard/ShardStartedClusterStateTaskExecutorTests.java\nindex d1734dbf..ca7376a4 100644\n--- a/server/src/test/java/org/elasticsearch/cluster/action/shard/ShardStartedClusterStateTaskExecutorTests.java\n+++ b/server/src/test/java/org/elasticsearch/cluster/action/shard/ShardStartedClusterStateTaskExecutorTests.java\n@@ -424,7 +424,7 @@ public class ShardStartedClusterStateTaskExecutorTests extends ESAllocationTestC\n         }\n \n         final var eventIngestedRange = resultingState.metadata().index(indexName).getEventIngestedRange();\n-        if (clusterState.getMinTransportVersion().before(TransportVersions.EVENT_INGESTED_RANGE_IN_CLUSTER_STATE)) {\n+        if (clusterState.getMinTransportVersion().before(TransportVersions.V_8_15_0)) {\n             assertThat(eventIngestedRange, sameInstance(IndexLongFieldRange.UNKNOWN));\n         } else {\n             if (shardEventIngestedRange == ShardLongFieldRange.UNKNOWN) {\ndiff --git a/server/src/test/java/org/elasticsearch/cluster/action/shard/ShardStateActionTests.java b/server/src/test/java/org/elasticsearch/cluster/action/shard/ShardStateActionTests.java\nindex a1536e17..3c680d89 100644\n--- a/server/src/test/java/org/elasticsearch/cluster/action/shard/ShardStateActionTests.java\n+++ b/server/src/test/java/org/elasticsearch/cluster/action/shard/ShardStateActionTests.java\n@@ -599,7 +599,7 @@ public class ShardStateActionTests extends ESTestCase {\n             assertThat(deserialized.primaryTerm, equalTo(primaryTerm));\n             assertThat(deserialized.message, equalTo(message));\n             assertThat(deserialized.timestampRange, equalTo(timestampRange));\n-            if (version.before(TransportVersions.EVENT_INGESTED_RANGE_IN_CLUSTER_STATE)) {\n+            if (version.before(TransportVersions.V_8_15_0)) {\n                 assertThat(deserialized.eventIngestedRange, equalTo(ShardLongFieldRange.UNKNOWN));\n             } else {\n                 assertThat(deserialized.eventIngestedRange, equalTo(eventIngestedRange));\n@@ -615,7 +615,7 @@ public class ShardStateActionTests extends ESTestCase {\n         final TransportVersion version = randomFrom(\n             getFirstVersion(),\n             getPreviousVersion(TransportVersions.MINIMUM_COMPATIBLE),\n-            getPreviousVersion(TransportVersions.EVENT_INGESTED_RANGE_IN_CLUSTER_STATE)\n+            getPreviousVersion(TransportVersions.V_8_15_0)\n         );\n         final ShardLongFieldRange timestampRange = ShardLongFieldRangeWireTests.randomRange();\n         final ShardLongFieldRange eventIngestedRange = ShardLongFieldRangeWireTests.randomRange();\ndiff --git a/server/src/test/java/org/elasticsearch/cluster/metadata/IndexMetadataTests.java b/server/src/test/java/org/elasticsearch/cluster/metadata/IndexMetadataTests.java\nindex 8036a964..04bd2452 100644\n--- a/server/src/test/java/org/elasticsearch/cluster/metadata/IndexMetadataTests.java\n+++ b/server/src/test/java/org/elasticsearch/cluster/metadata/IndexMetadataTests.java\n@@ -248,7 +248,7 @@ public class IndexMetadataTests extends ESTestCase {\n         builder.endObject();\n \n         // convert XContent to a map and remove the IndexMetadata.KEY_EVENT_INGESTED_RANGE entry\n-        // to simulate IndexMetadata from an older cluster version (before TransportVersions.EVENT_INGESTED_RANGE_IN_CLUSTER_STATE)\n+        // to simulate IndexMetadata from an older cluster version (before TransportVersions.V_8_15_0)\n         Map<String, Object> indexMetadataMap = XContentHelper.convertToMap(BytesReference.bytes(builder), true, XContentType.JSON).v2();\n \n         @SuppressWarnings(\"unchecked\")\ndiff --git a/server/src/test/java/org/elasticsearch/cluster/serialization/ClusterSerializationTests.java b/server/src/test/java/org/elasticsearch/cluster/serialization/ClusterSerializationTests.java\nindex ca5b9295..206169ec 100644\n--- a/server/src/test/java/org/elasticsearch/cluster/serialization/ClusterSerializationTests.java\n+++ b/server/src/test/java/org/elasticsearch/cluster/serialization/ClusterSerializationTests.java\n@@ -70,7 +70,7 @@ public class ClusterSerializationTests extends ESAllocationTestCase {\n             .settings(settings(IndexVersion.current()))\n             .numberOfShards(10)\n             .numberOfReplicas(1)\n-            .eventIngestedRange(eventIngestedRangeInput, TransportVersions.EVENT_INGESTED_RANGE_IN_CLUSTER_STATE);\n+            .eventIngestedRange(eventIngestedRangeInput, TransportVersions.V_8_15_0);\n \n         ClusterStateTestRecord result = createAndSerializeClusterState(indexMetadataBuilder, TransportVersion.current());\n \n@@ -90,7 +90,7 @@ public class ClusterSerializationTests extends ESAllocationTestCase {\n         TransportVersion versionBeforeEventIngestedInClusterState = randomFrom(\n             TransportVersions.V_7_0_0,\n             TransportVersions.V_8_0_0,\n-            TransportVersions.ML_INFERENCE_GOOGLE_VERTEX_AI_EMBEDDINGS_ADDED  // version before EVENT_INGESTED_RANGE_IN_CLUSTER_STATE\n+            TransportVersions.V_8_15_0  // version before EVENT_INGESTED_RANGE_IN_CLUSTER_STATE\n         );\n         {\n             IndexLongFieldRange eventIngestedRangeInput = randomFrom(\ndiff --git a/server/src/test/java/org/elasticsearch/search/rank/RankFeatureShardPhaseTests.java b/server/src/test/java/org/elasticsearch/search/rank/RankFeatureShardPhaseTests.java\nindex b3efff43..cce10fb8 100644\n--- a/server/src/test/java/org/elasticsearch/search/rank/RankFeatureShardPhaseTests.java\n+++ b/server/src/test/java/org/elasticsearch/search/rank/RankFeatureShardPhaseTests.java\n@@ -190,7 +190,7 @@ public class RankFeatureShardPhaseTests extends ESTestCase {\n \n             @Override\n             public TransportVersion getMinimalSupportedVersion() {\n-                return TransportVersions.RANK_FEATURE_PHASE_ADDED;\n+                return TransportVersions.V_8_15_0;\n             }\n         };\n     }\ndiff --git a/test/framework/src/main/java/org/elasticsearch/action/support/replication/ClusterStateCreationUtils.java b/test/framework/src/main/java/org/elasticsearch/action/support/replication/ClusterStateCreationUtils.java\nindex 6a0b4f2d..19c0b9d5 100644\n--- a/test/framework/src/main/java/org/elasticsearch/action/support/replication/ClusterStateCreationUtils.java\n+++ b/test/framework/src/main/java/org/elasticsearch/action/support/replication/ClusterStateCreationUtils.java\n@@ -153,7 +153,7 @@ public class ClusterStateCreationUtils {\n             .timestampRange(timeFieldRange)\n             .eventIngestedRange(\n                 timeFieldRange,\n-                timeFieldRange == IndexLongFieldRange.UNKNOWN ? null : TransportVersions.EVENT_INGESTED_RANGE_IN_CLUSTER_STATE\n+                timeFieldRange == IndexLongFieldRange.UNKNOWN ? null : TransportVersions.V_8_15_0\n             )\n             .build();\n \n@@ -289,7 +289,7 @@ public class ClusterStateCreationUtils {\n                 )\n                 .eventIngestedRange(\n                     IndexLongFieldRange.UNKNOWN,\n-                    randomFrom(TransportVersions.V_8_0_0, TransportVersions.EVENT_INGESTED_RANGE_IN_CLUSTER_STATE)\n+                    randomFrom(TransportVersions.V_8_0_0, TransportVersions.V_8_15_0)\n                 )\n                 .build();\n \ndiff --git a/x-pack/plugin/autoscaling/src/main/java/org/elasticsearch/xpack/autoscaling/action/GetAutoscalingCapacityAction.java b/x-pack/plugin/autoscaling/src/main/java/org/elasticsearch/xpack/autoscaling/action/GetAutoscalingCapacityAction.java\nindex 81b53487..836c8b15 100644\n--- a/x-pack/plugin/autoscaling/src/main/java/org/elasticsearch/xpack/autoscaling/action/GetAutoscalingCapacityAction.java\n+++ b/x-pack/plugin/autoscaling/src/main/java/org/elasticsearch/xpack/autoscaling/action/GetAutoscalingCapacityAction.java\n@@ -47,7 +47,7 @@ public class GetAutoscalingCapacityAction extends ActionType<GetAutoscalingCapac\n \n         public Request(final StreamInput in) throws IOException {\n             super(in);\n-            if (in.getTransportVersion().before(TransportVersions.GET_AUTOSCALING_CAPACITY_UNUSED_TIMEOUT)) {\n+            if (in.getTransportVersion().before(TransportVersions.V_8_15_0)) {\n                 in.readTimeValue(); // unused\n             }\n         }\n@@ -55,7 +55,7 @@ public class GetAutoscalingCapacityAction extends ActionType<GetAutoscalingCapac\n         @Override\n         public void writeTo(final StreamOutput out) throws IOException {\n             super.writeTo(out);\n-            if (out.getTransportVersion().before(TransportVersions.GET_AUTOSCALING_CAPACITY_UNUSED_TIMEOUT)) {\n+            if (out.getTransportVersion().before(TransportVersions.V_8_15_0)) {\n                 out.writeTimeValue(AcknowledgedRequest.DEFAULT_ACK_TIMEOUT); // unused\n             }\n         }\ndiff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/datastreams/DataStreamFeatureSetUsage.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/datastreams/DataStreamFeatureSetUsage.java\nindex 63fcd3dc..e267c94e 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/datastreams/DataStreamFeatureSetUsage.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/datastreams/DataStreamFeatureSetUsage.java\n@@ -91,8 +91,8 @@ public class DataStreamFeatureSetUsage extends XPackFeatureSet.Usage {\n             this(\n                 in.readVLong(),\n                 in.readVLong(),\n-                in.getTransportVersion().onOrAfter(TransportVersions.FAILURE_STORE_TELEMETRY) ? in.readVLong() : 0,\n-                in.getTransportVersion().onOrAfter(TransportVersions.FAILURE_STORE_TELEMETRY) ? in.readVLong() : 0\n+                in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0) ? in.readVLong() : 0,\n+                in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0) ? in.readVLong() : 0\n             );\n         }\n \n@@ -100,7 +100,7 @@ public class DataStreamFeatureSetUsage extends XPackFeatureSet.Usage {\n         public void writeTo(StreamOutput out) throws IOException {\n             out.writeVLong(this.totalDataStreamCount);\n             out.writeVLong(this.indicesBehindDataStream);\n-            if (out.getTransportVersion().onOrAfter(TransportVersions.FAILURE_STORE_TELEMETRY)) {\n+            if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 out.writeVLong(this.failureStoreEnabledDataStreamCount);\n                 out.writeVLong(this.failureStoreIndicesCount);\n             }\ndiff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/enrich/action/EnrichStatsAction.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/enrich/action/EnrichStatsAction.java\nindex fc9087d9..0457de6e 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/enrich/action/EnrichStatsAction.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/enrich/action/EnrichStatsAction.java\n@@ -207,8 +207,8 @@ public class EnrichStatsAction extends ActionType<EnrichStatsAction.Response> {\n                     in.readVLong(),\n                     in.readVLong(),\n                     in.readVLong(),\n-                    in.getTransportVersion().onOrAfter(TransportVersions.ENRICH_CACHE_ADDITIONAL_STATS) ? in.readLong() : -1,\n-                    in.getTransportVersion().onOrAfter(TransportVersions.ENRICH_CACHE_ADDITIONAL_STATS) ? in.readLong() : -1,\n+                    in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0) ? in.readLong() : -1,\n+                    in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0) ? in.readLong() : -1,\n                     in.getTransportVersion().onOrAfter(TransportVersions.ENRICH_CACHE_STATS_SIZE_ADDED) ? in.readLong() : -1\n                 );\n             }\n@@ -233,7 +233,7 @@ public class EnrichStatsAction extends ActionType<EnrichStatsAction.Response> {\n                 out.writeVLong(hits);\n                 out.writeVLong(misses);\n                 out.writeVLong(evictions);\n-                if (out.getTransportVersion().onOrAfter(TransportVersions.ENRICH_CACHE_ADDITIONAL_STATS)) {\n+                if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                     out.writeLong(hitsTimeInMillis);\n                     out.writeLong(missesTimeInMillis);\n                 }\ndiff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/inference/action/DeleteInferenceEndpointAction.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/inference/action/DeleteInferenceEndpointAction.java\nindex e9d61275..226fe363 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/inference/action/DeleteInferenceEndpointAction.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/inference/action/DeleteInferenceEndpointAction.java\n@@ -50,7 +50,7 @@ public class DeleteInferenceEndpointAction extends ActionType<DeleteInferenceEnd\n             super(in);\n             this.inferenceEndpointId = in.readString();\n             this.taskType = TaskType.fromStream(in);\n-            if (in.getTransportVersion().onOrAfter(TransportVersions.ML_INFERENCE_ENHANCE_DELETE_ENDPOINT)) {\n+            if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 this.forceDelete = Boolean.TRUE.equals(in.readOptionalBoolean());\n                 this.dryRun = Boolean.TRUE.equals(in.readOptionalBoolean());\n             } else {\n@@ -80,7 +80,7 @@ public class DeleteInferenceEndpointAction extends ActionType<DeleteInferenceEnd\n             super.writeTo(out);\n             out.writeString(inferenceEndpointId);\n             taskType.writeTo(out);\n-            if (out.getTransportVersion().onOrAfter(TransportVersions.ML_INFERENCE_ENHANCE_DELETE_ENDPOINT)) {\n+            if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 out.writeOptionalBoolean(forceDelete);\n                 out.writeOptionalBoolean(dryRun);\n             }\n@@ -121,7 +121,7 @@ public class DeleteInferenceEndpointAction extends ActionType<DeleteInferenceEnd\n \n         public Response(StreamInput in) throws IOException {\n             super(in);\n-            if (in.getTransportVersion().onOrAfter(TransportVersions.ML_INFERENCE_ENHANCE_DELETE_ENDPOINT)) {\n+            if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 pipelineIds = in.readCollectionAsSet(StreamInput::readString);\n             } else {\n                 pipelineIds = Set.of();\n@@ -140,7 +140,7 @@ public class DeleteInferenceEndpointAction extends ActionType<DeleteInferenceEnd\n         @Override\n         public void writeTo(StreamOutput out) throws IOException {\n             super.writeTo(out);\n-            if (out.getTransportVersion().onOrAfter(TransportVersions.ML_INFERENCE_ENHANCE_DELETE_ENDPOINT)) {\n+            if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 out.writeCollection(pipelineIds, StreamOutput::writeString);\n             }\n             if (out.getTransportVersion().onOrAfter(TransportVersions.ML_INFERENCE_DONT_DELETE_WHEN_SEMANTIC_TEXT_EXISTS)) {\ndiff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/inference/results/RankedDocsResults.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/inference/results/RankedDocsResults.java\nindex 6ebf15bf..de1d1169 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/inference/results/RankedDocsResults.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/inference/results/RankedDocsResults.java\n@@ -31,7 +31,7 @@ import java.util.Map;\n import java.util.Objects;\n import java.util.stream.Collectors;\n \n-import static org.elasticsearch.TransportVersions.ML_RERANK_DOC_OPTIONAL;\n+import static org.elasticsearch.TransportVersions.V_8_15_0;\n \n public class RankedDocsResults implements InferenceServiceResults {\n     public static final String NAME = \"rerank_service_results\";\ndiff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/action/InferModelAction.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/action/InferModelAction.java\nindex e6b580f6..05d9496e 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/action/InferModelAction.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/action/InferModelAction.java\n@@ -198,7 +198,7 @@ public class InferModelAction extends ActionType<InferModelAction.Response> {\n             } else {\n                 prefixType = TrainedModelPrefixStrings.PrefixType.NONE;\n             }\n-            if (in.getTransportVersion().onOrAfter(TransportVersions.ML_CHUNK_INFERENCE_OPTION)) {\n+            if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 chunked = in.readBoolean();\n             } else {\n                 chunked = false;\n@@ -285,7 +285,7 @@ public class InferModelAction extends ActionType<InferModelAction.Response> {\n             if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_12_0)) {\n                 out.writeEnum(prefixType);\n             }\n-            if (out.getTransportVersion().onOrAfter(TransportVersions.ML_CHUNK_INFERENCE_OPTION)) {\n+            if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 out.writeBoolean(chunked);\n             }\n         }\ndiff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/inference/TrainedModelCacheMetadata.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/inference/TrainedModelCacheMetadata.java\nindex 35c6bf96..3c8dfecc 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/inference/TrainedModelCacheMetadata.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/inference/TrainedModelCacheMetadata.java\n@@ -86,7 +86,7 @@ public class TrainedModelCacheMetadata extends AbstractNamedDiffable<Metadata.Cu\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_TRAINED_MODEL_CACHE_METADATA_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/job/process/autodetect/state/ModelSizeStats.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/job/process/autodetect/state/ModelSizeStats.java\nindex a95ee13f..3a912344 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/job/process/autodetect/state/ModelSizeStats.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/job/process/autodetect/state/ModelSizeStats.java\n@@ -264,7 +264,7 @@ public class ModelSizeStats implements ToXContentObject, Writeable {\n         } else {\n             assignmentMemoryBasis = null;\n         }\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.ML_AD_OUTPUT_MEMORY_ALLOCATOR_FIELD)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             outputMemoryAllocatorBytes = in.readOptionalVLong();\n         } else {\n             outputMemoryAllocatorBytes = null;\n@@ -306,7 +306,7 @@ public class ModelSizeStats implements ToXContentObject, Writeable {\n         } else {\n             out.writeBoolean(false);\n         }\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.ML_AD_OUTPUT_MEMORY_ALLOCATOR_FIELD)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeOptionalVLong(outputMemoryAllocatorBytes);\n         }\n         out.writeVLong(categorizedDocCount);\ndiff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/rollup/RollupFeatureSetUsage.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/rollup/RollupFeatureSetUsage.java\nindex a198c057..4f91360a 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/rollup/RollupFeatureSetUsage.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/rollup/RollupFeatureSetUsage.java\n@@ -16,7 +16,7 @@ import org.elasticsearch.xpack.core.XPackField;\n \n import java.io.IOException;\n \n-import static org.elasticsearch.TransportVersions.ROLLUP_USAGE;\n+import static org.elasticsearch.TransportVersions.V_8_15_0;\n \n public class RollupFeatureSetUsage extends XPackFeatureSet.Usage {\n \ndiff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/action/settings/GetSecuritySettingsAction.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/action/settings/GetSecuritySettingsAction.java\nindex 4cea7526..fb88aa7e 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/action/settings/GetSecuritySettingsAction.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/action/settings/GetSecuritySettingsAction.java\n@@ -42,7 +42,7 @@ public class GetSecuritySettingsAction {\n \n         @UpdateForV9 // no need for bwc any more, this can be inlined\n         public static Request readFrom(StreamInput in) throws IOException {\n-            if (in.getTransportVersion().onOrAfter(TransportVersions.SECURITY_SETTINGS_REQUEST_TIMEOUTS)) {\n+            if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 return new Request(in);\n             } else {\n                 return new Request(TimeValue.THIRTY_SECONDS);\n@@ -55,7 +55,7 @@ public class GetSecuritySettingsAction {\n \n         @Override\n         public void writeTo(StreamOutput out) throws IOException {\n-            if (out.getTransportVersion().onOrAfter(TransportVersions.SECURITY_SETTINGS_REQUEST_TIMEOUTS)) {\n+            if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 super.writeTo(out);\n             }\n         }\ndiff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/action/settings/UpdateSecuritySettingsAction.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/action/settings/UpdateSecuritySettingsAction.java\nindex c2bf1466..aca034dd 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/action/settings/UpdateSecuritySettingsAction.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/action/settings/UpdateSecuritySettingsAction.java\n@@ -118,7 +118,7 @@ public class UpdateSecuritySettingsAction {\n \n         @UpdateForV9 // no need for bwc any more, this can be inlined\n         public static Request readFrom(StreamInput in) throws IOException {\n-            if (in.getTransportVersion().onOrAfter(TransportVersions.SECURITY_SETTINGS_REQUEST_TIMEOUTS)) {\n+            if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 return new Request(in);\n             } else {\n                 return new Request(TimeValue.THIRTY_SECONDS, TimeValue.THIRTY_SECONDS, in);\n@@ -141,7 +141,7 @@ public class UpdateSecuritySettingsAction {\n \n         @Override\n         public void writeTo(StreamOutput out) throws IOException {\n-            if (out.getTransportVersion().onOrAfter(TransportVersions.SECURITY_SETTINGS_REQUEST_TIMEOUTS)) {\n+            if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 super.writeTo(out);\n             }\n             out.writeGenericMap(this.mainIndexSettings);\ndiff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/action/user/GetUserPrivilegesResponse.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/action/user/GetUserPrivilegesResponse.java\nindex c5cbe50e..0cb8cdc0 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/action/user/GetUserPrivilegesResponse.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/action/user/GetUserPrivilegesResponse.java\n@@ -55,7 +55,7 @@ public final class GetUserPrivilegesResponse extends ActionResponse {\n         } else {\n             remoteIndex = Set.of();\n         }\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.ROLE_REMOTE_CLUSTER_PRIVS)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             remoteClusterPermissions = new RemoteClusterPermissions(in);\n         } else {\n             remoteClusterPermissions = RemoteClusterPermissions.NONE;\n@@ -134,12 +134,12 @@ public final class GetUserPrivilegesResponse extends ActionResponse {\n                     + \"]\"\n             );\n         }\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.ROLE_REMOTE_CLUSTER_PRIVS)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             remoteClusterPermissions.writeTo(out);\n         } else if (hasRemoteClusterPrivileges()) {\n             throw new IllegalArgumentException(\n                 \"versions of Elasticsearch before [\"\n-                    + TransportVersions.ROLE_REMOTE_CLUSTER_PRIVS\n+                    + TransportVersions.V_8_15_0\n                     + \"] can't handle remote cluster privileges and attempted to send to [\"\n                     + out.getTransportVersion()\n                     + \"]\"\ndiff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/authc/Authentication.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/authc/Authentication.java\nindex 3e3b1178..7a5cbfb9 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/authc/Authentication.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/authc/Authentication.java\n@@ -54,7 +54,7 @@ import java.util.Objects;\n import java.util.Set;\n import java.util.concurrent.atomic.AtomicBoolean;\n \n-import static org.elasticsearch.TransportVersions.ROLE_REMOTE_CLUSTER_PRIVS;\n+import static org.elasticsearch.TransportVersions.V_8_15_0;\n import static org.elasticsearch.transport.RemoteClusterPortSettings.TRANSPORT_VERSION_ADVANCED_REMOTE_CLUSTER_SECURITY;\n import static org.elasticsearch.xcontent.ConstructingObjectParser.constructorArg;\n import static org.elasticsearch.xcontent.ConstructingObjectParser.optionalConstructorArg;\ndiff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/authz/RoleDescriptor.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/authz/RoleDescriptor.java\nindex 1a8839fa..a2ff36b8 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/authz/RoleDescriptor.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/authz/RoleDescriptor.java\n@@ -220,12 +220,12 @@ public class RoleDescriptor implements ToXContentObject, Writeable {\n         } else {\n             this.restriction = Restriction.NONE;\n         }\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.ROLE_REMOTE_CLUSTER_PRIVS)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             this.remoteClusterPermissions = new RemoteClusterPermissions(in);\n         } else {\n             this.remoteClusterPermissions = RemoteClusterPermissions.NONE;\n         }\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.SECURITY_ROLE_DESCRIPTION)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             this.description = in.readOptionalString();\n         } else {\n             this.description = \"\";\n@@ -485,10 +485,10 @@ public class RoleDescriptor implements ToXContentObject, Writeable {\n         if (out.getTransportVersion().onOrAfter(WORKFLOWS_RESTRICTION_VERSION)) {\n             restriction.writeTo(out);\n         }\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.ROLE_REMOTE_CLUSTER_PRIVS)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             remoteClusterPermissions.writeTo(out);\n         }\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.SECURITY_ROLE_DESCRIPTION)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeOptionalString(description);\n         }\n     }\ndiff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/authz/RoleMappingMetadata.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/authz/RoleMappingMetadata.java\nindex da6ff6ad..b38b33e0 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/authz/RoleMappingMetadata.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/authz/RoleMappingMetadata.java\n@@ -108,7 +108,7 @@ public final class RoleMappingMetadata extends AbstractNamedDiffable<Metadata.Cu\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.SECURITY_ROLE_MAPPINGS_IN_CLUSTER_STATE;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/authz/permission/RemoteClusterPermissions.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/authz/permission/RemoteClusterPermissions.java\nindex 2960c5aa..d5ef8217 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/authz/permission/RemoteClusterPermissions.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/authz/permission/RemoteClusterPermissions.java\n@@ -67,7 +67,7 @@ public class RemoteClusterPermissions implements NamedWriteable, ToXContentObjec\n \n     // package private non-final for testing\n     static Map<TransportVersion, Set<String>> allowedRemoteClusterPermissions = Map.of(\n-        TransportVersions.ROLE_REMOTE_CLUSTER_PRIVS,\n+        TransportVersions.V_8_15_0,\n         Set.of(ClusterPrivilegeResolver.MONITOR_ENRICH.name())\n     );\n \ndiff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/support/SecurityMigrationTaskParams.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/support/SecurityMigrationTaskParams.java\nindex 14cc4d3d..e69a0589 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/support/SecurityMigrationTaskParams.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/support/SecurityMigrationTaskParams.java\n@@ -48,7 +48,7 @@ public class SecurityMigrationTaskParams implements PersistentTaskParams {\n \n     public SecurityMigrationTaskParams(StreamInput in) throws IOException {\n         this.migrationVersion = in.readInt();\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.SECURITY_MIGRATIONS_MIGRATION_NEEDED_ADDED)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             this.migrationNeeded = in.readBoolean();\n         } else {\n             this.migrationNeeded = true;\n@@ -58,7 +58,7 @@ public class SecurityMigrationTaskParams implements PersistentTaskParams {\n     @Override\n     public void writeTo(StreamOutput out) throws IOException {\n         out.writeInt(migrationVersion);\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.SECURITY_MIGRATIONS_MIGRATION_NEEDED_ADDED)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeBoolean(migrationNeeded);\n         }\n     }\n@@ -70,7 +70,7 @@ public class SecurityMigrationTaskParams implements PersistentTaskParams {\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ADD_METADATA_FLATTENED_TO_ROLES;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/watcher/transport/actions/put/GetWatcherSettingsAction.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/watcher/transport/actions/put/GetWatcherSettingsAction.java\nindex f1d046f0..c6a22ec2 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/watcher/transport/actions/put/GetWatcherSettingsAction.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/watcher/transport/actions/put/GetWatcherSettingsAction.java\n@@ -37,7 +37,7 @@ public class GetWatcherSettingsAction extends ActionType<GetWatcherSettingsActio\n         }\n \n         public static Request readFrom(StreamInput in) throws IOException {\n-            if (in.getTransportVersion().onOrAfter(TransportVersions.WATCHER_REQUEST_TIMEOUTS)) {\n+            if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 return new Request(in);\n             } else {\n                 return new Request(TimeValue.THIRTY_SECONDS);\n@@ -50,7 +50,7 @@ public class GetWatcherSettingsAction extends ActionType<GetWatcherSettingsActio\n \n         @Override\n         public void writeTo(StreamOutput out) throws IOException {\n-            if (out.getTransportVersion().onOrAfter(TransportVersions.WATCHER_REQUEST_TIMEOUTS)) {\n+            if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 super.writeTo(out);\n             }\n         }\ndiff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/watcher/transport/actions/put/UpdateWatcherSettingsAction.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/watcher/transport/actions/put/UpdateWatcherSettingsAction.java\nindex 5da71402..29252921 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/watcher/transport/actions/put/UpdateWatcherSettingsAction.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/watcher/transport/actions/put/UpdateWatcherSettingsAction.java\n@@ -47,7 +47,7 @@ public class UpdateWatcherSettingsAction extends ActionType<AcknowledgedResponse\n         }\n \n         public static Request readFrom(StreamInput in) throws IOException {\n-            if (in.getTransportVersion().onOrAfter(TransportVersions.WATCHER_REQUEST_TIMEOUTS)) {\n+            if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 return new Request(in);\n             } else {\n                 return new Request(TimeValue.THIRTY_SECONDS, TimeValue.THIRTY_SECONDS, in);\n@@ -67,7 +67,7 @@ public class UpdateWatcherSettingsAction extends ActionType<AcknowledgedResponse\n \n         @Override\n         public void writeTo(StreamOutput out) throws IOException {\n-            if (out.getTransportVersion().onOrAfter(TransportVersions.WATCHER_REQUEST_TIMEOUTS)) {\n+            if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 super.writeTo(out);\n             }\n             out.writeGenericMap(this.settings);\ndiff --git a/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/inference/results/RankedDocsResultsTests.java b/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/inference/results/RankedDocsResultsTests.java\nindex b84aaa2b..7164c9fc 100644\n--- a/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/inference/results/RankedDocsResultsTests.java\n+++ b/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/inference/results/RankedDocsResultsTests.java\n@@ -16,7 +16,7 @@ import java.io.IOException;\n import java.util.ArrayList;\n import java.util.List;\n \n-import static org.elasticsearch.TransportVersions.ML_RERANK_DOC_OPTIONAL;\n+import static org.elasticsearch.TransportVersions.V_8_15_0;\n \n public class RankedDocsResultsTests extends AbstractChunkedBWCSerializationTestCase<RankedDocsResults> {\n \ndiff --git a/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/ml/action/GetTrainedModelsStatsActionResponseTests.java b/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/ml/action/GetTrainedModelsStatsActionResponseTests.java\nindex d60bbc6c..1b9d4ebb 100644\n--- a/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/ml/action/GetTrainedModelsStatsActionResponseTests.java\n+++ b/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/ml/action/GetTrainedModelsStatsActionResponseTests.java\n@@ -562,7 +562,7 @@ public class GetTrainedModelsStatsActionResponseTests extends AbstractBWCWireSer\n                     RESULTS_FIELD\n                 )\n             );\n-        } else if (version.before(TransportVersions.NODE_STATS_INGEST_BYTES)) {\n+        } else if (version.before(TransportVersions.V_8_15_0)) {\n             // added ByteStats to IngestStats.PipelineStat\n             return new Response(\n                 new QueryPage<>(\ndiff --git a/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/ml/action/InferModelActionRequestTests.java b/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/ml/action/InferModelActionRequestTests.java\nindex 2e4689de..05266e58 100644\n--- a/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/ml/action/InferModelActionRequestTests.java\n+++ b/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/ml/action/InferModelActionRequestTests.java\n@@ -252,7 +252,7 @@ public class InferModelActionRequestTests extends AbstractBWCWireSerializationTe\n             r.setHighPriority(instance.isHighPriority());\n             r.setPrefixType(TrainedModelPrefixStrings.PrefixType.NONE);\n             return r;\n-        } else if (version.before(TransportVersions.ML_CHUNK_INFERENCE_OPTION)) {\n+        } else if (version.before(TransportVersions.V_8_15_0)) {\n             var r = new Request(\n                 instance.getId(),\n                 adjustedUpdate,\ndiff --git a/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/security/action/user/GetUserPrivilegesResponseTests.java b/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/security/action/user/GetUserPrivilegesResponseTests.java\nindex 437f5844..9755556f 100644\n--- a/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/security/action/user/GetUserPrivilegesResponseTests.java\n+++ b/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/security/action/user/GetUserPrivilegesResponseTests.java\n@@ -69,7 +69,7 @@ public class GetUserPrivilegesResponseTests extends ESTestCase {\n     public void testSerializationForCurrentVersion() throws Exception {\n         final TransportVersion version = TransportVersionUtils.randomCompatibleVersion(random());\n         final boolean canIncludeRemoteIndices = version.onOrAfter(TransportVersions.V_8_8_0);\n-        final boolean canIncludeRemoteCluster = version.onOrAfter(TransportVersions.ROLE_REMOTE_CLUSTER_PRIVS);\n+        final boolean canIncludeRemoteCluster = version.onOrAfter(TransportVersions.V_8_15_0);\n \n         final GetUserPrivilegesResponse original = randomResponse(canIncludeRemoteIndices, canIncludeRemoteCluster);\n \ndiff --git a/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/security/authc/AuthenticationTests.java b/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/security/authc/AuthenticationTests.java\nindex 3d4d6106..878feb74 100644\n--- a/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/security/authc/AuthenticationTests.java\n+++ b/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/security/authc/AuthenticationTests.java\n@@ -1108,7 +1108,7 @@ public class AuthenticationTests extends ESTestCase {\n         final Authentication original = AuthenticationTestHelper.builder()\n             .apiKey()\n             .metadata(metadata)\n-            .transportVersion(TransportVersions.ROLE_REMOTE_CLUSTER_PRIVS)\n+            .transportVersion(TransportVersions.V_8_15_0)\n             .build();\n \n         // pick a version before that of the authentication instance to force a rewrite\ndiff --git a/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/security/authz/RoleDescriptorTests.java b/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/security/authz/RoleDescriptorTests.java\nindex d7b9f9dd..a6486753 100644\n--- a/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/security/authz/RoleDescriptorTests.java\n+++ b/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/security/authz/RoleDescriptorTests.java\n@@ -589,9 +589,9 @@ public class RoleDescriptorTests extends ESTestCase {\n     public void testSerializationForCurrentVersion() throws Exception {\n         final TransportVersion version = TransportVersionUtils.randomCompatibleVersion(random());\n         final boolean canIncludeRemoteIndices = version.onOrAfter(TransportVersions.V_8_8_0);\n-        final boolean canIncludeRemoteClusters = version.onOrAfter(TransportVersions.ROLE_REMOTE_CLUSTER_PRIVS);\n+        final boolean canIncludeRemoteClusters = version.onOrAfter(TransportVersions.V_8_15_0);\n         final boolean canIncludeWorkflows = version.onOrAfter(WORKFLOWS_RESTRICTION_VERSION);\n-        final boolean canIncludeDescription = version.onOrAfter(TransportVersions.SECURITY_ROLE_DESCRIPTION);\n+        final boolean canIncludeDescription = version.onOrAfter(TransportVersions.V_8_15_0);\n         logger.info(\"Testing serialization with version {}\", version);\n         BytesStreamOutput output = new BytesStreamOutput();\n         output.setTransportVersion(version);\n@@ -668,7 +668,7 @@ public class RoleDescriptorTests extends ESTestCase {\n \n     public void testSerializationWithRemoteClusterWithElderVersion() throws IOException {\n         final TransportVersion versionBeforeRemoteCluster = TransportVersionUtils.getPreviousVersion(\n-            TransportVersions.ROLE_REMOTE_CLUSTER_PRIVS\n+            TransportVersions.V_8_15_0\n         );\n         final TransportVersion version = TransportVersionUtils.randomVersionBetween(\n             random(),\n@@ -816,7 +816,7 @@ public class RoleDescriptorTests extends ESTestCase {\n \n     public void testSerializationWithDescriptionAndUnsupportedVersions() throws IOException {\n         final TransportVersion versionBeforeRoleDescription = TransportVersionUtils.getPreviousVersion(\n-            TransportVersions.SECURITY_ROLE_DESCRIPTION\n+            TransportVersions.V_8_15_0\n         );\n         final TransportVersion version = TransportVersionUtils.randomVersionBetween(\n             random(),\ndiff --git a/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/security/authz/permission/RemoteClusterPermissionsTests.java b/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/security/authz/permission/RemoteClusterPermissionsTests.java\nindex 39445587..cdea9853 100644\n--- a/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/security/authz/permission/RemoteClusterPermissionsTests.java\n+++ b/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/security/authz/permission/RemoteClusterPermissionsTests.java\n@@ -163,11 +163,11 @@ public class RemoteClusterPermissionsTests extends AbstractXContentSerializingTe\n         // test monitor_enrich before, after and on monitor enrich version\n         String[] privileges = randomBoolean() ? new String[] { \"monitor_enrich\" } : new String[] { \"monitor_enrich\", \"foo\", \"bar\" };\n         String[] before = new RemoteClusterPermissions().addGroup(new RemoteClusterPermissionGroup(privileges, new String[] { \"*\" }))\n-            .privilegeNames(\"*\", TransportVersionUtils.getPreviousVersion(TransportVersions.ROLE_REMOTE_CLUSTER_PRIVS));\n+            .privilegeNames(\"*\", TransportVersionUtils.getPreviousVersion(TransportVersions.V_8_15_0));\n         // empty set since monitor_enrich is not allowed in the before version\n         assertThat(Set.of(before), equalTo(Collections.emptySet()));\n         String[] on = new RemoteClusterPermissions().addGroup(new RemoteClusterPermissionGroup(privileges, new String[] { \"*\" }))\n-            .privilegeNames(\"*\", TransportVersions.ROLE_REMOTE_CLUSTER_PRIVS);\n+            .privilegeNames(\"*\", TransportVersions.V_8_15_0);\n         // only monitor_enrich since the other values are not allowed\n         assertThat(Set.of(on), equalTo(Set.of(\"monitor_enrich\")));\n         String[] after = new RemoteClusterPermissions().addGroup(new RemoteClusterPermissionGroup(privileges, new String[] { \"*\" }))\ndiff --git a/x-pack/plugin/deprecation/src/main/java/org/elasticsearch/xpack/deprecation/NodesDeprecationCheckAction.java b/x-pack/plugin/deprecation/src/main/java/org/elasticsearch/xpack/deprecation/NodesDeprecationCheckAction.java\nindex 1d9fb869..465d1704 100644\n--- a/x-pack/plugin/deprecation/src/main/java/org/elasticsearch/xpack/deprecation/NodesDeprecationCheckAction.java\n+++ b/x-pack/plugin/deprecation/src/main/java/org/elasticsearch/xpack/deprecation/NodesDeprecationCheckAction.java\n@@ -43,13 +43,13 @@ public class NodesDeprecationCheckAction extends ActionType<NodesDeprecationChec\n \n         public NodeRequest(StreamInput in) throws IOException {\n             super(in);\n-            skipLegacyNodesRequestHeader(TransportVersions.DROP_UNUSED_NODES_REQUESTS, in);\n+            skipLegacyNodesRequestHeader(TransportVersions.V_8_15_0, in);\n         }\n \n         @Override\n         public void writeTo(StreamOutput out) throws IOException {\n             super.writeTo(out);\n-            sendLegacyNodesRequestHeader(TransportVersions.DROP_UNUSED_NODES_REQUESTS, out);\n+            sendLegacyNodesRequestHeader(TransportVersions.V_8_15_0, out);\n         }\n     }\n \ndiff --git a/x-pack/plugin/ent-search/src/main/java/org/elasticsearch/xpack/application/rules/QueryRule.java b/x-pack/plugin/ent-search/src/main/java/org/elasticsearch/xpack/application/rules/QueryRule.java\nindex c14bb8e9..e1734268 100644\n--- a/x-pack/plugin/ent-search/src/main/java/org/elasticsearch/xpack/application/rules/QueryRule.java\n+++ b/x-pack/plugin/ent-search/src/main/java/org/elasticsearch/xpack/application/rules/QueryRule.java\n@@ -130,7 +130,7 @@ public class QueryRule implements Writeable, ToXContentObject {\n         this.criteria = in.readCollectionAsList(QueryRuleCriteria::new);\n         this.actions = in.readGenericMap();\n \n-        if (in.getTransportVersion().onOrAfter(TransportVersions.QUERY_RULE_CRUD_API_PUT)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             this.priority = in.readOptionalVInt();\n         } else {\n             this.priority = null;\n@@ -175,7 +175,7 @@ public class QueryRule implements Writeable, ToXContentObject {\n         out.writeString(type.toString());\n         out.writeCollection(criteria);\n         out.writeGenericMap(actions);\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.QUERY_RULE_CRUD_API_PUT)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeOptionalVInt(priority);\n         }\n     }\ndiff --git a/x-pack/plugin/ent-search/src/main/java/org/elasticsearch/xpack/application/rules/RuleQueryBuilder.java b/x-pack/plugin/ent-search/src/main/java/org/elasticsearch/xpack/application/rules/RuleQueryBuilder.java\nindex a3703a50..3e573929 100644\n--- a/x-pack/plugin/ent-search/src/main/java/org/elasticsearch/xpack/application/rules/RuleQueryBuilder.java\n+++ b/x-pack/plugin/ent-search/src/main/java/org/elasticsearch/xpack/application/rules/RuleQueryBuilder.java\n@@ -88,7 +88,7 @@ public class RuleQueryBuilder extends AbstractQueryBuilder<RuleQueryBuilder> {\n         super(in);\n         organicQuery = in.readNamedWriteable(QueryBuilder.class);\n         matchCriteria = in.readGenericMap();\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.RULE_QUERY_RENAME)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             rulesetIds = in.readStringCollectionAsList();\n         } else {\n             rulesetIds = List.of(in.readString());\n@@ -144,7 +144,7 @@ public class RuleQueryBuilder extends AbstractQueryBuilder<RuleQueryBuilder> {\n         out.writeNamedWriteable(organicQuery);\n         out.writeGenericMap(matchCriteria);\n \n-        if (out.getTransportVersion().onOrAfter(TransportVersions.RULE_QUERY_RENAME)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeStringCollection(rulesetIds);\n         } else {\n             out.writeString(rulesetIds.get(0));\ndiff --git a/x-pack/plugin/ent-search/src/test/java/org/elasticsearch/xpack/application/rules/action/GetQueryRuleActionResponseBWCSerializingTests.java b/x-pack/plugin/ent-search/src/test/java/org/elasticsearch/xpack/application/rules/action/GetQueryRuleActionResponseBWCSerializingTests.java\nindex b60747ce..d7e8f18a 100644\n--- a/x-pack/plugin/ent-search/src/test/java/org/elasticsearch/xpack/application/rules/action/GetQueryRuleActionResponseBWCSerializingTests.java\n+++ b/x-pack/plugin/ent-search/src/test/java/org/elasticsearch/xpack/application/rules/action/GetQueryRuleActionResponseBWCSerializingTests.java\n@@ -53,7 +53,7 @@ public class GetQueryRuleActionResponseBWCSerializingTests extends AbstractBWCSe\n     @Override\n     protected List<TransportVersion> bwcVersions() {\n         return getAllBWCVersions().stream()\n-            .filter(v -> v.onOrAfter(TransportVersions.QUERY_RULE_CRUD_API_GET_DELETE))\n+            .filter(v -> v.onOrAfter(TransportVersions.V_8_15_0))\n             .collect(Collectors.toList());\n     }\n }\ndiff --git a/x-pack/plugin/ent-search/src/test/java/org/elasticsearch/xpack/application/rules/action/GetQueryRulesetActionResponseBWCSerializingTests.java b/x-pack/plugin/ent-search/src/test/java/org/elasticsearch/xpack/application/rules/action/GetQueryRulesetActionResponseBWCSerializingTests.java\nindex ca58e42b..8bfbcd5e 100644\n--- a/x-pack/plugin/ent-search/src/test/java/org/elasticsearch/xpack/application/rules/action/GetQueryRulesetActionResponseBWCSerializingTests.java\n+++ b/x-pack/plugin/ent-search/src/test/java/org/elasticsearch/xpack/application/rules/action/GetQueryRulesetActionResponseBWCSerializingTests.java\n@@ -61,7 +61,7 @@ public class GetQueryRulesetActionResponseBWCSerializingTests extends AbstractBW\n                 rules.add(new QueryRule(rule.id(), rule.type(), newCriteria, rule.actions(), null));\n             }\n             return new GetQueryRulesetAction.Response(new QueryRuleset(instance.queryRuleset().id(), rules));\n-        } else if (version.before(TransportVersions.QUERY_RULE_CRUD_API_PUT)) {\n+        } else if (version.before(TransportVersions.V_8_15_0)) {\n             List<QueryRule> rules = new ArrayList<>();\n             for (QueryRule rule : instance.queryRuleset().rules()) {\n                 rules.add(new QueryRule(rule.id(), rule.type(), rule.criteria(), rule.actions(), null));\ndiff --git a/x-pack/plugin/ent-search/src/test/java/org/elasticsearch/xpack/application/rules/action/PutQueryRuleActionRequestBWCSerializingTests.java b/x-pack/plugin/ent-search/src/test/java/org/elasticsearch/xpack/application/rules/action/PutQueryRuleActionRequestBWCSerializingTests.java\nindex 5b42a899..1ae685f7 100644\n--- a/x-pack/plugin/ent-search/src/test/java/org/elasticsearch/xpack/application/rules/action/PutQueryRuleActionRequestBWCSerializingTests.java\n+++ b/x-pack/plugin/ent-search/src/test/java/org/elasticsearch/xpack/application/rules/action/PutQueryRuleActionRequestBWCSerializingTests.java\n@@ -56,7 +56,7 @@ public class PutQueryRuleActionRequestBWCSerializingTests extends AbstractBWCSer\n     @Override\n     protected List<TransportVersion> bwcVersions() {\n         return getAllBWCVersions().stream()\n-            .filter(v -> v.onOrAfter(TransportVersions.QUERY_RULE_CRUD_API_PUT))\n+            .filter(v -> v.onOrAfter(TransportVersions.V_8_15_0))\n             .collect(Collectors.toList());\n     }\n }\ndiff --git a/x-pack/plugin/ent-search/src/test/java/org/elasticsearch/xpack/application/rules/action/PutQueryRulesetActionRequestBWCSerializingTests.java b/x-pack/plugin/ent-search/src/test/java/org/elasticsearch/xpack/application/rules/action/PutQueryRulesetActionRequestBWCSerializingTests.java\nindex f9b47f5b..3b6195cc 100644\n--- a/x-pack/plugin/ent-search/src/test/java/org/elasticsearch/xpack/application/rules/action/PutQueryRulesetActionRequestBWCSerializingTests.java\n+++ b/x-pack/plugin/ent-search/src/test/java/org/elasticsearch/xpack/application/rules/action/PutQueryRulesetActionRequestBWCSerializingTests.java\n@@ -63,7 +63,7 @@ public class PutQueryRulesetActionRequestBWCSerializingTests extends AbstractBWC\n                 rules.add(new QueryRule(rule.id(), rule.type(), newCriteria, rule.actions(), null));\n             }\n             return new PutQueryRulesetAction.Request(new QueryRuleset(instance.queryRuleset().id(), rules));\n-        } else if (version.before(TransportVersions.QUERY_RULE_CRUD_API_PUT)) {\n+        } else if (version.before(TransportVersions.V_8_15_0)) {\n             List<QueryRule> rules = new ArrayList<>();\n             for (QueryRule rule : instance.queryRuleset().rules()) {\n                 rules.add(new QueryRule(rule.id(), rule.type(), rule.criteria(), rule.actions(), null));\ndiff --git a/x-pack/plugin/esql/compute/src/main/java/org/elasticsearch/compute/data/AbstractArrayBlock.java b/x-pack/plugin/esql/compute/src/main/java/org/elasticsearch/compute/data/AbstractArrayBlock.java\nindex c14289ff..9ca21e21 100644\n--- a/x-pack/plugin/esql/compute/src/main/java/org/elasticsearch/compute/data/AbstractArrayBlock.java\n+++ b/x-pack/plugin/esql/compute/src/main/java/org/elasticsearch/compute/data/AbstractArrayBlock.java\n@@ -191,7 +191,7 @@ abstract class AbstractArrayBlock extends AbstractNonThreadSafeRefCounted implem\n         if (nullsMask != null) {\n             out.writeLongArray(nullsMask.toLongArray());\n         }\n-        if (out.getTransportVersion().before(TransportVersions.ESQL_MV_ORDERING_SORTED_ASCENDING)\n+        if (out.getTransportVersion().before(TransportVersions.V_8_15_0)\n             && mvOrdering == MvOrdering.SORTED_ASCENDING) {\n             out.writeEnum(MvOrdering.UNORDERED);\n         } else {\ndiff --git a/x-pack/plugin/esql/compute/src/main/java/org/elasticsearch/compute/operator/AbstractPageMappingToIteratorOperator.java b/x-pack/plugin/esql/compute/src/main/java/org/elasticsearch/compute/operator/AbstractPageMappingToIteratorOperator.java\nindex 4fb4053b..32492af1 100644\n--- a/x-pack/plugin/esql/compute/src/main/java/org/elasticsearch/compute/operator/AbstractPageMappingToIteratorOperator.java\n+++ b/x-pack/plugin/esql/compute/src/main/java/org/elasticsearch/compute/operator/AbstractPageMappingToIteratorOperator.java\n@@ -231,7 +231,7 @@ public abstract class AbstractPageMappingToIteratorOperator implements Operator\n \n         @Override\n         public TransportVersion getMinimalSupportedVersion() {\n-            return TransportVersions.ESQL_PAGE_MAPPING_TO_ITERATOR;\n+            return TransportVersions.V_8_15_0;\n         }\n     }\n \ndiff --git a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/enrich/ResolvedEnrichPolicy.java b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/enrich/ResolvedEnrichPolicy.java\nindex 1ee9039c..e891089a 100644\n--- a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/enrich/ResolvedEnrichPolicy.java\n+++ b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/enrich/ResolvedEnrichPolicy.java\n@@ -36,7 +36,7 @@ public record ResolvedEnrichPolicy(\n \n     private static Reader<EsField> getEsFieldReader(StreamInput in) {\n         if (in.getTransportVersion().onOrAfter(TransportVersions.ESQL_ES_FIELD_CACHED_SERIALIZATION)\n-            || in.getTransportVersion().isPatchFrom(TransportVersions.ESQL_ATTRIBUTE_CACHED_SERIALIZATION_8_15)) {\n+            || in.getTransportVersion().isPatchFrom(TransportVersions.V_8_15_2)) {\n             return EsField::readFrom;\n         }\n         return EsField::new;\n@@ -57,7 +57,7 @@ public record ResolvedEnrichPolicy(\n             (o, v) -> {\n                 var field = new EsField(v.getName(), v.getDataType(), v.getProperties(), v.isAggregatable(), v.isAlias());\n                 if (out.getTransportVersion().onOrAfter(TransportVersions.ESQL_ES_FIELD_CACHED_SERIALIZATION)\n-                    || out.getTransportVersion().isPatchFrom(TransportVersions.ESQL_ATTRIBUTE_CACHED_SERIALIZATION_8_15)) {\n+                    || out.getTransportVersion().isPatchFrom(TransportVersions.V_8_15_2)) {\n                     field.writeTo(o);\n                 } else {\n                     field.writeContent(o);\ndiff --git a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/expression/function/UnsupportedAttribute.java b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/expression/function/UnsupportedAttribute.java\nindex 08c24966..1a52557e 100644\n--- a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/expression/function/UnsupportedAttribute.java\n+++ b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/expression/function/UnsupportedAttribute.java\n@@ -78,7 +78,7 @@ public final class UnsupportedAttribute extends FieldAttribute implements Unreso\n             Source.readFrom((PlanStreamInput) in),\n             ((PlanStreamInput) in).readCachedString(),\n             in.getTransportVersion().onOrAfter(TransportVersions.ESQL_ES_FIELD_CACHED_SERIALIZATION)\n-                || in.getTransportVersion().isPatchFrom(TransportVersions.ESQL_ATTRIBUTE_CACHED_SERIALIZATION_8_15)\n+                || in.getTransportVersion().isPatchFrom(TransportVersions.V_8_15_2)\n                     ? EsField.readFrom(in)\n                     : new UnsupportedEsField(in),\n             in.readOptionalString(),\n@@ -92,7 +92,7 @@ public final class UnsupportedAttribute extends FieldAttribute implements Unreso\n             Source.EMPTY.writeTo(out);\n             ((PlanStreamOutput) out).writeCachedString(name());\n             if (out.getTransportVersion().onOrAfter(TransportVersions.ESQL_ES_FIELD_CACHED_SERIALIZATION)\n-                || out.getTransportVersion().isPatchFrom(TransportVersions.ESQL_ATTRIBUTE_CACHED_SERIALIZATION_8_15)) {\n+                || out.getTransportVersion().isPatchFrom(TransportVersions.V_8_15_2)) {\n                 field().writeTo(out);\n             } else {\n                 field().writeContent(out);\ndiff --git a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/io/stream/PlanStreamInput.java b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/io/stream/PlanStreamInput.java\nindex c832f643..9003cbec 100644\n--- a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/io/stream/PlanStreamInput.java\n+++ b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/io/stream/PlanStreamInput.java\n@@ -180,7 +180,7 @@ public final class PlanStreamInput extends NamedWriteableAwareStreamInput\n     @SuppressWarnings(\"unchecked\")\n     public <A extends Attribute> A readAttributeWithCache(CheckedFunction<StreamInput, A, IOException> constructor) throws IOException {\n         if (getTransportVersion().onOrAfter(TransportVersions.ESQL_ATTRIBUTE_CACHED_SERIALIZATION)\n-            || getTransportVersion().isPatchFrom(TransportVersions.ESQL_ATTRIBUTE_CACHED_SERIALIZATION_8_15)) {\n+            || getTransportVersion().isPatchFrom(TransportVersions.V_8_15_2)) {\n             // it's safe to cast to int, since the max value for this is {@link PlanStreamOutput#MAX_SERIALIZED_ATTRIBUTES}\n             int cacheId = Math.toIntExact(readZLong());\n             if (cacheId < 0) {\n@@ -220,7 +220,7 @@ public final class PlanStreamInput extends NamedWriteableAwareStreamInput\n     @SuppressWarnings(\"unchecked\")\n     public <A extends EsField> A readEsFieldWithCache() throws IOException {\n         if (getTransportVersion().onOrAfter(TransportVersions.ESQL_ES_FIELD_CACHED_SERIALIZATION)\n-            || getTransportVersion().isPatchFrom(TransportVersions.ESQL_ATTRIBUTE_CACHED_SERIALIZATION_8_15)) {\n+            || getTransportVersion().isPatchFrom(TransportVersions.V_8_15_2)) {\n             // it's safe to cast to int, since the max value for this is {@link PlanStreamOutput#MAX_SERIALIZED_ATTRIBUTES}\n             int cacheId = Math.toIntExact(readZLong());\n             if (cacheId < 0) {\ndiff --git a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/io/stream/PlanStreamOutput.java b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/io/stream/PlanStreamOutput.java\nindex 5e31a57e..b633b101 100644\n--- a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/io/stream/PlanStreamOutput.java\n+++ b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/io/stream/PlanStreamOutput.java\n@@ -153,7 +153,7 @@ public final class PlanStreamOutput extends StreamOutput implements org.elastics\n     @Override\n     public boolean writeAttributeCacheHeader(Attribute attribute) throws IOException {\n         if (getTransportVersion().onOrAfter(TransportVersions.ESQL_ATTRIBUTE_CACHED_SERIALIZATION)\n-            || getTransportVersion().isPatchFrom(TransportVersions.ESQL_ATTRIBUTE_CACHED_SERIALIZATION_8_15)) {\n+            || getTransportVersion().isPatchFrom(TransportVersions.V_8_15_2)) {\n             Integer cacheId = attributeIdFromCache(attribute);\n             if (cacheId != null) {\n                 writeZLong(cacheId);\n@@ -185,7 +185,7 @@ public final class PlanStreamOutput extends StreamOutput implements org.elastics\n     @Override\n     public boolean writeEsFieldCacheHeader(EsField field) throws IOException {\n         if (getTransportVersion().onOrAfter(TransportVersions.ESQL_ES_FIELD_CACHED_SERIALIZATION)\n-            || getTransportVersion().isPatchFrom(TransportVersions.ESQL_ATTRIBUTE_CACHED_SERIALIZATION_8_15)) {\n+            || getTransportVersion().isPatchFrom(TransportVersions.V_8_15_2)) {\n             Integer cacheId = esFieldIdFromCache(field);\n             if (cacheId != null) {\n                 writeZLong(cacheId);\ndiff --git a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/plan/logical/Aggregate.java b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/plan/logical/Aggregate.java\nindex 3b7240dc..b2f314a0 100644\n--- a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/plan/logical/Aggregate.java\n+++ b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/plan/logical/Aggregate.java\n@@ -40,7 +40,7 @@ public class Aggregate extends UnaryPlan implements Stats {\n         METRICS;\n \n         static void writeType(StreamOutput out, AggregateType type) throws IOException {\n-            if (out.getTransportVersion().onOrAfter(TransportVersions.ESQL_ADD_AGGREGATE_TYPE)) {\n+            if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 out.writeString(type.name());\n             } else if (type != STANDARD) {\n                 throw new IllegalStateException(\"cluster is not ready to support aggregate type [\" + type + \"]\");\n@@ -48,7 +48,7 @@ public class Aggregate extends UnaryPlan implements Stats {\n         }\n \n         static AggregateType readType(StreamInput in) throws IOException {\n-            if (in.getTransportVersion().onOrAfter(TransportVersions.ESQL_ADD_AGGREGATE_TYPE)) {\n+            if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 return AggregateType.valueOf(in.readString());\n             } else {\n                 return STANDARD;\ndiff --git a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/plan/logical/EsRelation.java b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/plan/logical/EsRelation.java\nindex 0043362f..78f414da 100644\n--- a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/plan/logical/EsRelation.java\n+++ b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/plan/logical/EsRelation.java\n@@ -87,7 +87,7 @@ public class EsRelation extends LeafPlan {\n     }\n \n     private static boolean supportingEsSourceOptions(TransportVersion version) {\n-        return version.onOrAfter(TransportVersions.V_8_14_0) && version.before(TransportVersions.ESQL_REMOVE_ES_SOURCE_OPTIONS);\n+        return version.onOrAfter(TransportVersions.V_8_14_0) && version.before(TransportVersions.V_8_15_0);\n     }\n \n     @Override\n@@ -180,7 +180,7 @@ public class EsRelation extends LeafPlan {\n     }\n \n     public static IndexMode readIndexMode(StreamInput in) throws IOException {\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.ESQL_ADD_INDEX_MODE_TO_SOURCE)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             return IndexMode.fromString(in.readString());\n         } else {\n             return IndexMode.STANDARD;\n@@ -188,7 +188,7 @@ public class EsRelation extends LeafPlan {\n     }\n \n     public static void writeIndexMode(StreamOutput out, IndexMode indexMode) throws IOException {\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.ESQL_ADD_INDEX_MODE_TO_SOURCE)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeString(indexMode.getName());\n         } else if (indexMode != IndexMode.STANDARD) {\n             throw new IllegalStateException(\"not ready to support index mode [\" + indexMode + \"]\");\ndiff --git a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/session/Configuration.java b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/session/Configuration.java\nindex b904f07b..4ec2746b 100644\n--- a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/session/Configuration.java\n+++ b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/session/Configuration.java\n@@ -96,7 +96,7 @@ public class Configuration implements Writeable {\n         } else {\n             this.profile = false;\n         }\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.ESQL_REQUEST_TABLES)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             this.tables = in.readImmutableMap(i1 -> i1.readImmutableMap(i2 -> new Column((BlockStreamInput) i2)));\n         } else {\n             this.tables = Map.of();\n@@ -124,7 +124,7 @@ public class Configuration implements Writeable {\n         if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_12_0)) {\n             out.writeBoolean(profile);\n         }\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.ESQL_REQUEST_TABLES)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeMap(tables, (o1, columns) -> o1.writeMap(columns, StreamOutput::writeWriteable));\n         }\n         if (out.getTransportVersion().onOrAfter(TransportVersions.ESQL_CCS_EXECUTION_INFO)) {\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/queries/SemanticQueryBuilder.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/queries/SemanticQueryBuilder.java\nindex 9f7fcb1e..75b255df 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/queries/SemanticQueryBuilder.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/queries/SemanticQueryBuilder.java\n@@ -128,7 +128,7 @@ public class SemanticQueryBuilder extends AbstractQueryBuilder<SemanticQueryBuil\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.SEMANTIC_QUERY;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     public static SemanticQueryBuilder fromXContent(XContentParser parser) throws IOException {\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/rank/textsimilarity/TextSimilarityRankBuilder.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/rank/textsimilarity/TextSimilarityRankBuilder.java\nindex fd0ad220..e4093a91 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/rank/textsimilarity/TextSimilarityRankBuilder.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/rank/textsimilarity/TextSimilarityRankBuilder.java\n@@ -98,7 +98,7 @@ public class TextSimilarityRankBuilder extends RankBuilder {\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.TEXT_SIMILARITY_RERANKER_RETRIEVER;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/amazonbedrock/AmazonBedrockSecretSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/amazonbedrock/AmazonBedrockSecretSettings.java\nindex 30a7dc9a..34c26e17 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/amazonbedrock/AmazonBedrockSecretSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/amazonbedrock/AmazonBedrockSecretSettings.java\n@@ -22,7 +22,7 @@ import java.util.HashMap;\n import java.util.Map;\n import java.util.Objects;\n \n-import static org.elasticsearch.TransportVersions.ML_INFERENCE_AMAZON_BEDROCK_ADDED;\n+import static org.elasticsearch.TransportVersions.V_8_15_0;\n import static org.elasticsearch.xpack.inference.services.ServiceUtils.extractRequiredSecureString;\n import static org.elasticsearch.xpack.inference.services.amazonbedrock.AmazonBedrockConstants.ACCESS_KEY_FIELD;\n import static org.elasticsearch.xpack.inference.services.amazonbedrock.AmazonBedrockConstants.SECRET_KEY_FIELD;\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/amazonbedrock/AmazonBedrockService.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/amazonbedrock/AmazonBedrockService.java\nindex 64b96351..3e156207 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/amazonbedrock/AmazonBedrockService.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/amazonbedrock/AmazonBedrockService.java\n@@ -45,7 +45,7 @@ import java.util.List;\n import java.util.Map;\n import java.util.Set;\n \n-import static org.elasticsearch.TransportVersions.ML_INFERENCE_AMAZON_BEDROCK_ADDED;\n+import static org.elasticsearch.TransportVersions.V_8_15_0;\n import static org.elasticsearch.xpack.inference.services.ServiceUtils.createInvalidModelException;\n import static org.elasticsearch.xpack.inference.services.ServiceUtils.parsePersistedConfigErrorMsg;\n import static org.elasticsearch.xpack.inference.services.ServiceUtils.removeFromMapOrDefaultEmpty;\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/amazonbedrock/AmazonBedrockServiceSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/amazonbedrock/AmazonBedrockServiceSettings.java\nindex b572df4f..7e4a5cff 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/amazonbedrock/AmazonBedrockServiceSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/amazonbedrock/AmazonBedrockServiceSettings.java\n@@ -24,7 +24,7 @@ import java.util.EnumSet;\n import java.util.Map;\n import java.util.Objects;\n \n-import static org.elasticsearch.TransportVersions.ML_INFERENCE_AMAZON_BEDROCK_ADDED;\n+import static org.elasticsearch.TransportVersions.V_8_15_0;\n import static org.elasticsearch.xpack.inference.services.ServiceUtils.extractRequiredEnum;\n import static org.elasticsearch.xpack.inference.services.ServiceUtils.extractRequiredString;\n import static org.elasticsearch.xpack.inference.services.amazonbedrock.AmazonBedrockConstants.MODEL_FIELD;\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/amazonbedrock/completion/AmazonBedrockChatCompletionTaskSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/amazonbedrock/completion/AmazonBedrockChatCompletionTaskSettings.java\nindex c3db1465..35661689 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/amazonbedrock/completion/AmazonBedrockChatCompletionTaskSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/amazonbedrock/completion/AmazonBedrockChatCompletionTaskSettings.java\n@@ -21,7 +21,7 @@ import java.util.HashMap;\n import java.util.Map;\n import java.util.Objects;\n \n-import static org.elasticsearch.TransportVersions.ML_INFERENCE_AMAZON_BEDROCK_ADDED;\n+import static org.elasticsearch.TransportVersions.V_8_15_0;\n import static org.elasticsearch.xpack.inference.services.ServiceUtils.extractOptionalDoubleInRange;\n import static org.elasticsearch.xpack.inference.services.ServiceUtils.extractOptionalPositiveInteger;\n import static org.elasticsearch.xpack.inference.services.amazonbedrock.AmazonBedrockConstants.MAX_NEW_TOKENS_FIELD;\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/anthropic/AnthropicService.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/anthropic/AnthropicService.java\nindex 8d6f026e..c925053c 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/anthropic/AnthropicService.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/anthropic/AnthropicService.java\n@@ -198,7 +198,7 @@ public class AnthropicService extends SenderService {\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_ANTHROPIC_INTEGRATION_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/anthropic/completion/AnthropicChatCompletionTaskSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/anthropic/completion/AnthropicChatCompletionTaskSettings.java\nindex e8a6ca63..305502d6 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/anthropic/completion/AnthropicChatCompletionTaskSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/anthropic/completion/AnthropicChatCompletionTaskSettings.java\n@@ -167,7 +167,7 @@ public class AnthropicChatCompletionTaskSettings implements TaskSettings {\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_ANTHROPIC_INTEGRATION_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureaistudio/AzureAiStudioService.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureaistudio/AzureAiStudioService.java\nindex 6929e8f5..298cb60d 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureaistudio/AzureAiStudioService.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureaistudio/AzureAiStudioService.java\n@@ -204,7 +204,7 @@ public class AzureAiStudioService extends SenderService {\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_AZURE_AI_STUDIO;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureaistudio/completion/AzureAiStudioChatCompletionServiceSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureaistudio/completion/AzureAiStudioChatCompletionServiceSettings.java\nindex 2f8422be..ecc8f7fe 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureaistudio/completion/AzureAiStudioChatCompletionServiceSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureaistudio/completion/AzureAiStudioChatCompletionServiceSettings.java\n@@ -80,7 +80,7 @@ public class AzureAiStudioChatCompletionServiceSettings extends AzureAiStudioSer\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_AZURE_AI_STUDIO;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureaistudio/embeddings/AzureAiStudioEmbeddingsServiceSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureaistudio/embeddings/AzureAiStudioEmbeddingsServiceSettings.java\nindex 8977ba8b..6ae1f773 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureaistudio/embeddings/AzureAiStudioEmbeddingsServiceSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureaistudio/embeddings/AzureAiStudioEmbeddingsServiceSettings.java\n@@ -166,7 +166,7 @@ public class AzureAiStudioEmbeddingsServiceSettings extends AzureAiStudioService\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_AZURE_AI_STUDIO;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureopenai/AzureOpenAiService.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureopenai/AzureOpenAiService.java\nindex 4ab5046d..aa1d895f 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureopenai/AzureOpenAiService.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureopenai/AzureOpenAiService.java\n@@ -314,7 +314,7 @@ public class AzureOpenAiService extends SenderService {\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_RATE_LIMIT_SETTINGS_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureopenai/completion/AzureOpenAiCompletionServiceSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureopenai/completion/AzureOpenAiCompletionServiceSettings.java\nindex 16f58574..eb7eed2c 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureopenai/completion/AzureOpenAiCompletionServiceSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureopenai/completion/AzureOpenAiCompletionServiceSettings.java\n@@ -168,7 +168,7 @@ public class AzureOpenAiCompletionServiceSettings extends FilteredXContentObject\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_AZURE_OPENAI_COMPLETIONS;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureopenai/completion/AzureOpenAiCompletionTaskSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureopenai/completion/AzureOpenAiCompletionTaskSettings.java\nindex 3008a543..7f90b866 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureopenai/completion/AzureOpenAiCompletionTaskSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureopenai/completion/AzureOpenAiCompletionTaskSettings.java\n@@ -88,7 +88,7 @@ public class AzureOpenAiCompletionTaskSettings implements TaskSettings {\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_AZURE_OPENAI_COMPLETIONS;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureopenai/embeddings/AzureOpenAiEmbeddingsServiceSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureopenai/embeddings/AzureOpenAiEmbeddingsServiceSettings.java\nindex 941a4bde..9e8ca478 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureopenai/embeddings/AzureOpenAiEmbeddingsServiceSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureopenai/embeddings/AzureOpenAiEmbeddingsServiceSettings.java\n@@ -185,7 +185,7 @@ public class AzureOpenAiEmbeddingsServiceSettings extends FilteredXContentObject\n         maxInputTokens = in.readOptionalVInt();\n         similarity = in.readOptionalEnum(SimilarityMeasure.class);\n \n-        if (in.getTransportVersion().onOrAfter(TransportVersions.ML_INFERENCE_RATE_LIMIT_SETTINGS_ADDED)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             rateLimitSettings = new RateLimitSettings(in);\n         } else {\n             rateLimitSettings = DEFAULT_RATE_LIMIT_SETTINGS;\n@@ -303,7 +303,7 @@ public class AzureOpenAiEmbeddingsServiceSettings extends FilteredXContentObject\n         out.writeOptionalVInt(maxInputTokens);\n         out.writeOptionalEnum(SimilarityMeasure.translateSimilarity(similarity, out.getTransportVersion()));\n \n-        if (out.getTransportVersion().onOrAfter(TransportVersions.ML_INFERENCE_RATE_LIMIT_SETTINGS_ADDED)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             rateLimitSettings.writeTo(out);\n         }\n     }\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/cohere/CohereService.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/cohere/CohereService.java\nindex 6dee08bc..28bb30e6 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/cohere/CohereService.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/cohere/CohereService.java\n@@ -315,7 +315,7 @@ public class CohereService extends SenderService {\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_RATE_LIMIT_SETTINGS_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/cohere/CohereServiceSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/cohere/CohereServiceSettings.java\nindex 7f28459e..a1943b33 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/cohere/CohereServiceSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/cohere/CohereServiceSettings.java\n@@ -124,7 +124,7 @@ public class CohereServiceSettings extends FilteredXContentObject implements Ser\n         maxInputTokens = in.readOptionalVInt();\n         modelId = in.readOptionalString();\n \n-        if (in.getTransportVersion().onOrAfter(TransportVersions.ML_INFERENCE_RATE_LIMIT_SETTINGS_ADDED)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             rateLimitSettings = new RateLimitSettings(in);\n         } else {\n             rateLimitSettings = DEFAULT_RATE_LIMIT_SETTINGS;\n@@ -219,7 +219,7 @@ public class CohereServiceSettings extends FilteredXContentObject implements Ser\n         out.writeOptionalVInt(maxInputTokens);\n         out.writeOptionalString(modelId);\n \n-        if (out.getTransportVersion().onOrAfter(TransportVersions.ML_INFERENCE_RATE_LIMIT_SETTINGS_ADDED)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             rateLimitSettings.writeTo(out);\n         }\n     }\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/cohere/completion/CohereCompletionServiceSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/cohere/completion/CohereCompletionServiceSettings.java\nindex ba9e81b4..be241f3a 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/cohere/completion/CohereCompletionServiceSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/cohere/completion/CohereCompletionServiceSettings.java\n@@ -114,7 +114,7 @@ public class CohereCompletionServiceSettings extends FilteredXContentObject impl\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_COHERE_COMPLETION_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/cohere/rerank/CohereRerankServiceSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/cohere/rerank/CohereRerankServiceSettings.java\nindex 1132dff3..a3d2483a 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/cohere/rerank/CohereRerankServiceSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/cohere/rerank/CohereRerankServiceSettings.java\n@@ -101,7 +101,7 @@ public class CohereRerankServiceSettings extends FilteredXContentObject implemen\n \n         this.modelId = in.readOptionalString();\n \n-        if (in.getTransportVersion().onOrAfter(TransportVersions.ML_INFERENCE_RATE_LIMIT_SETTINGS_ADDED)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             this.rateLimitSettings = new RateLimitSettings(in);\n         } else {\n             this.rateLimitSettings = DEFAULT_RATE_LIMIT_SETTINGS;\n@@ -172,7 +172,7 @@ public class CohereRerankServiceSettings extends FilteredXContentObject implemen\n \n         out.writeOptionalString(modelId);\n \n-        if (out.getTransportVersion().onOrAfter(TransportVersions.ML_INFERENCE_RATE_LIMIT_SETTINGS_ADDED)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             rateLimitSettings.writeTo(out);\n         }\n     }\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/elasticsearch/CustomElandInternalTextEmbeddingServiceSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/elasticsearch/CustomElandInternalTextEmbeddingServiceSettings.java\nindex 381c9796..133be5e2 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/elasticsearch/CustomElandInternalTextEmbeddingServiceSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/elasticsearch/CustomElandInternalTextEmbeddingServiceSettings.java\n@@ -139,7 +139,7 @@ public class CustomElandInternalTextEmbeddingServiceSettings extends Elasticsear\n \n     public CustomElandInternalTextEmbeddingServiceSettings(StreamInput in) throws IOException {\n         super(in);\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.ML_INFERENCE_ELAND_SETTINGS_ADDED)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             dimensions = in.readOptionalVInt();\n             similarityMeasure = in.readEnum(SimilarityMeasure.class);\n             elementType = in.readEnum(DenseVectorFieldMapper.ElementType.class);\n@@ -197,7 +197,7 @@ public class CustomElandInternalTextEmbeddingServiceSettings extends Elasticsear\n     public void writeTo(StreamOutput out) throws IOException {\n         super.writeTo(out);\n \n-        if (out.getTransportVersion().onOrAfter(TransportVersions.ML_INFERENCE_ELAND_SETTINGS_ADDED)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeOptionalVInt(dimensions);\n             out.writeEnum(similarityMeasure);\n             out.writeEnum(elementType);\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googleaistudio/GoogleAiStudioService.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googleaistudio/GoogleAiStudioService.java\nindex dfd7531f..46522ffc 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googleaistudio/GoogleAiStudioService.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googleaistudio/GoogleAiStudioService.java\n@@ -212,7 +212,7 @@ public class GoogleAiStudioService extends SenderService {\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_GOOGLE_AI_STUDIO_COMPLETION_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googleaistudio/completion/GoogleAiStudioCompletionServiceSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googleaistudio/completion/GoogleAiStudioCompletionServiceSettings.java\nindex 7c0b812e..676fec13 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googleaistudio/completion/GoogleAiStudioCompletionServiceSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googleaistudio/completion/GoogleAiStudioCompletionServiceSettings.java\n@@ -102,7 +102,7 @@ public class GoogleAiStudioCompletionServiceSettings extends FilteredXContentObj\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_GOOGLE_AI_STUDIO_COMPLETION_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googleaistudio/embeddings/GoogleAiStudioEmbeddingsServiceSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googleaistudio/embeddings/GoogleAiStudioEmbeddingsServiceSettings.java\nindex 7608f48d..2ddf8efc 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googleaistudio/embeddings/GoogleAiStudioEmbeddingsServiceSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googleaistudio/embeddings/GoogleAiStudioEmbeddingsServiceSettings.java\n@@ -154,7 +154,7 @@ public class GoogleAiStudioEmbeddingsServiceSettings extends FilteredXContentObj\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_GOOGLE_AI_STUDIO_EMBEDDINGS_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googlevertexai/GoogleVertexAiSecretSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googlevertexai/GoogleVertexAiSecretSettings.java\nindex 20dbadb9..44e16fa0 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googlevertexai/GoogleVertexAiSecretSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googlevertexai/GoogleVertexAiSecretSettings.java\n@@ -82,7 +82,7 @@ public class GoogleVertexAiSecretSettings implements SecretSettings {\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_GOOGLE_VERTEX_AI_EMBEDDINGS_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googlevertexai/GoogleVertexAiService.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googlevertexai/GoogleVertexAiService.java\nindex 209b54b4..fba270b7 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googlevertexai/GoogleVertexAiService.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googlevertexai/GoogleVertexAiService.java\n@@ -150,7 +150,7 @@ public class GoogleVertexAiService extends SenderService {\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_GOOGLE_VERTEX_AI_EMBEDDINGS_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googlevertexai/embeddings/GoogleVertexAiEmbeddingsServiceSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googlevertexai/embeddings/GoogleVertexAiEmbeddingsServiceSettings.java\nindex 097ce624..32c3008a 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googlevertexai/embeddings/GoogleVertexAiEmbeddingsServiceSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googlevertexai/embeddings/GoogleVertexAiEmbeddingsServiceSettings.java\n@@ -215,7 +215,7 @@ public class GoogleVertexAiEmbeddingsServiceSettings extends FilteredXContentObj\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_GOOGLE_VERTEX_AI_EMBEDDINGS_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googlevertexai/embeddings/GoogleVertexAiEmbeddingsTaskSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googlevertexai/embeddings/GoogleVertexAiEmbeddingsTaskSettings.java\nindex b7242100..dcdbbda3 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googlevertexai/embeddings/GoogleVertexAiEmbeddingsTaskSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googlevertexai/embeddings/GoogleVertexAiEmbeddingsTaskSettings.java\n@@ -78,7 +78,7 @@ public class GoogleVertexAiEmbeddingsTaskSettings implements TaskSettings {\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_GOOGLE_VERTEX_AI_EMBEDDINGS_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googlevertexai/rerank/GoogleVertexAiRerankServiceSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googlevertexai/rerank/GoogleVertexAiRerankServiceSettings.java\nindex 431f704c..d123d14b 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googlevertexai/rerank/GoogleVertexAiRerankServiceSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googlevertexai/rerank/GoogleVertexAiRerankServiceSettings.java\n@@ -99,7 +99,7 @@ public class GoogleVertexAiRerankServiceSettings extends FilteredXContentObject\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_GOOGLE_VERTEX_AI_RERANKING_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googlevertexai/rerank/GoogleVertexAiRerankTaskSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googlevertexai/rerank/GoogleVertexAiRerankTaskSettings.java\nindex 64bec7e6..0bc3df58 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googlevertexai/rerank/GoogleVertexAiRerankTaskSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googlevertexai/rerank/GoogleVertexAiRerankTaskSettings.java\n@@ -75,7 +75,7 @@ public class GoogleVertexAiRerankTaskSettings implements TaskSettings {\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_GOOGLE_VERTEX_AI_RERANKING_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/huggingface/HuggingFaceService.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/huggingface/HuggingFaceService.java\nindex 81069f90..ed36e602 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/huggingface/HuggingFaceService.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/huggingface/HuggingFaceService.java\n@@ -134,6 +134,6 @@ public class HuggingFaceService extends HuggingFaceBaseService {\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_RATE_LIMIT_SETTINGS_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n }\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/huggingface/HuggingFaceServiceSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/huggingface/HuggingFaceServiceSettings.java\nindex c136e73a..74291538 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/huggingface/HuggingFaceServiceSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/huggingface/HuggingFaceServiceSettings.java\n@@ -120,7 +120,7 @@ public class HuggingFaceServiceSettings extends FilteredXContentObject implement\n             maxInputTokens = null;\n         }\n \n-        if (in.getTransportVersion().onOrAfter(TransportVersions.ML_INFERENCE_RATE_LIMIT_SETTINGS_ADDED)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             rateLimitSettings = new RateLimitSettings(in);\n         } else {\n             rateLimitSettings = DEFAULT_RATE_LIMIT_SETTINGS;\n@@ -171,7 +171,7 @@ public class HuggingFaceServiceSettings extends FilteredXContentObject implement\n             out.writeOptionalVInt(maxInputTokens);\n         }\n \n-        if (out.getTransportVersion().onOrAfter(TransportVersions.ML_INFERENCE_RATE_LIMIT_SETTINGS_ADDED)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             rateLimitSettings.writeTo(out);\n         }\n     }\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/huggingface/elser/HuggingFaceElserServiceSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/huggingface/elser/HuggingFaceElserServiceSettings.java\nindex b48e7186..be5f595d 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/huggingface/elser/HuggingFaceElserServiceSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/huggingface/elser/HuggingFaceElserServiceSettings.java\n@@ -76,7 +76,7 @@ public class HuggingFaceElserServiceSettings extends FilteredXContentObject\n     public HuggingFaceElserServiceSettings(StreamInput in) throws IOException {\n         uri = createUri(in.readString());\n \n-        if (in.getTransportVersion().onOrAfter(TransportVersions.ML_INFERENCE_RATE_LIMIT_SETTINGS_ADDED)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             rateLimitSettings = new RateLimitSettings(in);\n         } else {\n             rateLimitSettings = DEFAULT_RATE_LIMIT_SETTINGS;\n@@ -134,7 +134,7 @@ public class HuggingFaceElserServiceSettings extends FilteredXContentObject\n     public void writeTo(StreamOutput out) throws IOException {\n         out.writeString(uri.toString());\n \n-        if (out.getTransportVersion().onOrAfter(TransportVersions.ML_INFERENCE_RATE_LIMIT_SETTINGS_ADDED)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             rateLimitSettings.writeTo(out);\n         }\n     }\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/mistral/MistralService.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/mistral/MistralService.java\nindex 45914542..bda9d254 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/mistral/MistralService.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/mistral/MistralService.java\n@@ -40,7 +40,7 @@ import org.elasticsearch.xpack.inference.services.validation.ModelValidatorBuild\n import java.util.List;\n import java.util.Map;\n \n-import static org.elasticsearch.TransportVersions.ADD_MISTRAL_EMBEDDINGS_INFERENCE;\n+import static org.elasticsearch.TransportVersions.V_8_15_0;\n import static org.elasticsearch.xpack.inference.services.ServiceUtils.createInvalidModelException;\n import static org.elasticsearch.xpack.inference.services.ServiceUtils.parsePersistedConfigErrorMsg;\n import static org.elasticsearch.xpack.inference.services.ServiceUtils.removeFromMapOrDefaultEmpty;\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/mistral/embeddings/MistralEmbeddingsServiceSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/mistral/embeddings/MistralEmbeddingsServiceSettings.java\nindex 3310b862..6dead230 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/mistral/embeddings/MistralEmbeddingsServiceSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/mistral/embeddings/MistralEmbeddingsServiceSettings.java\n@@ -26,7 +26,7 @@ import java.io.IOException;\n import java.util.Map;\n import java.util.Objects;\n \n-import static org.elasticsearch.TransportVersions.ADD_MISTRAL_EMBEDDINGS_INFERENCE;\n+import static org.elasticsearch.TransportVersions.V_8_15_0;\n import static org.elasticsearch.xpack.inference.services.ServiceFields.DIMENSIONS;\n import static org.elasticsearch.xpack.inference.services.ServiceFields.MAX_INPUT_TOKENS;\n import static org.elasticsearch.xpack.inference.services.ServiceFields.SIMILARITY;\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/openai/OpenAiService.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/openai/OpenAiService.java\nindex 6ad8ef4e..7b8975f6 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/openai/OpenAiService.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/openai/OpenAiService.java\n@@ -302,7 +302,7 @@ public class OpenAiService extends SenderService {\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_RATE_LIMIT_SETTINGS_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/openai/completion/OpenAiChatCompletionServiceSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/openai/completion/OpenAiChatCompletionServiceSettings.java\nindex 96436996..88840cc1 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/openai/completion/OpenAiChatCompletionServiceSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/openai/completion/OpenAiChatCompletionServiceSettings.java\n@@ -119,7 +119,7 @@ public class OpenAiChatCompletionServiceSettings extends FilteredXContentObject\n         this.organizationId = in.readOptionalString();\n         this.maxInputTokens = in.readOptionalVInt();\n \n-        if (in.getTransportVersion().onOrAfter(TransportVersions.ML_INFERENCE_RATE_LIMIT_SETTINGS_ADDED)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             rateLimitSettings = new RateLimitSettings(in);\n         } else {\n             rateLimitSettings = DEFAULT_RATE_LIMIT_SETTINGS;\n@@ -197,7 +197,7 @@ public class OpenAiChatCompletionServiceSettings extends FilteredXContentObject\n         out.writeOptionalString(organizationId);\n         out.writeOptionalVInt(maxInputTokens);\n \n-        if (out.getTransportVersion().onOrAfter(TransportVersions.ML_INFERENCE_RATE_LIMIT_SETTINGS_ADDED)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             rateLimitSettings.writeTo(out);\n         }\n     }\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/openai/embeddings/OpenAiEmbeddingsServiceSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/openai/embeddings/OpenAiEmbeddingsServiceSettings.java\nindex 940f78bc..4bb87f41 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/openai/embeddings/OpenAiEmbeddingsServiceSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/openai/embeddings/OpenAiEmbeddingsServiceSettings.java\n@@ -202,7 +202,7 @@ public class OpenAiEmbeddingsServiceSettings extends FilteredXContentObject impl\n             modelId = \"unset\";\n         }\n \n-        if (in.getTransportVersion().onOrAfter(TransportVersions.ML_INFERENCE_RATE_LIMIT_SETTINGS_ADDED)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             rateLimitSettings = new RateLimitSettings(in);\n         } else {\n             rateLimitSettings = DEFAULT_RATE_LIMIT_SETTINGS;\n@@ -330,7 +330,7 @@ public class OpenAiEmbeddingsServiceSettings extends FilteredXContentObject impl\n             out.writeString(modelId);\n         }\n \n-        if (out.getTransportVersion().onOrAfter(TransportVersions.ML_INFERENCE_RATE_LIMIT_SETTINGS_ADDED)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             rateLimitSettings.writeTo(out);\n         }\n     }\ndiff --git a/x-pack/plugin/inference/src/test/java/org/elasticsearch/xpack/inference/services/cohere/rerank/CohereRerankServiceSettingsTests.java b/x-pack/plugin/inference/src/test/java/org/elasticsearch/xpack/inference/services/cohere/rerank/CohereRerankServiceSettingsTests.java\nindex a729ac8e..e3401b74 100644\n--- a/x-pack/plugin/inference/src/test/java/org/elasticsearch/xpack/inference/services/cohere/rerank/CohereRerankServiceSettingsTests.java\n+++ b/x-pack/plugin/inference/src/test/java/org/elasticsearch/xpack/inference/services/cohere/rerank/CohereRerankServiceSettingsTests.java\n@@ -78,7 +78,7 @@ public class CohereRerankServiceSettingsTests extends AbstractBWCWireSerializati\n \n     @Override\n     protected CohereRerankServiceSettings mutateInstanceForVersion(CohereRerankServiceSettings instance, TransportVersion version) {\n-        if (version.before(TransportVersions.ML_INFERENCE_RATE_LIMIT_SETTINGS_ADDED)) {\n+        if (version.before(TransportVersions.V_8_15_0)) {\n             // We always default to the same rate limit settings, if a node is on a version before rate limits were introduced\n             return new CohereRerankServiceSettings(instance.uri(), instance.modelId(), CohereServiceSettings.DEFAULT_RATE_LIMIT_SETTINGS);\n         }\ndiff --git a/x-pack/plugin/ml/src/main/java/org/elasticsearch/xpack/ml/action/TransportTrainedModelCacheInfoAction.java b/x-pack/plugin/ml/src/main/java/org/elasticsearch/xpack/ml/action/TransportTrainedModelCacheInfoAction.java\nindex af7e1869..805b1adf 100644\n--- a/x-pack/plugin/ml/src/main/java/org/elasticsearch/xpack/ml/action/TransportTrainedModelCacheInfoAction.java\n+++ b/x-pack/plugin/ml/src/main/java/org/elasticsearch/xpack/ml/action/TransportTrainedModelCacheInfoAction.java\n@@ -95,7 +95,7 @@ public class TransportTrainedModelCacheInfoAction extends TransportNodesAction<\n \n         public NodeModelCacheInfoRequest(StreamInput in) throws IOException {\n             super(in);\n-            skipLegacyNodesRequestHeader(TransportVersions.DROP_UNUSED_NODES_REQUESTS, in);\n+            skipLegacyNodesRequestHeader(TransportVersions.V_8_15_0, in);\n         }\n \n         @Override\n@@ -106,7 +106,7 @@ public class TransportTrainedModelCacheInfoAction extends TransportNodesAction<\n         @Override\n         public void writeTo(StreamOutput out) throws IOException {\n             super.writeTo(out);\n-            sendLegacyNodesRequestHeader(TransportVersions.DROP_UNUSED_NODES_REQUESTS, out);\n+            sendLegacyNodesRequestHeader(TransportVersions.V_8_15_0, out);\n         }\n     }\n }\ndiff --git a/x-pack/plugin/ml/src/main/java/org/elasticsearch/xpack/ml/queries/SparseVectorQueryBuilder.java b/x-pack/plugin/ml/src/main/java/org/elasticsearch/xpack/ml/queries/SparseVectorQueryBuilder.java\nindex cb858940..5a63ad8e 100644\n--- a/x-pack/plugin/ml/src/main/java/org/elasticsearch/xpack/ml/queries/SparseVectorQueryBuilder.java\n+++ b/x-pack/plugin/ml/src/main/java/org/elasticsearch/xpack/ml/queries/SparseVectorQueryBuilder.java\n@@ -310,7 +310,7 @@ public class SparseVectorQueryBuilder extends AbstractQueryBuilder<SparseVectorQ\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.SPARSE_VECTOR_QUERY_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     private static final ConstructingObjectParser<SparseVectorQueryBuilder, Void> PARSER = new ConstructingObjectParser<>(NAME, a -> {\ndiff --git a/x-pack/plugin/security/src/main/java/org/elasticsearch/xpack/security/authc/ApiKeyService.java b/x-pack/plugin/security/src/main/java/org/elasticsearch/xpack/security/authc/ApiKeyService.java\nindex 90566e25..0a6ffd35 100644\n--- a/x-pack/plugin/security/src/main/java/org/elasticsearch/xpack/security/authc/ApiKeyService.java\n+++ b/x-pack/plugin/security/src/main/java/org/elasticsearch/xpack/security/authc/ApiKeyService.java\n@@ -139,7 +139,7 @@ import java.util.function.Supplier;\n import java.util.stream.Collectors;\n \n import static org.elasticsearch.TransportVersions.ADD_MANAGE_ROLES_PRIVILEGE;\n-import static org.elasticsearch.TransportVersions.ROLE_REMOTE_CLUSTER_PRIVS;\n+import static org.elasticsearch.TransportVersions.V_8_15_0;\n import static org.elasticsearch.core.Strings.format;\n import static org.elasticsearch.search.SearchService.DEFAULT_KEEPALIVE_SETTING;\n import static org.elasticsearch.transport.RemoteClusterPortSettings.TRANSPORT_VERSION_ADVANCED_REMOTE_CLUSTER_SECURITY;\ndiff --git a/x-pack/plugin/security/src/main/java/org/elasticsearch/xpack/security/authz/store/NativeRolesStore.java b/x-pack/plugin/security/src/main/java/org/elasticsearch/xpack/security/authz/store/NativeRolesStore.java\nindex 9ddda193..2d2fd535 100644\n--- a/x-pack/plugin/security/src/main/java/org/elasticsearch/xpack/security/authz/store/NativeRolesStore.java\n+++ b/x-pack/plugin/security/src/main/java/org/elasticsearch/xpack/security/authz/store/NativeRolesStore.java\n@@ -81,7 +81,7 @@ import java.util.Set;\n import java.util.function.BiConsumer;\n import java.util.function.Supplier;\n \n-import static org.elasticsearch.TransportVersions.ROLE_REMOTE_CLUSTER_PRIVS;\n+import static org.elasticsearch.TransportVersions.V_8_15_0;\n import static org.elasticsearch.action.ValidateActions.addValidationError;\n import static org.elasticsearch.index.query.QueryBuilders.existsQuery;\n import static org.elasticsearch.search.SearchService.DEFAULT_KEEPALIVE_SETTING;\n@@ -471,10 +471,10 @@ public class NativeRolesStore implements BiConsumer<Set<String>, ActionListener<\n                         \"all nodes must have version [\" + ROLE_REMOTE_CLUSTER_PRIVS + \"] or higher to support remote cluster privileges\"\n                     );\n                 } else if (role.hasDescription()\n-                    && clusterService.state().getMinTransportVersion().before(TransportVersions.SECURITY_ROLE_DESCRIPTION)) {\n+                    && clusterService.state().getMinTransportVersion().before(TransportVersions.V_8_15_0)) {\n                         return new IllegalStateException(\n                             \"all nodes must have version [\"\n-                                + TransportVersions.SECURITY_ROLE_DESCRIPTION.toReleaseVersion()\n+                                + TransportVersions.V_8_15_0.toReleaseVersion()\n                                 + \"] or higher to support specifying role description\"\n                         );\n                     } else if (Arrays.stream(role.getConditionalClusterPrivileges())\n@@ -646,7 +646,7 @@ public class NativeRolesStore implements BiConsumer<Set<String>, ActionListener<\n             builder.array(RoleDescriptor.Fields.REMOTE_CLUSTER.getPreferredName(), RemoteClusterPermissions.NONE);\n         }\n         if (role.hasDescription() == false\n-            && clusterService.state().getMinTransportVersion().onOrAfter(TransportVersions.SECURITY_ROLE_DESCRIPTION)) {\n+            && clusterService.state().getMinTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             builder.field(RoleDescriptor.Fields.DESCRIPTION.getPreferredName(), \"\");\n         }\n \ndiff --git a/x-pack/plugin/security/src/test/java/org/elasticsearch/xpack/security/authc/ApiKeyServiceTests.java b/x-pack/plugin/security/src/test/java/org/elasticsearch/xpack/security/authc/ApiKeyServiceTests.java\nindex fa6eb307..c872d9c1 100644\n--- a/x-pack/plugin/security/src/test/java/org/elasticsearch/xpack/security/authc/ApiKeyServiceTests.java\n+++ b/x-pack/plugin/security/src/test/java/org/elasticsearch/xpack/security/authc/ApiKeyServiceTests.java\n@@ -158,7 +158,7 @@ import java.util.stream.Collectors;\n import java.util.stream.IntStream;\n import java.util.stream.LongStream;\n \n-import static org.elasticsearch.TransportVersions.ROLE_REMOTE_CLUSTER_PRIVS;\n+import static org.elasticsearch.TransportVersions.V_8_15_0;\n import static org.elasticsearch.index.seqno.SequenceNumbers.UNASSIGNED_PRIMARY_TERM;\n import static org.elasticsearch.index.seqno.SequenceNumbers.UNASSIGNED_SEQ_NO;\n import static org.elasticsearch.test.ActionListenerUtils.anyActionListener;\ndiff --git a/x-pack/plugin/security/src/test/java/org/elasticsearch/xpack/security/authz/store/NativeRolesStoreTests.java b/x-pack/plugin/security/src/test/java/org/elasticsearch/xpack/security/authz/store/NativeRolesStoreTests.java\nindex bfa358d0..eb4f2dc1 100644\n--- a/x-pack/plugin/security/src/test/java/org/elasticsearch/xpack/security/authz/store/NativeRolesStoreTests.java\n+++ b/x-pack/plugin/security/src/test/java/org/elasticsearch/xpack/security/authz/store/NativeRolesStoreTests.java\n@@ -488,7 +488,7 @@ public class NativeRolesStoreTests extends ESTestCase {\n             switch (testMode) {\n                 case REMOTE_CLUSTER_PRIVS -> {\n                     transportVersionBeforeAdvancedRemoteClusterSecurity = TransportVersionUtils.getPreviousVersion(\n-                        TransportVersions.ROLE_REMOTE_CLUSTER_PRIVS\n+                        TransportVersions.V_8_15_0\n                     );\n                     remoteIndicesPrivileges = null;\n                 }\n@@ -549,7 +549,7 @@ public class NativeRolesStoreTests extends ESTestCase {\n                 containsString(\n                     \"all nodes must have version [\"\n                         + (TEST_MODE.REMOTE_CLUSTER_PRIVS.equals(testMode)\n-                            ? TransportVersions.ROLE_REMOTE_CLUSTER_PRIVS\n+                            ? TransportVersions.V_8_15_0\n                             : TRANSPORT_VERSION_ADVANCED_REMOTE_CLUSTER_SECURITY.toReleaseVersion())\n                         + \"] or higher to support remote \"\n                         + (remoteIndicesPrivileges != null ? \"indices\" : \"cluster\")\ndiff --git a/x-pack/plugin/shutdown/src/main/java/org/elasticsearch/xpack/shutdown/GetShutdownStatusAction.java b/x-pack/plugin/shutdown/src/main/java/org/elasticsearch/xpack/shutdown/GetShutdownStatusAction.java\nindex 7e5498a7..a5c811e2 100644\n--- a/x-pack/plugin/shutdown/src/main/java/org/elasticsearch/xpack/shutdown/GetShutdownStatusAction.java\n+++ b/x-pack/plugin/shutdown/src/main/java/org/elasticsearch/xpack/shutdown/GetShutdownStatusAction.java\n@@ -52,7 +52,7 @@ public class GetShutdownStatusAction extends ActionType<GetShutdownStatusAction.\n \n         @UpdateForV9 // only needed for bwc, inline in v9\n         public static Request readFrom(StreamInput in) throws IOException {\n-            if (in.getTransportVersion().onOrAfter(TransportVersions.GET_SHUTDOWN_STATUS_TIMEOUT)) {\n+            if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 return new Request(in);\n             } else {\n                 return new Request(TimeValue.THIRTY_SECONDS, in);\n@@ -61,20 +61,20 @@ public class GetShutdownStatusAction extends ActionType<GetShutdownStatusAction.\n \n         private Request(StreamInput in) throws IOException {\n             super(in);\n-            assert in.getTransportVersion().onOrAfter(TransportVersions.GET_SHUTDOWN_STATUS_TIMEOUT);\n+            assert in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0);\n             nodeIds = in.readStringArray();\n         }\n \n         @UpdateForV9 // only needed for bwc, remove in v9\n         private Request(TimeValue masterNodeTimeout, StreamInput in) throws IOException {\n             super(masterNodeTimeout);\n-            assert in.getTransportVersion().before(TransportVersions.GET_SHUTDOWN_STATUS_TIMEOUT);\n+            assert in.getTransportVersion().before(TransportVersions.V_8_15_0);\n             nodeIds = in.readStringArray();\n         }\n \n         @Override\n         public void writeTo(StreamOutput out) throws IOException {\n-            if (out.getTransportVersion().onOrAfter(TransportVersions.GET_SHUTDOWN_STATUS_TIMEOUT)) {\n+            if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 super.writeTo(out);\n             }\n             out.writeStringArray(this.nodeIds);\ndiff --git a/x-pack/plugin/shutdown/src/main/java/org/elasticsearch/xpack/shutdown/ShutdownPlugin.java b/x-pack/plugin/shutdown/src/main/java/org/elasticsearch/xpack/shutdown/ShutdownPlugin.java\nindex 621836ce..dd92564d 100644\n--- a/x-pack/plugin/shutdown/src/main/java/org/elasticsearch/xpack/shutdown/ShutdownPlugin.java\n+++ b/x-pack/plugin/shutdown/src/main/java/org/elasticsearch/xpack/shutdown/ShutdownPlugin.java\n@@ -77,6 +77,6 @@ public class ShutdownPlugin extends Plugin implements ActionPlugin {\n     static boolean serializesWithParentTaskAndTimeouts(TransportVersion transportVersion) {\n         return transportVersion.isPatchFrom(TransportVersions.V_8_13_4)\n             || transportVersion.isPatchFrom(TransportVersions.V_8_14_0)\n-            || transportVersion.onOrAfter(TransportVersions.SHUTDOWN_REQUEST_TIMEOUTS_FIX);\n+            || transportVersion.onOrAfter(TransportVersions.V_8_15_0);\n     }\n }\ndiff --git a/x-pack/qa/rolling-upgrade/src/test/java/org/elasticsearch/upgrades/RolesBackwardsCompatibilityIT.java b/x-pack/qa/rolling-upgrade/src/test/java/org/elasticsearch/upgrades/RolesBackwardsCompatibilityIT.java\nindex 650779cf..084762dd 100644\n--- a/x-pack/qa/rolling-upgrade/src/test/java/org/elasticsearch/upgrades/RolesBackwardsCompatibilityIT.java\n+++ b/x-pack/qa/rolling-upgrade/src/test/java/org/elasticsearch/upgrades/RolesBackwardsCompatibilityIT.java\n@@ -43,8 +43,8 @@ public class RolesBackwardsCompatibilityIT extends AbstractUpgradeTestCase {\n \n     public void testRolesWithDescription() throws Exception {\n         assumeTrue(\n-            \"The role description is supported after transport version: \" + TransportVersions.SECURITY_ROLE_DESCRIPTION,\n-            minimumTransportVersion().before(TransportVersions.SECURITY_ROLE_DESCRIPTION)\n+            \"The role description is supported after transport version: \" + TransportVersions.V_8_15_0,\n+            minimumTransportVersion().before(TransportVersions.V_8_15_0)\n         );\n         switch (CLUSTER_TYPE) {\n             case OLD -> {\n@@ -75,7 +75,7 @@ public class RolesBackwardsCompatibilityIT extends AbstractUpgradeTestCase {\n             }\n             case MIXED -> {\n                 try {\n-                    this.createClientsByVersion(TransportVersions.SECURITY_ROLE_DESCRIPTION);\n+                    this.createClientsByVersion(TransportVersions.V_8_15_0);\n                     // succeed when role description is not provided\n                     final String initialRole = randomRoleDescriptorSerialized();\n                     createRole(client(), \"my-valid-mixed-role\", initialRole);\n@@ -116,7 +116,7 @@ public class RolesBackwardsCompatibilityIT extends AbstractUpgradeTestCase {\n                             e.getMessage(),\n                             containsString(\n                                 \"all nodes must have version [\"\n-                                    + TransportVersions.SECURITY_ROLE_DESCRIPTION.toReleaseVersion()\n+                                    + TransportVersions.V_8_15_0.toReleaseVersion()\n                                     + \"] or higher to support specifying role description\"\n                             )\n                         );\n@@ -130,7 +130,7 @@ public class RolesBackwardsCompatibilityIT extends AbstractUpgradeTestCase {\n                             e.getMessage(),\n                             containsString(\n                                 \"all nodes must have version [\"\n-                                    + TransportVersions.SECURITY_ROLE_DESCRIPTION.toReleaseVersion()\n+                                    + TransportVersions.V_8_15_0.toReleaseVersion()\n                                     + \"] or higher to support specifying role description\"\n                             )\n                         );",
  "logs_path": "factory/claude-sonnet-4-5-20250929/074538b9/elastic_elasticsearch_pr114971/logs.jsonl",
  "errors": [],
  "edit_run_id": "074538b9",
  "test_label": "v0"
}