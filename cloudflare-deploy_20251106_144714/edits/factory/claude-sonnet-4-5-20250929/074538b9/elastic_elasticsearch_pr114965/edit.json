{
  "repo_url": "https://github.com/elastic/elasticsearch.git",
  "pr_number": 114965,
  "base_commit": "64ae0aea45036be62aec076717816a27aa006437",
  "runner": "factory",
  "model": "claude-sonnet-4-5-20250929",
  "timeout_s": 7200,
  "status": "success",
  "elapsed_ms": 460129,
  "patch_unified": "diff --git a/docs/reference/esql/esql-kibana.asciidoc b/docs/reference/esql/esql-kibana.asciidoc\nindex 5da8b932..5a371fbc 100644\n--- a/docs/reference/esql/esql-kibana.asciidoc\n+++ b/docs/reference/esql/esql-kibana.asciidoc\n@@ -185,6 +185,54 @@ FROM kibana_sample_data_logs\n | WHERE timestamp > NOW() - 15minutes\n ----\n \n+[discrete]\n+[[esql-kibana-time-filter-params]]\n+==== Using time filter parameters\n+\n+When working with the Kibana time filter, you can reference the selected time\n+range in your {esql} queries using named parameters `?_tstart` and `?_tend`.\n+These parameters are automatically populated with the start and end times from\n+the time filter.\n+\n+For example, to explicitly filter data using the time range:\n+[source,esql]\n+----\n+FROM kibana_sample_data_logs\n+| WHERE @timestamp >= ?_tstart AND @timestamp < ?_tend\n+----\n+\n+This is particularly useful when:\n+\n+* You want to use the time range for calculations or comparisons beyond simple filtering\n+* You need to reference the time boundaries in aggregations or functions\n+* You're working with multiple timestamp fields and want to apply the time filter to a specific field\n+\n+[discrete]\n+[[esql-kibana-time-filter-custom-buckets]]\n+==== Custom time buckets\n+\n+You can combine time filter parameters with the <<esql-bucket>> function to\n+create time-based histograms that align with the selected time range:\n+\n+[source,esql]\n+----\n+FROM kibana_sample_data_logs\n+| STATS count = COUNT(*) BY bucket = BUCKET(@timestamp, 25, ?_tstart, ?_tend)\n+| SORT bucket\n+----\n+\n+This query automatically divides the selected time range into approximately 25\n+buckets, making it easy to create visualizations that adapt to different time\n+ranges without modifying the query.\n+\n+For fixed-size time buckets, you can specify a time span directly:\n+[source,esql]\n+----\n+FROM kibana_sample_data_logs\n+| STATS count = COUNT(*) BY bucket = BUCKET(@timestamp, 1 hour)\n+| SORT bucket\n+----\n+\n [discrete]\n [[esql-kibana-visualizations]]\n === Analyze and visualize data",
  "logs_path": "factory/claude-sonnet-4-5-20250929/074538b9/elastic_elasticsearch_pr114965/logs.jsonl",
  "errors": [],
  "edit_run_id": "074538b9",
  "test_label": "v0"
}