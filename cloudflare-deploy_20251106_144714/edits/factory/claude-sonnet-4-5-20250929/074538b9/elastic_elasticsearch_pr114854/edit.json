{
  "repo_url": "https://github.com/elastic/elasticsearch.git",
  "pr_number": 114854,
  "base_commit": "9770ab7ac2da950b916743507abf8f9e73e084c7",
  "runner": "factory",
  "model": "claude-sonnet-4-5-20250929",
  "timeout_s": 7200,
  "status": "success",
  "elapsed_ms": 359307,
  "patch_unified": "diff --git a/server/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java b/server/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java\nindex 6d427aac..f30d773d 100644\n--- a/server/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java\n+++ b/server/src/main/java/org/elasticsearch/search/builder/SearchSourceBuilder.java\n@@ -19,6 +19,7 @@ import org.elasticsearch.common.ValidationException;\n import org.elasticsearch.common.io.stream.StreamInput;\n import org.elasticsearch.common.io.stream.StreamOutput;\n import org.elasticsearch.common.io.stream.Writeable;\n+import org.elasticsearch.common.logging.DeprecationCategory;\n import org.elasticsearch.common.logging.DeprecationLogger;\n import org.elasticsearch.common.util.CollectionUtils;\n import org.elasticsearch.common.xcontent.XContentHelper;\n@@ -1418,6 +1419,12 @@ public final class SearchSourceBuilder implements Writeable, ToXContentObject, R\n                     if (RANK_SUPPORTED == false) {\n                         throwUnknownKey(parser, token, currentFieldName);\n                     }\n+                    deprecationLogger.critical(\n+                        DeprecationCategory.API,\n+                        \"search_rank_field_deprecated\",\n+                        \"The [rank] field in search requests is deprecated and will be removed in a future version. \"\n+                            + \"Please use the [retriever] field instead.\"\n+                    );\n                     if (parser.nextToken() != XContentParser.Token.FIELD_NAME) {\n                         throw new ParsingException(\n                             parser.getTokenLocation(),\n@@ -1605,6 +1612,12 @@ public final class SearchSourceBuilder implements Writeable, ToXContentObject, R\n                     if (RANK_SUPPORTED == false) {\n                         throwUnknownKey(parser, token, currentFieldName);\n                     }\n+                    deprecationLogger.critical(\n+                        DeprecationCategory.API,\n+                        \"search_sub_searches_field_deprecated\",\n+                        \"The [sub_searches] field in search requests is deprecated and will be removed in a future version. \"\n+                            + \"Please use the [retriever] field instead.\"\n+                    );\n                     if (subSearchSourceBuilders.isEmpty() == false) {\n                         throw new IllegalArgumentException(\n                             \"cannot specify field [\" + currentFieldName + \"] and field [\" + QUERY_FIELD.getPreferredName() + \"]\"",
  "logs_path": "factory/claude-sonnet-4-5-20250929/074538b9/elastic_elasticsearch_pr114854/logs.jsonl",
  "errors": [],
  "edit_run_id": "074538b9",
  "test_label": "v0"
}