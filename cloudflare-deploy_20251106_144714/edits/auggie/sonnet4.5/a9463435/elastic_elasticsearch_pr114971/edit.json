{
  "repo_url": "https://github.com/elastic/elasticsearch.git",
  "pr_number": 114971,
  "base_commit": "91e1e02edcd877e7b347156f5f9ef39e62bce211",
  "runner": "auggie",
  "model": "sonnet4.5",
  "timeout_s": 1800,
  "status": "success",
  "elapsed_ms": 704168,
  "patch_unified": "diff --git a/modules/ingest-geoip/src/main/java/org/elasticsearch/ingest/geoip/EnterpriseGeoIpTaskState.java b/modules/ingest-geoip/src/main/java/org/elasticsearch/ingest/geoip/EnterpriseGeoIpTaskState.java\nindex c4d0aef0..92c01de5 100644\n--- a/modules/ingest-geoip/src/main/java/org/elasticsearch/ingest/geoip/EnterpriseGeoIpTaskState.java\n+++ b/modules/ingest-geoip/src/main/java/org/elasticsearch/ingest/geoip/EnterpriseGeoIpTaskState.java\n@@ -123,7 +123,7 @@ class EnterpriseGeoIpTaskState implements PersistentTaskState, VersionedNamedWri\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ENTERPRISE_GEOIP_DOWNLOADER;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/modules/ingest-geoip/src/main/java/org/elasticsearch/ingest/geoip/GeoIpTaskState.java b/modules/ingest-geoip/src/main/java/org/elasticsearch/ingest/geoip/GeoIpTaskState.java\nindex 09ed1056..e2cc4d1d 100644\n--- a/modules/ingest-geoip/src/main/java/org/elasticsearch/ingest/geoip/GeoIpTaskState.java\n+++ b/modules/ingest-geoip/src/main/java/org/elasticsearch/ingest/geoip/GeoIpTaskState.java\n@@ -45,7 +45,7 @@ public class GeoIpTaskState implements PersistentTaskState, VersionedNamedWritea\n \n     private static boolean includeSha256(TransportVersion version) {\n         return version.isPatchFrom(TransportVersions.ENTERPRISE_GEOIP_DOWNLOADER_BACKPORT_8_15)\n-            || version.onOrAfter(TransportVersions.ENTERPRISE_GEOIP_DOWNLOADER);\n+            || version.onOrAfter(TransportVersions.V_8_15_0);\n     }\n \n     private static final ParseField DATABASES = new ParseField(\"databases\");\ndiff --git a/modules/ingest-geoip/src/main/java/org/elasticsearch/ingest/geoip/IngestGeoIpMetadata.java b/modules/ingest-geoip/src/main/java/org/elasticsearch/ingest/geoip/IngestGeoIpMetadata.java\nindex b6e73f3f..569fc299 100644\n--- a/modules/ingest-geoip/src/main/java/org/elasticsearch/ingest/geoip/IngestGeoIpMetadata.java\n+++ b/modules/ingest-geoip/src/main/java/org/elasticsearch/ingest/geoip/IngestGeoIpMetadata.java\n@@ -69,7 +69,7 @@ public final class IngestGeoIpMetadata implements Metadata.Custom {\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ENTERPRISE_GEOIP_DOWNLOADER;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     public Map<String, DatabaseConfigurationMetadata> getDatabases() {\n@@ -138,7 +138,7 @@ public final class IngestGeoIpMetadata implements Metadata.Custom {\n \n         @Override\n         public TransportVersion getMinimalSupportedVersion() {\n-            return TransportVersions.ENTERPRISE_GEOIP_DOWNLOADER;\n+            return TransportVersions.V_8_15_0;\n         }\n     }\n \ndiff --git a/modules/ingest-geoip/src/main/java/org/elasticsearch/ingest/geoip/direct/DatabaseConfiguration.java b/modules/ingest-geoip/src/main/java/org/elasticsearch/ingest/geoip/direct/DatabaseConfiguration.java\nindex a26364f9..91c6102a 100644\n--- a/modules/ingest-geoip/src/main/java/org/elasticsearch/ingest/geoip/direct/DatabaseConfiguration.java\n+++ b/modules/ingest-geoip/src/main/java/org/elasticsearch/ingest/geoip/direct/DatabaseConfiguration.java\n@@ -138,7 +138,7 @@ public record DatabaseConfiguration(String id, String name, Provider provider) i\n     }\n \n     private static Provider readProvider(StreamInput in) throws IOException {\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.INGEST_GEO_DATABASE_PROVIDERS)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             return in.readNamedWriteable(Provider.class);\n         } else {\n             // prior to the above version, everything was always a maxmind, so this half of the if is logical\n@@ -154,7 +154,7 @@ public record DatabaseConfiguration(String id, String name, Provider provider) i\n     public void writeTo(StreamOutput out) throws IOException {\n         out.writeString(id);\n         out.writeString(name);\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.INGEST_GEO_DATABASE_PROVIDERS)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeNamedWriteable(provider);\n         } else {\n             if (provider instanceof Maxmind maxmind) {\n@@ -163,7 +163,7 @@ public record DatabaseConfiguration(String id, String name, Provider provider) i\n                 /*\n                  * The existence of a non-Maxmind providers is gated on the feature get_database_configuration_action.multi_node, and\n                  * get_database_configuration_action.multi_node is only available on or after\n-                 * TransportVersions.INGEST_GEO_DATABASE_PROVIDERS.\n+                 * TransportVersions.V_8_15_0.\n                  */\n                 assert false : \"non-maxmind DatabaseConfiguration.Provider [\" + provider.getWriteableName() + \"]\";\n             }\ndiff --git a/server/src/internalClusterTest/java/org/elasticsearch/search/rank/FieldBasedRerankerIT.java b/server/src/internalClusterTest/java/org/elasticsearch/search/rank/FieldBasedRerankerIT.java\nindex 027b223e..c8c1f504 100644\n--- a/server/src/internalClusterTest/java/org/elasticsearch/search/rank/FieldBasedRerankerIT.java\n+++ b/server/src/internalClusterTest/java/org/elasticsearch/search/rank/FieldBasedRerankerIT.java\n@@ -234,7 +234,7 @@ public class FieldBasedRerankerIT extends AbstractRerankerIT {\n \n         @Override\n         public TransportVersion getMinimalSupportedVersion() {\n-            return TransportVersions.RANK_FEATURE_PHASE_ADDED;\n+            return TransportVersions.V_8_15_0;\n         }\n     }\n \ndiff --git a/server/src/internalClusterTest/java/org/elasticsearch/search/rank/MockedRequestActionBasedRerankerIT.java b/server/src/internalClusterTest/java/org/elasticsearch/search/rank/MockedRequestActionBasedRerankerIT.java\nindex ce9ce7b9..dbdd6e8c 100644\n--- a/server/src/internalClusterTest/java/org/elasticsearch/search/rank/MockedRequestActionBasedRerankerIT.java\n+++ b/server/src/internalClusterTest/java/org/elasticsearch/search/rank/MockedRequestActionBasedRerankerIT.java\n@@ -424,7 +424,7 @@ public class MockedRequestActionBasedRerankerIT extends AbstractRerankerIT {\n \n         @Override\n         public TransportVersion getMinimalSupportedVersion() {\n-            return TransportVersions.RANK_FEATURE_PHASE_ADDED;\n+            return TransportVersions.V_8_15_0;\n         }\n     }\n \ndiff --git a/server/src/main/java/org/elasticsearch/ElasticsearchException.java b/server/src/main/java/org/elasticsearch/ElasticsearchException.java\nindex 5d04e310..dce8cd03 100644\n--- a/server/src/main/java/org/elasticsearch/ElasticsearchException.java\n+++ b/server/src/main/java/org/elasticsearch/ElasticsearchException.java\n@@ -1923,19 +1923,19 @@ public class ElasticsearchException extends RuntimeException implements ToXConte\n             ResourceAlreadyUploadedException.class,\n             ResourceAlreadyUploadedException::new,\n             181,\n-            TransportVersions.ADD_RESOURCE_ALREADY_UPLOADED_EXCEPTION\n+            TransportVersions.V_8_15_0\n         ),\n         INGEST_PIPELINE_EXCEPTION(\n             org.elasticsearch.ingest.IngestPipelineException.class,\n             org.elasticsearch.ingest.IngestPipelineException::new,\n             182,\n-            TransportVersions.INGEST_PIPELINE_EXCEPTION_ADDED\n+            TransportVersions.V_8_15_0\n         ),\n         INDEX_RESPONSE_WRAPPER_EXCEPTION(\n             IndexDocFailureStoreStatus.ExceptionWithFailureStoreStatus.class,\n             IndexDocFailureStoreStatus.ExceptionWithFailureStoreStatus::new,\n             183,\n-            TransportVersions.FAILURE_STORE_STATUS_IN_INDEX_RESPONSE\n+            TransportVersions.V_8_15_0\n         );\n \n         final Class<? extends ElasticsearchException> exceptionClass;\ndiff --git a/server/src/main/java/org/elasticsearch/TransportVersions.java b/server/src/main/java/org/elasticsearch/TransportVersions.java\nindex a504087d..ba650c14 100644\n--- a/server/src/main/java/org/elasticsearch/TransportVersions.java\n+++ b/server/src/main/java/org/elasticsearch/TransportVersions.java\n@@ -102,73 +102,6 @@ public class TransportVersions {\n     public static final TransportVersion V_8_13_0 = def(8_595_00_0);\n     public static final TransportVersion V_8_13_4 = def(8_595_00_1);\n     public static final TransportVersion V_8_14_0 = def(8_636_00_1);\n-    // 8.15.0+\n-    public static final TransportVersion WATERMARK_THRESHOLDS_STATS = def(8_637_00_0);\n-    public static final TransportVersion ENRICH_CACHE_ADDITIONAL_STATS = def(8_638_00_0);\n-    public static final TransportVersion ML_INFERENCE_RATE_LIMIT_SETTINGS_ADDED = def(8_639_00_0);\n-    public static final TransportVersion ML_TRAINED_MODEL_CACHE_METADATA_ADDED = def(8_640_00_0);\n-    public static final TransportVersion TOP_LEVEL_KNN_SUPPORT_QUERY_NAME = def(8_641_00_0);\n-    public static final TransportVersion INDEX_SEGMENTS_VECTOR_FORMATS = def(8_642_00_0);\n-    public static final TransportVersion ADD_RESOURCE_ALREADY_UPLOADED_EXCEPTION = def(8_643_00_0);\n-    public static final TransportVersion ESQL_MV_ORDERING_SORTED_ASCENDING = def(8_644_00_0);\n-    public static final TransportVersion ESQL_PAGE_MAPPING_TO_ITERATOR = def(8_645_00_0);\n-    public static final TransportVersion BINARY_PIT_ID = def(8_646_00_0);\n-    public static final TransportVersion SECURITY_ROLE_MAPPINGS_IN_CLUSTER_STATE = def(8_647_00_0);\n-    public static final TransportVersion ESQL_REQUEST_TABLES = def(8_648_00_0);\n-    public static final TransportVersion ROLE_REMOTE_CLUSTER_PRIVS = def(8_649_00_0);\n-    public static final TransportVersion NO_GLOBAL_RETENTION_FOR_SYSTEM_DATA_STREAMS = def(8_650_00_0);\n-    public static final TransportVersion SHUTDOWN_REQUEST_TIMEOUTS_FIX = def(8_651_00_0);\n-    public static final TransportVersion INDEXING_PRESSURE_REQUEST_REJECTIONS_COUNT = def(8_652_00_0);\n-    public static final TransportVersion ROLLUP_USAGE = def(8_653_00_0);\n-    public static final TransportVersion SECURITY_ROLE_DESCRIPTION = def(8_654_00_0);\n-    public static final TransportVersion ML_INFERENCE_AZURE_OPENAI_COMPLETIONS = def(8_655_00_0);\n-    public static final TransportVersion JOIN_STATUS_AGE_SERIALIZATION = def(8_656_00_0);\n-    public static final TransportVersion ML_RERANK_DOC_OPTIONAL = def(8_657_00_0);\n-    public static final TransportVersion FAILURE_STORE_FIELD_PARITY = def(8_658_00_0);\n-    public static final TransportVersion ML_INFERENCE_AZURE_AI_STUDIO = def(8_659_00_0);\n-    public static final TransportVersion ML_INFERENCE_COHERE_COMPLETION_ADDED = def(8_660_00_0);\n-    public static final TransportVersion ESQL_REMOVE_ES_SOURCE_OPTIONS = def(8_661_00_0);\n-    public static final TransportVersion NODE_STATS_INGEST_BYTES = def(8_662_00_0);\n-    public static final TransportVersion SEMANTIC_QUERY = def(8_663_00_0);\n-    public static final TransportVersion GET_AUTOSCALING_CAPACITY_UNUSED_TIMEOUT = def(8_664_00_0);\n-    public static final TransportVersion SIMULATE_VALIDATES_MAPPINGS = def(8_665_00_0);\n-    public static final TransportVersion RULE_QUERY_RENAME = def(8_666_00_0);\n-    public static final TransportVersion SPARSE_VECTOR_QUERY_ADDED = def(8_667_00_0);\n-    public static final TransportVersion ESQL_ADD_INDEX_MODE_TO_SOURCE = def(8_668_00_0);\n-    public static final TransportVersion GET_SHUTDOWN_STATUS_TIMEOUT = def(8_669_00_0);\n-    public static final TransportVersion FAILURE_STORE_TELEMETRY = def(8_670_00_0);\n-    public static final TransportVersion ADD_METADATA_FLATTENED_TO_ROLES = def(8_671_00_0);\n-    public static final TransportVersion ML_INFERENCE_GOOGLE_AI_STUDIO_COMPLETION_ADDED = def(8_672_00_0);\n-    public static final TransportVersion WATCHER_REQUEST_TIMEOUTS = def(8_673_00_0);\n-    public static final TransportVersion ML_INFERENCE_ENHANCE_DELETE_ENDPOINT = def(8_674_00_0);\n-    public static final TransportVersion ML_INFERENCE_GOOGLE_AI_STUDIO_EMBEDDINGS_ADDED = def(8_675_00_0);\n-    public static final TransportVersion ADD_MISTRAL_EMBEDDINGS_INFERENCE = def(8_676_00_0);\n-    public static final TransportVersion ML_CHUNK_INFERENCE_OPTION = def(8_677_00_0);\n-    public static final TransportVersion RANK_FEATURE_PHASE_ADDED = def(8_678_00_0);\n-    public static final TransportVersion RANK_DOC_IN_SHARD_FETCH_REQUEST = def(8_679_00_0);\n-    public static final TransportVersion SECURITY_SETTINGS_REQUEST_TIMEOUTS = def(8_680_00_0);\n-    public static final TransportVersion QUERY_RULE_CRUD_API_PUT = def(8_681_00_0);\n-    public static final TransportVersion DROP_UNUSED_NODES_REQUESTS = def(8_682_00_0);\n-    public static final TransportVersion QUERY_RULE_CRUD_API_GET_DELETE = def(8_683_00_0);\n-    public static final TransportVersion MORE_LIGHTER_NODES_REQUESTS = def(8_684_00_0);\n-    public static final TransportVersion DROP_UNUSED_NODES_IDS = def(8_685_00_0);\n-    public static final TransportVersion DELETE_SNAPSHOTS_ASYNC_ADDED = def(8_686_00_0);\n-    public static final TransportVersion VERSION_SUPPORTING_SPARSE_VECTOR_STATS = def(8_687_00_0);\n-    public static final TransportVersion ML_AD_OUTPUT_MEMORY_ALLOCATOR_FIELD = def(8_688_00_0);\n-    public static final TransportVersion FAILURE_STORE_LAZY_CREATION = def(8_689_00_0);\n-    public static final TransportVersion SNAPSHOT_REQUEST_TIMEOUTS = def(8_690_00_0);\n-    public static final TransportVersion INDEX_METADATA_MAPPINGS_UPDATED_VERSION = def(8_691_00_0);\n-    public static final TransportVersion ML_INFERENCE_ELAND_SETTINGS_ADDED = def(8_692_00_0);\n-    public static final TransportVersion ML_ANTHROPIC_INTEGRATION_ADDED = def(8_693_00_0);\n-    public static final TransportVersion ML_INFERENCE_GOOGLE_VERTEX_AI_EMBEDDINGS_ADDED = def(8_694_00_0);\n-    public static final TransportVersion EVENT_INGESTED_RANGE_IN_CLUSTER_STATE = def(8_695_00_0);\n-    public static final TransportVersion ESQL_ADD_AGGREGATE_TYPE = def(8_696_00_0);\n-    public static final TransportVersion SECURITY_MIGRATIONS_MIGRATION_NEEDED_ADDED = def(8_697_00_0);\n-    public static final TransportVersion K_FOR_KNN_QUERY_ADDED = def(8_698_00_0);\n-    public static final TransportVersion TEXT_SIMILARITY_RERANKER_RETRIEVER = def(8_699_00_0);\n-    public static final TransportVersion ML_INFERENCE_GOOGLE_VERTEX_AI_RERANKING_ADDED = def(8_700_00_0);\n-    public static final TransportVersion VERSIONED_MASTER_NODE_REQUESTS = def(8_701_00_0);\n-    public static final TransportVersion ML_INFERENCE_AMAZON_BEDROCK_ADDED = def(8_702_00_0);\n     public static final TransportVersion ENTERPRISE_GEOIP_DOWNLOADER_BACKPORT_8_15 = def(8_702_00_1);\n     public static final TransportVersion FIX_VECTOR_SIMILARITY_INNER_HITS_BACKPORT_8_15 = def(8_702_00_2);\n     /**\n@@ -176,76 +109,7 @@ public class TransportVersions {\n      * with only one TransportVersion entry\n      */\n     public static final TransportVersion ESQL_ATTRIBUTE_CACHED_SERIALIZATION_8_15 = def(8_702_00_3);\n-    public static final TransportVersion ML_INFERENCE_DONT_DELETE_WHEN_SEMANTIC_TEXT_EXISTS = def(8_703_00_0);\n-    public static final TransportVersion INFERENCE_ADAPTIVE_ALLOCATIONS = def(8_704_00_0);\n-    public static final TransportVersion INDEX_REQUEST_UPDATE_BY_SCRIPT_ORIGIN = def(8_705_00_0);\n-    public static final TransportVersion ML_INFERENCE_COHERE_UNUSED_RERANK_SETTINGS_REMOVED = def(8_706_00_0);\n-    public static final TransportVersion ENRICH_CACHE_STATS_SIZE_ADDED = def(8_707_00_0);\n-    public static final TransportVersion ENTERPRISE_GEOIP_DOWNLOADER = def(8_708_00_0);\n-    public static final TransportVersion NODES_STATS_ENUM_SET = def(8_709_00_0);\n-    public static final TransportVersion MASTER_NODE_METRICS = def(8_710_00_0);\n-    public static final TransportVersion SEGMENT_LEVEL_FIELDS_STATS = def(8_711_00_0);\n-    public static final TransportVersion ML_ADD_DETECTION_RULE_PARAMS = def(8_712_00_0);\n-    public static final TransportVersion FIX_VECTOR_SIMILARITY_INNER_HITS = def(8_713_00_0);\n-    public static final TransportVersion INDEX_REQUEST_UPDATE_BY_DOC_ORIGIN = def(8_714_00_0);\n-    public static final TransportVersion ESQL_ATTRIBUTE_CACHED_SERIALIZATION = def(8_715_00_0);\n-    public static final TransportVersion REGISTER_SLM_STATS = def(8_716_00_0);\n-    public static final TransportVersion ESQL_NESTED_UNSUPPORTED = def(8_717_00_0);\n-    public static final TransportVersion ESQL_SINGLE_VALUE_QUERY_SOURCE = def(8_718_00_0);\n-    public static final TransportVersion ESQL_ORIGINAL_INDICES = def(8_719_00_0);\n-    public static final TransportVersion ML_INFERENCE_EIS_INTEGRATION_ADDED = def(8_720_00_0);\n-    public static final TransportVersion INGEST_PIPELINE_EXCEPTION_ADDED = def(8_721_00_0);\n-    public static final TransportVersion ZDT_NANOS_SUPPORT_BROKEN = def(8_722_00_0);\n-    public static final TransportVersion REMOVE_GLOBAL_RETENTION_FROM_TEMPLATES = def(8_723_00_0);\n-    public static final TransportVersion RANDOM_RERANKER_RETRIEVER = def(8_724_00_0);\n-    public static final TransportVersion ESQL_PROFILE_SLEEPS = def(8_725_00_0);\n-    public static final TransportVersion ZDT_NANOS_SUPPORT = def(8_726_00_0);\n-    public static final TransportVersion LTR_SERVERLESS_RELEASE = def(8_727_00_0);\n-    public static final TransportVersion ALLOW_PARTIAL_SEARCH_RESULTS_IN_PIT = def(8_728_00_0);\n-    public static final TransportVersion RANK_DOCS_RETRIEVER = def(8_729_00_0);\n-    public static final TransportVersion ESQL_ES_FIELD_CACHED_SERIALIZATION = def(8_730_00_0);\n-    public static final TransportVersion ADD_MANAGE_ROLES_PRIVILEGE = def(8_731_00_0);\n-    public static final TransportVersion REPOSITORIES_TELEMETRY = def(8_732_00_0);\n-    public static final TransportVersion ML_INFERENCE_ALIBABACLOUD_SEARCH_ADDED = def(8_733_00_0);\n-    public static final TransportVersion FIELD_CAPS_RESPONSE_INDEX_MODE = def(8_734_00_0);\n-    public static final TransportVersion GET_DATA_STREAMS_VERBOSE = def(8_735_00_0);\n-    public static final TransportVersion ESQL_ADD_INDEX_MODE_CONCRETE_INDICES = def(8_736_00_0);\n-    public static final TransportVersion UNASSIGNED_PRIMARY_COUNT_ON_CLUSTER_HEALTH = def(8_737_00_0);\n-    public static final TransportVersion ESQL_AGGREGATE_EXEC_TRACKS_INTERMEDIATE_ATTRS = def(8_738_00_0);\n-    public static final TransportVersion CCS_TELEMETRY_STATS = def(8_739_00_0);\n-    public static final TransportVersion GLOBAL_RETENTION_TELEMETRY = def(8_740_00_0);\n-    public static final TransportVersion ROUTING_TABLE_VERSION_REMOVED = def(8_741_00_0);\n-    public static final TransportVersion ML_SCHEDULED_EVENT_TIME_SHIFT_CONFIGURATION = def(8_742_00_0);\n-    public static final TransportVersion SIMULATE_COMPONENT_TEMPLATES_SUBSTITUTIONS = def(8_743_00_0);\n-    public static final TransportVersion ML_INFERENCE_IBM_WATSONX_EMBEDDINGS_ADDED = def(8_744_00_0);\n-    public static final TransportVersion BULK_INCREMENTAL_STATE = def(8_745_00_0);\n-    public static final TransportVersion FAILURE_STORE_STATUS_IN_INDEX_RESPONSE = def(8_746_00_0);\n-    public static final TransportVersion ESQL_AGGREGATION_OPERATOR_STATUS_FINISH_NANOS = def(8_747_00_0);\n-    public static final TransportVersion ML_TELEMETRY_MEMORY_ADDED = def(8_748_00_0);\n-    public static final TransportVersion ILM_ADD_SEARCHABLE_SNAPSHOT_TOTAL_SHARDS_PER_NODE = def(8_749_00_0);\n-    public static final TransportVersion SEMANTIC_TEXT_SEARCH_INFERENCE_ID = def(8_750_00_0);\n-    public static final TransportVersion ML_INFERENCE_CHUNKING_SETTINGS = def(8_751_00_0);\n-    public static final TransportVersion SEMANTIC_QUERY_INNER_HITS = def(8_752_00_0);\n-    public static final TransportVersion RETAIN_ILM_STEP_INFO = def(8_753_00_0);\n-    public static final TransportVersion ADD_DATA_STREAM_OPTIONS = def(8_754_00_0);\n-    public static final TransportVersion CCS_REMOTE_TELEMETRY_STATS = def(8_755_00_0);\n-    public static final TransportVersion ESQL_CCS_EXECUTION_INFO = def(8_756_00_0);\n-    public static final TransportVersion REGEX_AND_RANGE_INTERVAL_QUERIES = def(8_757_00_0);\n-    public static final TransportVersion RRF_QUERY_REWRITE = def(8_758_00_0);\n-    public static final TransportVersion SEARCH_FAILURE_STATS = def(8_759_00_0);\n-    public static final TransportVersion INGEST_GEO_DATABASE_PROVIDERS = def(8_760_00_0);\n-    public static final TransportVersion DATE_TIME_DOC_VALUES_LOCALES = def(8_761_00_0);\n-    public static final TransportVersion FAST_REFRESH_RCO = def(8_762_00_0);\n-    public static final TransportVersion TEXT_SIMILARITY_RERANKER_QUERY_REWRITE = def(8_763_00_0);\n-    public static final TransportVersion SIMULATE_INDEX_TEMPLATES_SUBSTITUTIONS = def(8_764_00_0);\n-    public static final TransportVersion RETRIEVERS_TELEMETRY_ADDED = def(8_765_00_0);\n-    public static final TransportVersion ESQL_CACHED_STRING_SERIALIZATION = def(8_766_00_0);\n-    public static final TransportVersion CHUNK_SENTENCE_OVERLAP_SETTING_ADDED = def(8_767_00_0);\n-    public static final TransportVersion OPT_IN_ESQL_CCS_EXECUTION_INFO = def(8_768_00_0);\n-    public static final TransportVersion QUERY_RULE_TEST_API = def(8_769_00_0);\n-    public static final TransportVersion ESQL_PER_AGGREGATE_FILTER = def(8_770_00_0);\n-    public static final TransportVersion ML_INFERENCE_ATTACH_TO_EXISTSING_DEPLOYMENT = def(8_771_00_0);\n-    public static final TransportVersion CONVERT_FAILURE_STORE_OPTIONS_TO_SELECTOR_OPTIONS_INTERNALLY = def(8_772_00_0);\n+    public static final TransportVersion V_8_15_0 = def(8_772_00_0);\n \n     /*\n      * STOP! READ THIS FIRST! No, really,\ndiff --git a/server/src/main/java/org/elasticsearch/action/admin/cluster/allocation/TransportGetAllocationStatsAction.java b/server/src/main/java/org/elasticsearch/action/admin/cluster/allocation/TransportGetAllocationStatsAction.java\nindex 259a244b..7e7f5d6f 100644\n--- a/server/src/main/java/org/elasticsearch/action/admin/cluster/allocation/TransportGetAllocationStatsAction.java\n+++ b/server/src/main/java/org/elasticsearch/action/admin/cluster/allocation/TransportGetAllocationStatsAction.java\n@@ -118,7 +118,7 @@ public class TransportGetAllocationStatsAction extends TransportMasterNodeReadAc\n \n         public Request(StreamInput in) throws IOException {\n             super(in);\n-            this.metrics = in.getTransportVersion().onOrAfter(TransportVersions.MASTER_NODE_METRICS)\n+            this.metrics = in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)\n                 ? in.readEnumSet(Metric.class)\n                 : EnumSet.of(Metric.ALLOCATIONS, Metric.FS);\n         }\n@@ -127,7 +127,7 @@ public class TransportGetAllocationStatsAction extends TransportMasterNodeReadAc\n         public void writeTo(StreamOutput out) throws IOException {\n             assert out.getTransportVersion().onOrAfter(TransportVersions.V_8_14_0);\n             super.writeTo(out);\n-            if (out.getTransportVersion().onOrAfter(TransportVersions.MASTER_NODE_METRICS)) {\n+            if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 out.writeEnumSet(metrics);\n             }\n         }\n@@ -156,7 +156,7 @@ public class TransportGetAllocationStatsAction extends TransportMasterNodeReadAc\n         public Response(StreamInput in) throws IOException {\n             super(in);\n             this.nodeAllocationStats = in.readImmutableMap(StreamInput::readString, NodeAllocationStats::new);\n-            if (in.getTransportVersion().onOrAfter(TransportVersions.WATERMARK_THRESHOLDS_STATS)) {\n+            if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 this.diskThresholdSettings = in.readOptionalWriteable(DiskThresholdSettings::readFrom);\n             } else {\n                 this.diskThresholdSettings = null;\n@@ -166,7 +166,7 @@ public class TransportGetAllocationStatsAction extends TransportMasterNodeReadAc\n         @Override\n         public void writeTo(StreamOutput out) throws IOException {\n             out.writeMap(nodeAllocationStats, StreamOutput::writeString, StreamOutput::writeWriteable);\n-            if (out.getTransportVersion().onOrAfter(TransportVersions.WATERMARK_THRESHOLDS_STATS)) {\n+            if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 out.writeOptionalWriteable(diskThresholdSettings);\n             } else {\n                 assert diskThresholdSettings == null;\ndiff --git a/server/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/TransportNodesHotThreadsAction.java b/server/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/TransportNodesHotThreadsAction.java\nindex f1e24258..25f3a53a 100644\n--- a/server/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/TransportNodesHotThreadsAction.java\n+++ b/server/src/main/java/org/elasticsearch/action/admin/cluster/node/hotthreads/TransportNodesHotThreadsAction.java\n@@ -117,14 +117,14 @@ public class TransportNodesHotThreadsAction extends TransportNodesAction<\n \n         NodeRequest(StreamInput in) throws IOException {\n             super(in);\n-            skipLegacyNodesRequestHeader(TransportVersions.MORE_LIGHTER_NODES_REQUESTS, in);\n+            skipLegacyNodesRequestHeader(TransportVersions.V_8_15_0, in);\n             requestOptions = HotThreads.RequestOptions.readFrom(in);\n         }\n \n         @Override\n         public void writeTo(StreamOutput out) throws IOException {\n             super.writeTo(out);\n-            sendLegacyNodesRequestHeader(TransportVersions.MORE_LIGHTER_NODES_REQUESTS, out);\n+            sendLegacyNodesRequestHeader(TransportVersions.V_8_15_0, out);\n             requestOptions.writeTo(out);\n         }\n     }\ndiff --git a/server/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequestParameters.java b/server/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequestParameters.java\nindex d34bc3ec..1b347164 100644\n--- a/server/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequestParameters.java\n+++ b/server/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequestParameters.java\n@@ -117,7 +117,7 @@ public class NodesStatsRequestParameters implements Writeable {\n         }\n \n         public static void writeSetTo(StreamOutput out, EnumSet<Metric> metrics) throws IOException {\n-            if (out.getTransportVersion().onOrAfter(TransportVersions.NODES_STATS_ENUM_SET)) {\n+            if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 out.writeEnumSet(metrics);\n             } else {\n                 out.writeCollection(metrics, (output, metric) -> output.writeString(metric.metricName));\n@@ -125,7 +125,7 @@ public class NodesStatsRequestParameters implements Writeable {\n         }\n \n         public static EnumSet<Metric> readSetFrom(StreamInput in) throws IOException {\n-            if (in.getTransportVersion().onOrAfter(TransportVersions.NODES_STATS_ENUM_SET)) {\n+            if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 return in.readEnumSet(Metric.class);\n             } else {\n                 return in.readCollection((i) -> EnumSet.noneOf(Metric.class), (is, out) -> {\ndiff --git a/server/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java b/server/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java\nindex 379ebe80..e9cff9c1 100644\n--- a/server/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java\n+++ b/server/src/main/java/org/elasticsearch/action/admin/cluster/node/stats/TransportNodesStatsAction.java\n@@ -168,7 +168,7 @@ public class TransportNodesStatsAction extends TransportNodesAction<\n             skipLegacyNodesRequestHeader(TransportVersions.V_8_13_0, in);\n             this.nodesStatsRequestParameters = new NodesStatsRequestParameters(in);\n             if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_13_0)\n-                && in.getTransportVersion().before(TransportVersions.DROP_UNUSED_NODES_IDS)) {\n+                && in.getTransportVersion().before(TransportVersions.V_8_15_0)) {\n                 in.readStringArray(); // formerly nodeIds, now unused\n             }\n         }\n@@ -197,7 +197,7 @@ public class TransportNodesStatsAction extends TransportNodesAction<\n             sendLegacyNodesRequestHeader(TransportVersions.V_8_13_0, out);\n             nodesStatsRequestParameters.writeTo(out);\n             if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_13_0)\n-                && out.getTransportVersion().before(TransportVersions.DROP_UNUSED_NODES_IDS)) {\n+                && out.getTransportVersion().before(TransportVersions.V_8_15_0)) {\n                 out.writeStringArray(Strings.EMPTY_ARRAY); // formerly nodeIds, now unused\n             }\n         }\ndiff --git a/server/src/main/java/org/elasticsearch/action/admin/cluster/node/usage/TransportNodesUsageAction.java b/server/src/main/java/org/elasticsearch/action/admin/cluster/node/usage/TransportNodesUsageAction.java\nindex a55c5856..8ec451f4 100644\n--- a/server/src/main/java/org/elasticsearch/action/admin/cluster/node/usage/TransportNodesUsageAction.java\n+++ b/server/src/main/java/org/elasticsearch/action/admin/cluster/node/usage/TransportNodesUsageAction.java\n@@ -93,7 +93,7 @@ public class TransportNodesUsageAction extends TransportNodesAction<\n \n         public NodeUsageRequest(StreamInput in) throws IOException {\n             super(in);\n-            skipLegacyNodesRequestHeader(TransportVersions.MORE_LIGHTER_NODES_REQUESTS, in);\n+            skipLegacyNodesRequestHeader(TransportVersions.V_8_15_0, in);\n             restActions = in.readBoolean();\n             aggregations = in.readBoolean();\n         }\n@@ -106,7 +106,7 @@ public class TransportNodesUsageAction extends TransportNodesAction<\n         @Override\n         public void writeTo(StreamOutput out) throws IOException {\n             super.writeTo(out);\n-            sendLegacyNodesRequestHeader(TransportVersions.MORE_LIGHTER_NODES_REQUESTS, out);\n+            sendLegacyNodesRequestHeader(TransportVersions.V_8_15_0, out);\n             out.writeBoolean(restActions);\n             out.writeBoolean(aggregations);\n         }\ndiff --git a/server/src/main/java/org/elasticsearch/action/admin/cluster/repositories/cleanup/CleanupRepositoryRequest.java b/server/src/main/java/org/elasticsearch/action/admin/cluster/repositories/cleanup/CleanupRepositoryRequest.java\nindex 39fcb9fd..cdcf4bda 100644\n--- a/server/src/main/java/org/elasticsearch/action/admin/cluster/repositories/cleanup/CleanupRepositoryRequest.java\n+++ b/server/src/main/java/org/elasticsearch/action/admin/cluster/repositories/cleanup/CleanupRepositoryRequest.java\n@@ -29,7 +29,7 @@ public class CleanupRepositoryRequest extends AcknowledgedRequest<CleanupReposit\n     }\n \n     public static CleanupRepositoryRequest readFrom(StreamInput in) throws IOException {\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.SNAPSHOT_REQUEST_TIMEOUTS)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             return new CleanupRepositoryRequest(in);\n         } else {\n             return new CleanupRepositoryRequest(TimeValue.THIRTY_SECONDS, TimeValue.THIRTY_SECONDS, in);\n@@ -48,7 +48,7 @@ public class CleanupRepositoryRequest extends AcknowledgedRequest<CleanupReposit\n \n     @Override\n     public void writeTo(StreamOutput out) throws IOException {\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.SNAPSHOT_REQUEST_TIMEOUTS)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             super.writeTo(out);\n         }\n         out.writeString(repository);\ndiff --git a/server/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotRequest.java b/server/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotRequest.java\nindex 9c9467db..18e72b72 100644\n--- a/server/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotRequest.java\n+++ b/server/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/create/CreateSnapshotRequest.java\n@@ -118,7 +118,7 @@ public class CreateSnapshotRequest extends MasterNodeRequest<CreateSnapshotReque\n         waitForCompletion = in.readBoolean();\n         partial = in.readBoolean();\n         userMetadata = in.readGenericMap();\n-        uuid = in.getTransportVersion().onOrAfter(TransportVersions.REGISTER_SLM_STATS) ? in.readOptionalString() : null;\n+        uuid = in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0) ? in.readOptionalString() : null;\n     }\n \n     @Override\n@@ -136,7 +136,7 @@ public class CreateSnapshotRequest extends MasterNodeRequest<CreateSnapshotReque\n         out.writeBoolean(waitForCompletion);\n         out.writeBoolean(partial);\n         out.writeGenericMap(userMetadata);\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.REGISTER_SLM_STATS)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeOptionalString(uuid);\n         }\n     }\ndiff --git a/server/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/DeleteSnapshotRequest.java b/server/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/DeleteSnapshotRequest.java\nindex 7d3c31a0..ab073f83 100644\n--- a/server/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/DeleteSnapshotRequest.java\n+++ b/server/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/DeleteSnapshotRequest.java\n@@ -51,7 +51,7 @@ public class DeleteSnapshotRequest extends MasterNodeRequest<DeleteSnapshotReque\n         super(in);\n         repository = in.readString();\n         snapshots = in.readStringArray();\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.DELETE_SNAPSHOTS_ASYNC_ADDED)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             waitForCompletion = in.readBoolean();\n         }\n     }\n@@ -61,7 +61,7 @@ public class DeleteSnapshotRequest extends MasterNodeRequest<DeleteSnapshotReque\n         super.writeTo(out);\n         out.writeString(repository);\n         out.writeStringArray(snapshots);\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.DELETE_SNAPSHOTS_ASYNC_ADDED)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeBoolean(waitForCompletion);\n         } else {\n             assert waitForCompletion : \"Using wait_for_completion parameter when it should have been disallowed\";\ndiff --git a/server/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/TransportDeleteSnapshotAction.java b/server/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/TransportDeleteSnapshotAction.java\nindex b28c2a8e..fe5abfe6 100644\n--- a/server/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/TransportDeleteSnapshotAction.java\n+++ b/server/src/main/java/org/elasticsearch/action/admin/cluster/snapshots/delete/TransportDeleteSnapshotAction.java\n@@ -64,7 +64,7 @@ public class TransportDeleteSnapshotAction extends AcknowledgedTransportMasterNo\n \n     @Override\n     protected void doExecute(Task task, DeleteSnapshotRequest request, ActionListener<AcknowledgedResponse> listener) {\n-        if (clusterService.state().getMinTransportVersion().before(TransportVersions.DELETE_SNAPSHOTS_ASYNC_ADDED)\n+        if (clusterService.state().getMinTransportVersion().before(TransportVersions.V_8_15_0)\n             && request.waitForCompletion() == false) {\n             throw new UnsupportedOperationException(\"wait_for_completion parameter is not supported by all nodes in this cluster\");\n         }\ndiff --git a/server/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodeResponse.java b/server/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodeResponse.java\nindex f99baa85..5d2623b3 100644\n--- a/server/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodeResponse.java\n+++ b/server/src/main/java/org/elasticsearch/action/admin/cluster/stats/ClusterStatsNodeResponse.java\n@@ -44,12 +44,12 @@ public class ClusterStatsNodeResponse extends BaseNodeResponse {\n         } else {\n             searchUsageStats = new SearchUsageStats();\n         }\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.REPOSITORIES_TELEMETRY)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             repositoryUsageStats = RepositoryUsageStats.readFrom(in);\n         } else {\n             repositoryUsageStats = RepositoryUsageStats.EMPTY;\n         }\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.CCS_TELEMETRY_STATS)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             ccsMetrics = new CCSTelemetrySnapshot(in);\n         } else {\n             ccsMetrics = new CCSTelemetrySnapshot();\n@@ -118,10 +118,10 @@ public class ClusterStatsNodeResponse extends BaseNodeResponse {\n         if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_6_0)) {\n             searchUsageStats.writeTo(out);\n         }\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.REPOSITORIES_TELEMETRY)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             repositoryUsageStats.writeTo(out);\n         } // else just drop these stats, ok for bwc\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.CCS_TELEMETRY_STATS)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             ccsMetrics.writeTo(out);\n         }\n     }\ndiff --git a/server/src/main/java/org/elasticsearch/action/admin/cluster/stats/RemoteClusterStatsRequest.java b/server/src/main/java/org/elasticsearch/action/admin/cluster/stats/RemoteClusterStatsRequest.java\nindex 47843a91..ac74a727 100644\n--- a/server/src/main/java/org/elasticsearch/action/admin/cluster/stats/RemoteClusterStatsRequest.java\n+++ b/server/src/main/java/org/elasticsearch/action/admin/cluster/stats/RemoteClusterStatsRequest.java\n@@ -36,9 +36,9 @@ public class RemoteClusterStatsRequest extends ActionRequest {\n \n     @Override\n     public void writeTo(StreamOutput out) throws IOException {\n-        assert out.getTransportVersion().onOrAfter(TransportVersions.CCS_REMOTE_TELEMETRY_STATS)\n+        assert out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)\n             : \"RemoteClusterStatsRequest is not supported by the remote cluster\";\n-        if (out.getTransportVersion().before(TransportVersions.CCS_REMOTE_TELEMETRY_STATS)) {\n+        if (out.getTransportVersion().before(TransportVersions.V_8_15_0)) {\n             throw new UnsupportedOperationException(\"RemoteClusterStatsRequest is not supported by the remote cluster\");\n         }\n         super.writeTo(out);\ndiff --git a/server/src/main/java/org/elasticsearch/action/admin/cluster/stats/SearchUsageStats.java b/server/src/main/java/org/elasticsearch/action/admin/cluster/stats/SearchUsageStats.java\nindex 0f6c56fd..bd1897c0 100644\n--- a/server/src/main/java/org/elasticsearch/action/admin/cluster/stats/SearchUsageStats.java\n+++ b/server/src/main/java/org/elasticsearch/action/admin/cluster/stats/SearchUsageStats.java\n@@ -22,7 +22,7 @@ import java.util.HashMap;\n import java.util.Map;\n import java.util.Objects;\n \n-import static org.elasticsearch.TransportVersions.RETRIEVERS_TELEMETRY_ADDED;\n+import static org.elasticsearch.TransportVersions.V_8_15_0;\n import static org.elasticsearch.TransportVersions.V_8_12_0;\n \n /**\ndiff --git a/server/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java b/server/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java\nindex 48e0f3ac..19cbc240 100644\n--- a/server/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java\n+++ b/server/src/main/java/org/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction.java\n@@ -74,7 +74,7 @@ import java.util.function.BiFunction;\n import java.util.function.BooleanSupplier;\n import java.util.stream.Collectors;\n \n-import static org.elasticsearch.TransportVersions.CCS_REMOTE_TELEMETRY_STATS;\n+import static org.elasticsearch.TransportVersions.V_8_15_0;\n \n /**\n  * Transport action implementing _cluster/stats API.\n@@ -315,7 +315,7 @@ public class TransportClusterStatsAction extends TransportNodesAction<\n \n         public ClusterStatsNodeRequest(StreamInput in) throws IOException {\n             super(in);\n-            skipLegacyNodesRequestHeader(TransportVersions.DROP_UNUSED_NODES_REQUESTS, in);\n+            skipLegacyNodesRequestHeader(TransportVersions.V_8_15_0, in);\n         }\n \n         @Override\n@@ -326,7 +326,7 @@ public class TransportClusterStatsAction extends TransportNodesAction<\n         @Override\n         public void writeTo(StreamOutput out) throws IOException {\n             super.writeTo(out);\n-            sendLegacyNodesRequestHeader(TransportVersions.DROP_UNUSED_NODES_REQUESTS, out);\n+            sendLegacyNodesRequestHeader(TransportVersions.V_8_15_0, out);\n         }\n     }\n \ndiff --git a/server/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java b/server/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java\nindex f4ac1a3f..c233ed57 100644\n--- a/server/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java\n+++ b/server/src/main/java/org/elasticsearch/action/admin/indices/create/CreateIndexRequest.java\n@@ -113,7 +113,7 @@ public class CreateIndexRequest extends AcknowledgedRequest<CreateIndexRequest>\n         } else {\n             requireDataStream = false;\n         }\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.FAILURE_STORE_LAZY_CREATION)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             initializeFailureStore = in.readBoolean();\n         } else {\n             initializeFailureStore = true;\n@@ -518,7 +518,7 @@ public class CreateIndexRequest extends AcknowledgedRequest<CreateIndexRequest>\n         if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_13_0)) {\n             out.writeBoolean(this.requireDataStream);\n         }\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.FAILURE_STORE_LAZY_CREATION)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeBoolean(this.initializeFailureStore);\n         }\n     }\ndiff --git a/server/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportUnpromotableShardRefreshAction.java b/server/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportUnpromotableShardRefreshAction.java\nindex f91a983d..b35f6e0a 100644\n--- a/server/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportUnpromotableShardRefreshAction.java\n+++ b/server/src/main/java/org/elasticsearch/action/admin/indices/refresh/TransportUnpromotableShardRefreshAction.java\n@@ -24,7 +24,7 @@ import org.elasticsearch.transport.TransportService;\n \n import java.util.List;\n \n-import static org.elasticsearch.TransportVersions.FAST_REFRESH_RCO;\n+import static org.elasticsearch.TransportVersions.V_8_15_0;\n import static org.elasticsearch.index.IndexSettings.INDEX_FAST_REFRESH_SETTING;\n \n public class TransportUnpromotableShardRefreshAction extends TransportBroadcastUnpromotableAction<\ndiff --git a/server/src/main/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentsRequest.java b/server/src/main/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentsRequest.java\nindex 26447910..bdacfb0a 100644\n--- a/server/src/main/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentsRequest.java\n+++ b/server/src/main/java/org/elasticsearch/action/admin/indices/segments/IndicesSegmentsRequest.java\n@@ -34,7 +34,7 @@ public class IndicesSegmentsRequest extends BroadcastRequest<IndicesSegmentsRequ\n         if (in.getTransportVersion().before(TransportVersions.V_8_0_0)) {\n             in.readBoolean();   // old 'verbose' option, since removed\n         }\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.INDEX_SEGMENTS_VECTOR_FORMATS)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             this.includeVectorFormatsInfo = in.readBoolean();\n         }\n     }\n@@ -59,7 +59,7 @@ public class IndicesSegmentsRequest extends BroadcastRequest<IndicesSegmentsRequ\n         if (out.getTransportVersion().before(TransportVersions.V_8_0_0)) {\n             out.writeBoolean(false);\n         }\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.INDEX_SEGMENTS_VECTOR_FORMATS)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeBoolean(includeVectorFormatsInfo);\n         }\n     }\ndiff --git a/server/src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStats.java b/server/src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStats.java\nindex ddfe89cc..87e0f62a 100644\n--- a/server/src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStats.java\n+++ b/server/src/main/java/org/elasticsearch/action/admin/indices/stats/CommonStats.java\n@@ -47,7 +47,7 @@ import org.elasticsearch.xcontent.XContentBuilder;\n import java.io.IOException;\n import java.util.Objects;\n \n-import static org.elasticsearch.TransportVersions.VERSION_SUPPORTING_SPARSE_VECTOR_STATS;\n+import static org.elasticsearch.TransportVersions.V_8_15_0;\n \n public class CommonStats implements Writeable, ToXContentFragment {\n \ndiff --git a/server/src/main/java/org/elasticsearch/action/admin/indices/template/get/GetComponentTemplateAction.java b/server/src/main/java/org/elasticsearch/action/admin/indices/template/get/GetComponentTemplateAction.java\nindex c6d990e5..a43b5f68 100644\n--- a/server/src/main/java/org/elasticsearch/action/admin/indices/template/get/GetComponentTemplateAction.java\n+++ b/server/src/main/java/org/elasticsearch/action/admin/indices/template/get/GetComponentTemplateAction.java\n@@ -132,7 +132,7 @@ public class GetComponentTemplateAction extends ActionType<GetComponentTemplateA\n                 rolloverConfiguration = null;\n             }\n             if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_14_0)\n-                && in.getTransportVersion().before(TransportVersions.REMOVE_GLOBAL_RETENTION_FROM_TEMPLATES)) {\n+                && in.getTransportVersion().before(TransportVersions.V_8_15_0)) {\n                 in.readOptionalWriteable(DataStreamGlobalRetention::read);\n             }\n         }\n@@ -191,7 +191,7 @@ public class GetComponentTemplateAction extends ActionType<GetComponentTemplateA\n                 out.writeOptionalWriteable(rolloverConfiguration);\n             }\n             if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_14_0)\n-                && out.getTransportVersion().before(TransportVersions.REMOVE_GLOBAL_RETENTION_FROM_TEMPLATES)) {\n+                && out.getTransportVersion().before(TransportVersions.V_8_15_0)) {\n                 out.writeOptionalWriteable(null);\n             }\n         }\ndiff --git a/server/src/main/java/org/elasticsearch/action/admin/indices/template/get/GetComposableIndexTemplateAction.java b/server/src/main/java/org/elasticsearch/action/admin/indices/template/get/GetComposableIndexTemplateAction.java\nindex a47f8903..bf1c09a4 100644\n--- a/server/src/main/java/org/elasticsearch/action/admin/indices/template/get/GetComposableIndexTemplateAction.java\n+++ b/server/src/main/java/org/elasticsearch/action/admin/indices/template/get/GetComposableIndexTemplateAction.java\n@@ -133,7 +133,7 @@ public class GetComposableIndexTemplateAction extends ActionType<GetComposableIn\n                 rolloverConfiguration = null;\n             }\n             if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_14_0)\n-                && in.getTransportVersion().before(TransportVersions.REMOVE_GLOBAL_RETENTION_FROM_TEMPLATES)) {\n+                && in.getTransportVersion().before(TransportVersions.V_8_15_0)) {\n                 in.readOptionalWriteable(DataStreamGlobalRetention::read);\n             }\n         }\n@@ -192,7 +192,7 @@ public class GetComposableIndexTemplateAction extends ActionType<GetComposableIn\n                 out.writeOptionalWriteable(rolloverConfiguration);\n             }\n             if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_14_0)\n-                && out.getTransportVersion().before(TransportVersions.REMOVE_GLOBAL_RETENTION_FROM_TEMPLATES)) {\n+                && out.getTransportVersion().before(TransportVersions.V_8_15_0)) {\n                 out.writeOptionalWriteable(null);\n             }\n         }\ndiff --git a/server/src/main/java/org/elasticsearch/action/admin/indices/template/post/SimulateIndexTemplateResponse.java b/server/src/main/java/org/elasticsearch/action/admin/indices/template/post/SimulateIndexTemplateResponse.java\nindex 064c24cf..8dea70dd 100644\n--- a/server/src/main/java/org/elasticsearch/action/admin/indices/template/post/SimulateIndexTemplateResponse.java\n+++ b/server/src/main/java/org/elasticsearch/action/admin/indices/template/post/SimulateIndexTemplateResponse.java\n@@ -83,7 +83,7 @@ public class SimulateIndexTemplateResponse extends ActionResponse implements ToX\n             ? in.readOptionalWriteable(RolloverConfiguration::new)\n             : null;\n         if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_14_0)\n-            && in.getTransportVersion().before(TransportVersions.REMOVE_GLOBAL_RETENTION_FROM_TEMPLATES)) {\n+            && in.getTransportVersion().before(TransportVersions.V_8_15_0)) {\n             in.readOptionalWriteable(DataStreamGlobalRetention::read);\n         }\n     }\n@@ -105,7 +105,7 @@ public class SimulateIndexTemplateResponse extends ActionResponse implements ToX\n             out.writeOptionalWriteable(rolloverConfiguration);\n         }\n         if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_14_0)\n-            && out.getTransportVersion().before(TransportVersions.REMOVE_GLOBAL_RETENTION_FROM_TEMPLATES)) {\n+            && out.getTransportVersion().before(TransportVersions.V_8_15_0)) {\n             out.writeOptionalWriteable(null);\n         }\n     }\ndiff --git a/server/src/main/java/org/elasticsearch/action/bulk/BulkItemResponse.java b/server/src/main/java/org/elasticsearch/action/bulk/BulkItemResponse.java\nindex c0ceab13..38991777 100644\n--- a/server/src/main/java/org/elasticsearch/action/bulk/BulkItemResponse.java\n+++ b/server/src/main/java/org/elasticsearch/action/bulk/BulkItemResponse.java\n@@ -205,7 +205,7 @@ public class BulkItemResponse implements Writeable, ToXContentObject {\n             seqNo = in.readZLong();\n             term = in.readVLong();\n             aborted = in.readBoolean();\n-            if (in.getTransportVersion().onOrAfter(TransportVersions.FAILURE_STORE_STATUS_IN_INDEX_RESPONSE)) {\n+            if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 failureStoreStatus = IndexDocFailureStoreStatus.read(in);\n             } else {\n                 failureStoreStatus = IndexDocFailureStoreStatus.NOT_APPLICABLE_OR_UNKNOWN;\n@@ -223,7 +223,7 @@ public class BulkItemResponse implements Writeable, ToXContentObject {\n             out.writeZLong(seqNo);\n             out.writeVLong(term);\n             out.writeBoolean(aborted);\n-            if (out.getTransportVersion().onOrAfter(TransportVersions.FAILURE_STORE_STATUS_IN_INDEX_RESPONSE)) {\n+            if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 failureStoreStatus.writeTo(out);\n             }\n         }\ndiff --git a/server/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java b/server/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java\nindex f62b2f48..76993970 100644\n--- a/server/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java\n+++ b/server/src/main/java/org/elasticsearch/action/bulk/BulkRequest.java\n@@ -98,7 +98,7 @@ public class BulkRequest extends ActionRequest\n         for (DocWriteRequest<?> request : requests) {\n             indices.add(Objects.requireNonNull(request.index(), \"request index must not be null\"));\n         }\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.BULK_INCREMENTAL_STATE)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             incrementalState = new BulkRequest.IncrementalState(in);\n         } else {\n             incrementalState = BulkRequest.IncrementalState.EMPTY;\n@@ -454,7 +454,7 @@ public class BulkRequest extends ActionRequest\n         out.writeCollection(requests, DocWriteRequest::writeDocumentRequest);\n         refreshPolicy.writeTo(out);\n         out.writeTimeValue(timeout);\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.BULK_INCREMENTAL_STATE)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             incrementalState.writeTo(out);\n         }\n     }\ndiff --git a/server/src/main/java/org/elasticsearch/action/bulk/BulkResponse.java b/server/src/main/java/org/elasticsearch/action/bulk/BulkResponse.java\nindex 88a9fb56..1c580bd1 100644\n--- a/server/src/main/java/org/elasticsearch/action/bulk/BulkResponse.java\n+++ b/server/src/main/java/org/elasticsearch/action/bulk/BulkResponse.java\n@@ -46,7 +46,7 @@ public class BulkResponse extends ActionResponse implements Iterable<BulkItemRes\n         responses = in.readArray(BulkItemResponse::new, BulkItemResponse[]::new);\n         tookInMillis = in.readVLong();\n         ingestTookInMillis = in.readZLong();\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.BULK_INCREMENTAL_STATE)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             incrementalState = new BulkRequest.IncrementalState(in);\n         } else {\n             incrementalState = BulkRequest.IncrementalState.EMPTY;\n@@ -151,7 +151,7 @@ public class BulkResponse extends ActionResponse implements Iterable<BulkItemRes\n         out.writeArray(responses);\n         out.writeVLong(tookInMillis);\n         out.writeZLong(ingestTookInMillis);\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.BULK_INCREMENTAL_STATE)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             incrementalState.writeTo(out);\n         }\n     }\ndiff --git a/server/src/main/java/org/elasticsearch/action/bulk/BulkShardRequest.java b/server/src/main/java/org/elasticsearch/action/bulk/BulkShardRequest.java\nindex 8d8f60cc..406ba972 100644\n--- a/server/src/main/java/org/elasticsearch/action/bulk/BulkShardRequest.java\n+++ b/server/src/main/java/org/elasticsearch/action/bulk/BulkShardRequest.java\n@@ -43,7 +43,7 @@ public final class BulkShardRequest extends ReplicatedWriteRequest<BulkShardRequ\n     public BulkShardRequest(StreamInput in) throws IOException {\n         super(in);\n         items = in.readArray(i -> i.readOptionalWriteable(inpt -> new BulkItemRequest(shardId, inpt)), BulkItemRequest[]::new);\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.SIMULATE_VALIDATES_MAPPINGS)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             isSimulated = in.readBoolean();\n         } else {\n             isSimulated = false;\n@@ -132,7 +132,7 @@ public final class BulkShardRequest extends ReplicatedWriteRequest<BulkShardRequ\n         }\n         super.writeTo(out);\n         out.writeArray((o, item) -> o.writeOptional(BulkItemRequest.THIN_WRITER, item), items);\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.SIMULATE_VALIDATES_MAPPINGS)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeBoolean(isSimulated);\n         }\n     }\ndiff --git a/server/src/main/java/org/elasticsearch/action/bulk/IndexDocFailureStoreStatus.java b/server/src/main/java/org/elasticsearch/action/bulk/IndexDocFailureStoreStatus.java\nindex cb83d693..ceccc5d4 100644\n--- a/server/src/main/java/org/elasticsearch/action/bulk/IndexDocFailureStoreStatus.java\n+++ b/server/src/main/java/org/elasticsearch/action/bulk/IndexDocFailureStoreStatus.java\n@@ -124,7 +124,7 @@ public enum IndexDocFailureStoreStatus implements ToXContentFragment, Writeable\n \n         public ExceptionWithFailureStoreStatus(StreamInput in) throws IOException {\n             super(in);\n-            if (in.getTransportVersion().onOrAfter(TransportVersions.FAILURE_STORE_STATUS_IN_INDEX_RESPONSE)) {\n+            if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 failureStoreStatus = IndexDocFailureStoreStatus.fromId(in.readByte());\n             } else {\n                 failureStoreStatus = NOT_APPLICABLE_OR_UNKNOWN;\n@@ -134,7 +134,7 @@ public enum IndexDocFailureStoreStatus implements ToXContentFragment, Writeable\n         @Override\n         protected void writeTo(StreamOutput out, Writer<Throwable> nestedExceptionsWriter) throws IOException {\n             super.writeTo(out, nestedExceptionsWriter);\n-            if (out.getTransportVersion().onOrAfter(TransportVersions.FAILURE_STORE_STATUS_IN_INDEX_RESPONSE)) {\n+            if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 out.writeByte(failureStoreStatus.getId());\n             }\n         }\ndiff --git a/server/src/main/java/org/elasticsearch/action/bulk/SimulateBulkRequest.java b/server/src/main/java/org/elasticsearch/action/bulk/SimulateBulkRequest.java\nindex 6fa22151..3f605337 100644\n--- a/server/src/main/java/org/elasticsearch/action/bulk/SimulateBulkRequest.java\n+++ b/server/src/main/java/org/elasticsearch/action/bulk/SimulateBulkRequest.java\n@@ -119,12 +119,12 @@ public class SimulateBulkRequest extends BulkRequest {\n     public SimulateBulkRequest(StreamInput in) throws IOException {\n         super(in);\n         this.pipelineSubstitutions = (Map<String, Map<String, Object>>) in.readGenericValue();\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.SIMULATE_COMPONENT_TEMPLATES_SUBSTITUTIONS)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             this.componentTemplateSubstitutions = (Map<String, Map<String, Object>>) in.readGenericValue();\n         } else {\n             componentTemplateSubstitutions = Map.of();\n         }\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.SIMULATE_INDEX_TEMPLATES_SUBSTITUTIONS)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             this.indexTemplateSubstitutions = (Map<String, Map<String, Object>>) in.readGenericValue();\n         } else {\n             indexTemplateSubstitutions = Map.of();\n@@ -135,10 +135,10 @@ public class SimulateBulkRequest extends BulkRequest {\n     public void writeTo(StreamOutput out) throws IOException {\n         super.writeTo(out);\n         out.writeGenericValue(pipelineSubstitutions);\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.SIMULATE_COMPONENT_TEMPLATES_SUBSTITUTIONS)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeGenericValue(componentTemplateSubstitutions);\n         }\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.SIMULATE_INDEX_TEMPLATES_SUBSTITUTIONS)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeGenericValue(indexTemplateSubstitutions);\n         }\n     }\ndiff --git a/server/src/main/java/org/elasticsearch/action/datastreams/GetDataStreamAction.java b/server/src/main/java/org/elasticsearch/action/datastreams/GetDataStreamAction.java\nindex c1cf0fa7..51815405 100644\n--- a/server/src/main/java/org/elasticsearch/action/datastreams/GetDataStreamAction.java\n+++ b/server/src/main/java/org/elasticsearch/action/datastreams/GetDataStreamAction.java\n@@ -112,7 +112,7 @@ public class GetDataStreamAction extends ActionType<GetDataStreamAction.Response\n             } else {\n                 this.includeDefaults = false;\n             }\n-            if (in.getTransportVersion().onOrAfter(TransportVersions.GET_DATA_STREAMS_VERBOSE)) {\n+            if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 this.verbose = in.readBoolean();\n             } else {\n                 this.verbose = false;\n@@ -127,7 +127,7 @@ public class GetDataStreamAction extends ActionType<GetDataStreamAction.Response\n             if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_9_X)) {\n                 out.writeBoolean(includeDefaults);\n             }\n-            if (out.getTransportVersion().onOrAfter(TransportVersions.GET_DATA_STREAMS_VERBOSE)) {\n+            if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 out.writeBoolean(verbose);\n             }\n         }\n@@ -275,7 +275,7 @@ public class GetDataStreamAction extends ActionType<GetDataStreamAction.Response\n                     in.getTransportVersion().onOrAfter(TransportVersions.V_8_3_0) ? in.readOptionalWriteable(TimeSeries::new) : null,\n                     in.getTransportVersion().onOrAfter(V_8_11_X) ? in.readMap(Index::new, IndexProperties::new) : Map.of(),\n                     in.getTransportVersion().onOrAfter(V_8_11_X) ? in.readBoolean() : true,\n-                    in.getTransportVersion().onOrAfter(TransportVersions.GET_DATA_STREAMS_VERBOSE) ? in.readOptionalVLong() : null\n+                    in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0) ? in.readOptionalVLong() : null\n                 );\n             }\n \n@@ -328,7 +328,7 @@ public class GetDataStreamAction extends ActionType<GetDataStreamAction.Response\n                     out.writeMap(indexSettingsValues);\n                     out.writeBoolean(templatePreferIlmValue);\n                 }\n-                if (out.getTransportVersion().onOrAfter(TransportVersions.GET_DATA_STREAMS_VERBOSE)) {\n+                if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                     out.writeOptionalVLong(maximumTimestamp);\n                 }\n             }\ndiff --git a/server/src/main/java/org/elasticsearch/action/datastreams/lifecycle/ExplainIndexDataStreamLifecycle.java b/server/src/main/java/org/elasticsearch/action/datastreams/lifecycle/ExplainIndexDataStreamLifecycle.java\nindex 94c29443..f9bd1359 100644\n--- a/server/src/main/java/org/elasticsearch/action/datastreams/lifecycle/ExplainIndexDataStreamLifecycle.java\n+++ b/server/src/main/java/org/elasticsearch/action/datastreams/lifecycle/ExplainIndexDataStreamLifecycle.java\n@@ -82,7 +82,7 @@ public class ExplainIndexDataStreamLifecycle implements Writeable, ToXContentObj\n     public ExplainIndexDataStreamLifecycle(StreamInput in) throws IOException {\n         this.index = in.readString();\n         this.managedByLifecycle = in.readBoolean();\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.NO_GLOBAL_RETENTION_FOR_SYSTEM_DATA_STREAMS)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             this.isInternalDataStream = in.readBoolean();\n         } else {\n             this.isInternalDataStream = false;\n@@ -165,7 +165,7 @@ public class ExplainIndexDataStreamLifecycle implements Writeable, ToXContentObj\n     public void writeTo(StreamOutput out) throws IOException {\n         out.writeString(index);\n         out.writeBoolean(managedByLifecycle);\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.NO_GLOBAL_RETENTION_FOR_SYSTEM_DATA_STREAMS)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeBoolean(isInternalDataStream);\n         }\n         if (managedByLifecycle) {\ndiff --git a/server/src/main/java/org/elasticsearch/action/datastreams/lifecycle/GetDataStreamLifecycleAction.java b/server/src/main/java/org/elasticsearch/action/datastreams/lifecycle/GetDataStreamLifecycleAction.java\nindex bd628c88..a43d2950 100644\n--- a/server/src/main/java/org/elasticsearch/action/datastreams/lifecycle/GetDataStreamLifecycleAction.java\n+++ b/server/src/main/java/org/elasticsearch/action/datastreams/lifecycle/GetDataStreamLifecycleAction.java\n@@ -173,7 +173,7 @@ public class GetDataStreamLifecycleAction {\n                 this(\n                     in.readString(),\n                     in.readOptionalWriteable(org.elasticsearch.cluster.metadata.DataStreamLifecycle::new),\n-                    in.getTransportVersion().onOrAfter(TransportVersions.NO_GLOBAL_RETENTION_FOR_SYSTEM_DATA_STREAMS) && in.readBoolean()\n+                    in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0) && in.readBoolean()\n                 );\n             }\n \n@@ -181,7 +181,7 @@ public class GetDataStreamLifecycleAction {\n             public void writeTo(StreamOutput out) throws IOException {\n                 out.writeString(dataStreamName);\n                 out.writeOptionalWriteable(lifecycle);\n-                if (out.getTransportVersion().onOrAfter(TransportVersions.NO_GLOBAL_RETENTION_FOR_SYSTEM_DATA_STREAMS)) {\n+                if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                     out.writeBoolean(isInternalDataStream);\n                 }\n             }\ndiff --git a/server/src/main/java/org/elasticsearch/action/fieldcaps/FieldCapabilitiesIndexResponse.java b/server/src/main/java/org/elasticsearch/action/fieldcaps/FieldCapabilitiesIndexResponse.java\nindex d16100a6..6c1c87ae 100644\n--- a/server/src/main/java/org/elasticsearch/action/fieldcaps/FieldCapabilitiesIndexResponse.java\n+++ b/server/src/main/java/org/elasticsearch/action/fieldcaps/FieldCapabilitiesIndexResponse.java\n@@ -62,7 +62,7 @@ public final class FieldCapabilitiesIndexResponse implements Writeable {\n         } else {\n             this.indexMappingHash = null;\n         }\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.FIELD_CAPS_RESPONSE_INDEX_MODE)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             this.indexMode = IndexMode.readFrom(in);\n         } else {\n             this.indexMode = IndexMode.STANDARD;\n@@ -77,7 +77,7 @@ public final class FieldCapabilitiesIndexResponse implements Writeable {\n         if (out.getTransportVersion().onOrAfter(MAPPING_HASH_VERSION)) {\n             out.writeOptionalString(indexMappingHash);\n         }\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.FIELD_CAPS_RESPONSE_INDEX_MODE)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             IndexMode.writeTo(indexMode, out);\n         }\n     }\n@@ -105,7 +105,7 @@ public final class FieldCapabilitiesIndexResponse implements Writeable {\n     private static void collectCompressedResponses(StreamInput input, int groups, ArrayList<FieldCapabilitiesIndexResponse> responses)\n         throws IOException {\n         final CompressedGroup[] compressedGroups = new CompressedGroup[groups];\n-        final boolean readIndexMode = input.getTransportVersion().onOrAfter(TransportVersions.FIELD_CAPS_RESPONSE_INDEX_MODE);\n+        final boolean readIndexMode = input.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0);\n         for (int i = 0; i < groups; i++) {\n             final String[] indices = input.readStringArray();\n             final IndexMode indexMode = readIndexMode ? IndexMode.readFrom(input) : IndexMode.STANDARD;\n@@ -179,7 +179,7 @@ public final class FieldCapabilitiesIndexResponse implements Writeable {\n         output.writeCollection(groupedResponsesMap.values(), (o, fieldCapabilitiesIndexResponses) -> {\n             o.writeCollection(fieldCapabilitiesIndexResponses, (oo, r) -> oo.writeString(r.indexName));\n             var first = fieldCapabilitiesIndexResponses.get(0);\n-            if (output.getTransportVersion().onOrAfter(TransportVersions.FIELD_CAPS_RESPONSE_INDEX_MODE)) {\n+            if (output.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 IndexMode.writeTo(first.indexMode, o);\n             }\n             o.writeString(first.indexMappingHash);\ndiff --git a/server/src/main/java/org/elasticsearch/action/index/IndexRequest.java b/server/src/main/java/org/elasticsearch/action/index/IndexRequest.java\nindex b98f5d87..b4655f70 100644\n--- a/server/src/main/java/org/elasticsearch/action/index/IndexRequest.java\n+++ b/server/src/main/java/org/elasticsearch/action/index/IndexRequest.java\n@@ -201,13 +201,13 @@ public class IndexRequest extends ReplicatedWriteRequest<IndexRequest> implement\n             requireDataStream = false;\n         }\n \n-        if (in.getTransportVersion().onOrAfter(TransportVersions.INDEX_REQUEST_UPDATE_BY_SCRIPT_ORIGIN)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             originatesFromUpdateByScript = in.readBoolean();\n         } else {\n             originatesFromUpdateByScript = false;\n         }\n \n-        if (in.getTransportVersion().onOrAfter(TransportVersions.INDEX_REQUEST_UPDATE_BY_DOC_ORIGIN)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             originatesFromUpdateByDoc = in.readBoolean();\n         } else {\n             originatesFromUpdateByDoc = false;\n@@ -773,11 +773,11 @@ public class IndexRequest extends ReplicatedWriteRequest<IndexRequest> implement\n             out.writeZLong(normalisedBytesParsed);\n         }\n \n-        if (out.getTransportVersion().onOrAfter(TransportVersions.INDEX_REQUEST_UPDATE_BY_SCRIPT_ORIGIN)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeBoolean(originatesFromUpdateByScript);\n         }\n \n-        if (out.getTransportVersion().onOrAfter(TransportVersions.INDEX_REQUEST_UPDATE_BY_DOC_ORIGIN)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeBoolean(originatesFromUpdateByDoc);\n         }\n     }\ndiff --git a/server/src/main/java/org/elasticsearch/action/index/IndexResponse.java b/server/src/main/java/org/elasticsearch/action/index/IndexResponse.java\nindex 8d1bdf22..9d87605d 100644\n--- a/server/src/main/java/org/elasticsearch/action/index/IndexResponse.java\n+++ b/server/src/main/java/org/elasticsearch/action/index/IndexResponse.java\n@@ -46,7 +46,7 @@ public class IndexResponse extends DocWriteResponse {\n         } else {\n             executedPipelines = null;\n         }\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.FAILURE_STORE_STATUS_IN_INDEX_RESPONSE)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             failureStoreStatus = IndexDocFailureStoreStatus.read(in);\n         } else {\n             failureStoreStatus = IndexDocFailureStoreStatus.NOT_APPLICABLE_OR_UNKNOWN;\n@@ -60,7 +60,7 @@ public class IndexResponse extends DocWriteResponse {\n         } else {\n             executedPipelines = null;\n         }\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.FAILURE_STORE_STATUS_IN_INDEX_RESPONSE)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             failureStoreStatus = IndexDocFailureStoreStatus.read(in);\n         } else {\n             failureStoreStatus = IndexDocFailureStoreStatus.NOT_APPLICABLE_OR_UNKNOWN;\n@@ -126,7 +126,7 @@ public class IndexResponse extends DocWriteResponse {\n         if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_12_0)) {\n             out.writeOptionalCollection(executedPipelines, StreamOutput::writeString);\n         }\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.FAILURE_STORE_STATUS_IN_INDEX_RESPONSE)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             failureStoreStatus.writeTo(out);\n         }\n     }\n@@ -137,7 +137,7 @@ public class IndexResponse extends DocWriteResponse {\n         if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_12_0)) {\n             out.writeOptionalCollection(executedPipelines, StreamOutput::writeString);\n         }\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.FAILURE_STORE_STATUS_IN_INDEX_RESPONSE)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             failureStoreStatus.writeTo(out);\n         }\n     }\ndiff --git a/server/src/main/java/org/elasticsearch/action/ingest/SimulateIndexResponse.java b/server/src/main/java/org/elasticsearch/action/ingest/SimulateIndexResponse.java\nindex 1b930d5e..9d883cb0 100644\n--- a/server/src/main/java/org/elasticsearch/action/ingest/SimulateIndexResponse.java\n+++ b/server/src/main/java/org/elasticsearch/action/ingest/SimulateIndexResponse.java\n@@ -42,7 +42,7 @@ public class SimulateIndexResponse extends IndexResponse {\n         this.source = in.readBytesReference();\n         this.sourceXContentType = XContentType.valueOf(in.readString());\n         setShardInfo(ShardInfo.EMPTY);\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.SIMULATE_VALIDATES_MAPPINGS)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             this.exception = in.readException();\n         } else {\n             this.exception = null;\n@@ -102,7 +102,7 @@ public class SimulateIndexResponse extends IndexResponse {\n         super.writeTo(out);\n         out.writeBytesReference(source);\n         out.writeString(sourceXContentType.name());\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.SIMULATE_VALIDATES_MAPPINGS)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeException(exception);\n         }\n     }\ndiff --git a/server/src/main/java/org/elasticsearch/action/search/OpenPointInTimeRequest.java b/server/src/main/java/org/elasticsearch/action/search/OpenPointInTimeRequest.java\nindex 969ba2ad..f768543d 100644\n--- a/server/src/main/java/org/elasticsearch/action/search/OpenPointInTimeRequest.java\n+++ b/server/src/main/java/org/elasticsearch/action/search/OpenPointInTimeRequest.java\n@@ -63,7 +63,7 @@ public final class OpenPointInTimeRequest extends ActionRequest implements Indic\n         if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_12_0)) {\n             this.indexFilter = in.readOptionalNamedWriteable(QueryBuilder.class);\n         }\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.ALLOW_PARTIAL_SEARCH_RESULTS_IN_PIT)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             this.allowPartialSearchResults = in.readBoolean();\n         }\n     }\n@@ -82,7 +82,7 @@ public final class OpenPointInTimeRequest extends ActionRequest implements Indic\n         if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_12_0)) {\n             out.writeOptionalWriteable(indexFilter);\n         }\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.ALLOW_PARTIAL_SEARCH_RESULTS_IN_PIT)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeBoolean(allowPartialSearchResults);\n         } else if (allowPartialSearchResults) {\n             throw new IOException(\"[allow_partial_search_results] is not supported on nodes with version \" + out.getTransportVersion());\ndiff --git a/server/src/main/java/org/elasticsearch/action/search/OpenPointInTimeResponse.java b/server/src/main/java/org/elasticsearch/action/search/OpenPointInTimeResponse.java\nindex 3c830c8e..ce07b82c 100644\n--- a/server/src/main/java/org/elasticsearch/action/search/OpenPointInTimeResponse.java\n+++ b/server/src/main/java/org/elasticsearch/action/search/OpenPointInTimeResponse.java\n@@ -47,7 +47,7 @@ public final class OpenPointInTimeResponse extends ActionResponse implements ToX\n     @Override\n     public void writeTo(StreamOutput out) throws IOException {\n         out.writeBytesReference(pointInTimeId);\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.ALLOW_PARTIAL_SEARCH_RESULTS_IN_PIT)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeVInt(totalShards);\n             out.writeVInt(successfulShards);\n             out.writeVInt(failedShards);\ndiff --git a/server/src/main/java/org/elasticsearch/action/search/SearchContextId.java b/server/src/main/java/org/elasticsearch/action/search/SearchContextId.java\nindex ca810bb8..4d359c9b 100644\n--- a/server/src/main/java/org/elasticsearch/action/search/SearchContextId.java\n+++ b/server/src/main/java/org/elasticsearch/action/search/SearchContextId.java\n@@ -63,14 +63,14 @@ public final class SearchContextId {\n         TransportVersion version,\n         ShardSearchFailure[] shardFailures\n     ) {\n-        assert shardFailures.length == 0 || version.onOrAfter(TransportVersions.ALLOW_PARTIAL_SEARCH_RESULTS_IN_PIT)\n+        assert shardFailures.length == 0 || version.onOrAfter(TransportVersions.V_8_15_0)\n             : \"[allow_partial_search_results] cannot be enabled on a cluster that has not been fully upgraded to version [\"\n-                + TransportVersions.ALLOW_PARTIAL_SEARCH_RESULTS_IN_PIT\n+                + TransportVersions.V_8_15_0\n                 + \"] or higher.\";\n         try (var out = new BytesStreamOutput()) {\n             out.setTransportVersion(version);\n             TransportVersion.writeVersion(version, out);\n-            boolean allowNullContextId = out.getTransportVersion().onOrAfter(TransportVersions.ALLOW_PARTIAL_SEARCH_RESULTS_IN_PIT);\n+            boolean allowNullContextId = out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0);\n             int shardSize = searchPhaseResults.size() + (allowNullContextId ? shardFailures.length : 0);\n             out.writeVInt(shardSize);\n             for (var searchResult : searchPhaseResults) {\ndiff --git a/server/src/main/java/org/elasticsearch/action/search/SearchContextIdForNode.java b/server/src/main/java/org/elasticsearch/action/search/SearchContextIdForNode.java\nindex 7509a7b0..c75f8673 100644\n--- a/server/src/main/java/org/elasticsearch/action/search/SearchContextIdForNode.java\n+++ b/server/src/main/java/org/elasticsearch/action/search/SearchContextIdForNode.java\n@@ -37,7 +37,7 @@ public final class SearchContextIdForNode implements Writeable {\n     }\n \n     SearchContextIdForNode(StreamInput in) throws IOException {\n-        boolean allowNull = in.getTransportVersion().onOrAfter(TransportVersions.ALLOW_PARTIAL_SEARCH_RESULTS_IN_PIT);\n+        boolean allowNull = in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0);\n         this.node = allowNull ? in.readOptionalString() : in.readString();\n         this.clusterAlias = in.readOptionalString();\n         this.searchContextId = allowNull ? in.readOptionalWriteable(ShardSearchContextId::new) : new ShardSearchContextId(in);\n@@ -45,7 +45,7 @@ public final class SearchContextIdForNode implements Writeable {\n \n     @Override\n     public void writeTo(StreamOutput out) throws IOException {\n-        boolean allowNull = out.getTransportVersion().onOrAfter(TransportVersions.ALLOW_PARTIAL_SEARCH_RESULTS_IN_PIT);\n+        boolean allowNull = out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0);\n         if (allowNull) {\n             out.writeOptionalString(node);\n         } else {\ndiff --git a/server/src/main/java/org/elasticsearch/action/search/TransportOpenPointInTimeAction.java b/server/src/main/java/org/elasticsearch/action/search/TransportOpenPointInTimeAction.java\nindex c4a078d9..5084c84a 100644\n--- a/server/src/main/java/org/elasticsearch/action/search/TransportOpenPointInTimeAction.java\n+++ b/server/src/main/java/org/elasticsearch/action/search/TransportOpenPointInTimeAction.java\n@@ -107,7 +107,7 @@ public class TransportOpenPointInTimeAction extends HandledTransportAction<OpenP\n         final ClusterState clusterState = clusterService.state();\n         // Check if all the nodes in this cluster know about the service\n         if (request.allowPartialSearchResults()\n-            && clusterState.getMinTransportVersion().before(TransportVersions.ALLOW_PARTIAL_SEARCH_RESULTS_IN_PIT)) {\n+            && clusterState.getMinTransportVersion().before(TransportVersions.V_8_15_0)) {\n             listener.onFailure(\n                 new ElasticsearchStatusException(\n                     format(\ndiff --git a/server/src/main/java/org/elasticsearch/action/support/IndicesOptions.java b/server/src/main/java/org/elasticsearch/action/support/IndicesOptions.java\nindex 22d019f8..5fcefb2d 100644\n--- a/server/src/main/java/org/elasticsearch/action/support/IndicesOptions.java\n+++ b/server/src/main/java/org/elasticsearch/action/support/IndicesOptions.java\n@@ -999,11 +999,11 @@ public record IndicesOptions(\n         }\n         out.writeEnumSet(states);\n         if (out.getTransportVersion()\n-            .between(TransportVersions.V_8_14_0, TransportVersions.CONVERT_FAILURE_STORE_OPTIONS_TO_SELECTOR_OPTIONS_INTERNALLY)) {\n+            .between(TransportVersions.V_8_14_0, TransportVersions.V_8_15_0)) {\n             out.writeBoolean(includeRegularIndices());\n             out.writeBoolean(includeFailureIndices());\n         }\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.CONVERT_FAILURE_STORE_OPTIONS_TO_SELECTOR_OPTIONS_INTERNALLY)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeEnumSet(selectorOptions.defaultSelectors);\n         }\n     }\n@@ -1027,7 +1027,7 @@ public record IndicesOptions(\n             .build();\n         SelectorOptions selectorOptions = SelectorOptions.DEFAULT;\n         if (in.getTransportVersion()\n-            .between(TransportVersions.V_8_14_0, TransportVersions.CONVERT_FAILURE_STORE_OPTIONS_TO_SELECTOR_OPTIONS_INTERNALLY)) {\n+            .between(TransportVersions.V_8_14_0, TransportVersions.V_8_15_0)) {\n             // Reading from an older node, which will be sending two booleans that we must read out and ignore.\n             var includeData = in.readBoolean();\n             var includeFailures = in.readBoolean();\n@@ -1039,7 +1039,7 @@ public record IndicesOptions(\n                 selectorOptions = SelectorOptions.ONLY_FAILURES;\n             }\n         }\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.CONVERT_FAILURE_STORE_OPTIONS_TO_SELECTOR_OPTIONS_INTERNALLY)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             selectorOptions = new SelectorOptions(in.readEnumSet(IndexComponentSelector.class));\n         }\n         return new IndicesOptions(\ndiff --git a/server/src/main/java/org/elasticsearch/action/support/master/MasterNodeRequest.java b/server/src/main/java/org/elasticsearch/action/support/master/MasterNodeRequest.java\nindex a4ecd59e..10d8fe02 100644\n--- a/server/src/main/java/org/elasticsearch/action/support/master/MasterNodeRequest.java\n+++ b/server/src/main/java/org/elasticsearch/action/support/master/MasterNodeRequest.java\n@@ -76,7 +76,7 @@ public abstract class MasterNodeRequest<Request extends MasterNodeRequest<Reques\n     protected MasterNodeRequest(StreamInput in) throws IOException {\n         super(in);\n         masterNodeTimeout = in.readTimeValue();\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.VERSIONED_MASTER_NODE_REQUESTS)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             masterTerm = in.readVLong();\n         } else {\n             masterTerm = 0L;\n@@ -90,7 +90,7 @@ public abstract class MasterNodeRequest<Request extends MasterNodeRequest<Reques\n         assert masterTerm <= newMasterTerm : masterTerm + \" vs \" + newMasterTerm;\n         super.writeTo(out);\n         out.writeTimeValue(masterNodeTimeout);\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.VERSIONED_MASTER_NODE_REQUESTS)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeVLong(newMasterTerm);\n         } // else no protection against routing loops in older versions\n     }\ndiff --git a/server/src/main/java/org/elasticsearch/cluster/ClusterState.java b/server/src/main/java/org/elasticsearch/cluster/ClusterState.java\nindex 64df6e77..4a241ba5 100644\n--- a/server/src/main/java/org/elasticsearch/cluster/ClusterState.java\n+++ b/server/src/main/java/org/elasticsearch/cluster/ClusterState.java\n@@ -241,7 +241,7 @@ public class ClusterState implements ChunkedToXContent, Diffable<ClusterState> {\n     }\n \n     private boolean assertEventIngestedIsUnknownInMixedClusters(Metadata metadata, CompatibilityVersions compatibilityVersions) {\n-        if (compatibilityVersions.transportVersion().before(TransportVersions.EVENT_INGESTED_RANGE_IN_CLUSTER_STATE)\n+        if (compatibilityVersions.transportVersion().before(TransportVersions.V_8_15_0)\n             && metadata != null\n             && metadata.indices() != null) {\n             for (IndexMetadata indexMetadata : metadata.indices().values()) {\ndiff --git a/server/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java b/server/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java\nindex 4b848543..bd438d66 100644\n--- a/server/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java\n+++ b/server/src/main/java/org/elasticsearch/cluster/action/shard/ShardStateAction.java\n@@ -722,7 +722,7 @@ public class ShardStateAction {\n                              */\n                             IndexLongFieldRange newEventIngestedMillisRange = IndexLongFieldRange.UNKNOWN;\n                             TransportVersion minTransportVersion = batchExecutionContext.initialState().getMinTransportVersion();\n-                            if (minTransportVersion.onOrAfter(TransportVersions.EVENT_INGESTED_RANGE_IN_CLUSTER_STATE)) {\n+                            if (minTransportVersion.onOrAfter(TransportVersions.V_8_15_0)) {\n                                 newEventIngestedMillisRange = currentEventIngestedMillisRange.extendWithShardRange(\n                                     startedShardEntry.shardId.id(),\n                                     indexMetadata.getNumberOfShards(),\n@@ -827,7 +827,7 @@ public class ShardStateAction {\n             primaryTerm = in.readVLong();\n             this.message = in.readString();\n             this.timestampRange = ShardLongFieldRange.readFrom(in);\n-            if (in.getTransportVersion().onOrAfter(TransportVersions.EVENT_INGESTED_RANGE_IN_CLUSTER_STATE)) {\n+            if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 this.eventIngestedRange = ShardLongFieldRange.readFrom(in);\n             } else {\n                 this.eventIngestedRange = ShardLongFieldRange.UNKNOWN;\n@@ -858,7 +858,7 @@ public class ShardStateAction {\n             out.writeVLong(primaryTerm);\n             out.writeString(message);\n             timestampRange.writeTo(out);\n-            if (out.getTransportVersion().onOrAfter(TransportVersions.EVENT_INGESTED_RANGE_IN_CLUSTER_STATE)) {\n+            if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 eventIngestedRange.writeTo(out);\n             }\n         }\ndiff --git a/server/src/main/java/org/elasticsearch/cluster/coordination/JoinStatus.java b/server/src/main/java/org/elasticsearch/cluster/coordination/JoinStatus.java\nindex 5182e018..89083848 100644\n--- a/server/src/main/java/org/elasticsearch/cluster/coordination/JoinStatus.java\n+++ b/server/src/main/java/org/elasticsearch/cluster/coordination/JoinStatus.java\n@@ -25,7 +25,7 @@ public record JoinStatus(DiscoveryNode remoteNode, long term, String message, Ti\n             new DiscoveryNode(in),\n             in.readLong(),\n             in.readString(),\n-            in.getTransportVersion().onOrAfter(TransportVersions.JOIN_STATUS_AGE_SERIALIZATION)\n+            in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)\n                 ? in.readTimeValue()\n                 : new TimeValue(in.readLong(), TimeUnit.valueOf(in.readString()))\n         );\n@@ -36,7 +36,7 @@ public record JoinStatus(DiscoveryNode remoteNode, long term, String message, Ti\n         remoteNode.writeTo(out);\n         out.writeLong(term);\n         out.writeString(message);\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.JOIN_STATUS_AGE_SERIALIZATION)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeTimeValue(age);\n         } else {\n             out.writeLong(age.duration());\ndiff --git a/server/src/main/java/org/elasticsearch/cluster/health/ClusterIndexHealth.java b/server/src/main/java/org/elasticsearch/cluster/health/ClusterIndexHealth.java\nindex b6c1defe..13d95989 100644\n--- a/server/src/main/java/org/elasticsearch/cluster/health/ClusterIndexHealth.java\n+++ b/server/src/main/java/org/elasticsearch/cluster/health/ClusterIndexHealth.java\n@@ -111,7 +111,7 @@ public final class ClusterIndexHealth implements Writeable, ToXContentFragment {\n         unassignedShards = in.readVInt();\n         status = ClusterHealthStatus.readFrom(in);\n         shards = in.readMapValues(ClusterShardHealth::new, ClusterShardHealth::getShardId);\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.UNASSIGNED_PRIMARY_COUNT_ON_CLUSTER_HEALTH)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             unassignedPrimaryShards = in.readVInt();\n         } else {\n             unassignedPrimaryShards = 0;\n@@ -203,7 +203,7 @@ public final class ClusterIndexHealth implements Writeable, ToXContentFragment {\n         out.writeVInt(unassignedShards);\n         out.writeByte(status.value());\n         out.writeMapValues(shards);\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.UNASSIGNED_PRIMARY_COUNT_ON_CLUSTER_HEALTH)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeVInt(unassignedPrimaryShards);\n         }\n     }\ndiff --git a/server/src/main/java/org/elasticsearch/cluster/health/ClusterShardHealth.java b/server/src/main/java/org/elasticsearch/cluster/health/ClusterShardHealth.java\nindex 63863542..91f24067 100644\n--- a/server/src/main/java/org/elasticsearch/cluster/health/ClusterShardHealth.java\n+++ b/server/src/main/java/org/elasticsearch/cluster/health/ClusterShardHealth.java\n@@ -96,7 +96,7 @@ public final class ClusterShardHealth implements Writeable, ToXContentFragment {\n         initializingShards = in.readVInt();\n         unassignedShards = in.readVInt();\n         primaryActive = in.readBoolean();\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.UNASSIGNED_PRIMARY_COUNT_ON_CLUSTER_HEALTH)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             unassignedPrimaryShards = in.readVInt();\n         } else {\n             unassignedPrimaryShards = 0;\n@@ -167,7 +167,7 @@ public final class ClusterShardHealth implements Writeable, ToXContentFragment {\n         out.writeVInt(initializingShards);\n         out.writeVInt(unassignedShards);\n         out.writeBoolean(primaryActive);\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.UNASSIGNED_PRIMARY_COUNT_ON_CLUSTER_HEALTH)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeVInt(unassignedPrimaryShards);\n         }\n     }\ndiff --git a/server/src/main/java/org/elasticsearch/cluster/health/ClusterStateHealth.java b/server/src/main/java/org/elasticsearch/cluster/health/ClusterStateHealth.java\nindex 579429b5..c302a582 100644\n--- a/server/src/main/java/org/elasticsearch/cluster/health/ClusterStateHealth.java\n+++ b/server/src/main/java/org/elasticsearch/cluster/health/ClusterStateHealth.java\n@@ -120,7 +120,7 @@ public final class ClusterStateHealth implements Writeable {\n         status = ClusterHealthStatus.readFrom(in);\n         indices = in.readMapValues(ClusterIndexHealth::new, ClusterIndexHealth::getIndex);\n         activeShardsPercent = in.readDouble();\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.UNASSIGNED_PRIMARY_COUNT_ON_CLUSTER_HEALTH)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             unassignedPrimaryShards = in.readVInt();\n         } else {\n             unassignedPrimaryShards = 0;\n@@ -212,7 +212,7 @@ public final class ClusterStateHealth implements Writeable {\n         out.writeByte(status.value());\n         out.writeMapValues(indices);\n         out.writeDouble(activeShardsPercent);\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.UNASSIGNED_PRIMARY_COUNT_ON_CLUSTER_HEALTH)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeVInt(unassignedPrimaryShards);\n         }\n     }\ndiff --git a/server/src/main/java/org/elasticsearch/cluster/metadata/DataStream.java b/server/src/main/java/org/elasticsearch/cluster/metadata/DataStream.java\nindex dd4a52fd..1877f944 100644\n--- a/server/src/main/java/org/elasticsearch/cluster/metadata/DataStream.java\n+++ b/server/src/main/java/org/elasticsearch/cluster/metadata/DataStream.java\n@@ -200,7 +200,7 @@ public final class DataStream implements SimpleDiffable<DataStream>, ToXContentO\n             : null;\n         // This boolean flag has been moved in data stream options\n         var failureStoreEnabled = in.getTransportVersion()\n-            .between(DataStream.ADDED_FAILURE_STORE_TRANSPORT_VERSION, TransportVersions.ADD_DATA_STREAM_OPTIONS)\n+            .between(DataStream.ADDED_FAILURE_STORE_TRANSPORT_VERSION, TransportVersions.V_8_15_0)\n                 ? in.readBoolean()\n                 : false;\n         var failureIndices = in.getTransportVersion().onOrAfter(DataStream.ADDED_FAILURE_STORE_TRANSPORT_VERSION)\n@@ -211,12 +211,12 @@ public final class DataStream implements SimpleDiffable<DataStream>, ToXContentO\n         if (in.getTransportVersion().onOrAfter(DataStream.ADDED_AUTO_SHARDING_EVENT_VERSION)) {\n             backingIndicesBuilder.setAutoShardingEvent(in.readOptionalWriteable(DataStreamAutoShardingEvent::new));\n         }\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.FAILURE_STORE_FIELD_PARITY)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             failureIndicesBuilder.setRolloverOnWrite(in.readBoolean())\n                 .setAutoShardingEvent(in.readOptionalWriteable(DataStreamAutoShardingEvent::new));\n         }\n         DataStreamOptions dataStreamOptions;\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.ADD_DATA_STREAM_OPTIONS)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             dataStreamOptions = in.readOptionalWriteable(DataStreamOptions::read);\n         } else {\n             // We cannot distinguish if failure store was explicitly disabled or not. Given that failure store\n@@ -1077,7 +1077,7 @@ public final class DataStream implements SimpleDiffable<DataStream>, ToXContentO\n             out.writeOptionalWriteable(lifecycle);\n         }\n         if (out.getTransportVersion()\n-            .between(DataStream.ADDED_FAILURE_STORE_TRANSPORT_VERSION, TransportVersions.ADD_DATA_STREAM_OPTIONS)) {\n+            .between(DataStream.ADDED_FAILURE_STORE_TRANSPORT_VERSION, TransportVersions.V_8_15_0)) {\n             out.writeBoolean(isFailureStoreEnabled());\n         }\n         if (out.getTransportVersion().onOrAfter(DataStream.ADDED_FAILURE_STORE_TRANSPORT_VERSION)) {\n@@ -1089,11 +1089,11 @@ public final class DataStream implements SimpleDiffable<DataStream>, ToXContentO\n         if (out.getTransportVersion().onOrAfter(DataStream.ADDED_AUTO_SHARDING_EVENT_VERSION)) {\n             out.writeOptionalWriteable(backingIndices.autoShardingEvent);\n         }\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.FAILURE_STORE_FIELD_PARITY)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeBoolean(failureIndices.rolloverOnWrite);\n             out.writeOptionalWriteable(failureIndices.autoShardingEvent);\n         }\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.ADD_DATA_STREAM_OPTIONS)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeOptionalWriteable(dataStreamOptions.isEmpty() ? null : dataStreamOptions);\n         }\n     }\ndiff --git a/server/src/main/java/org/elasticsearch/cluster/metadata/IndexMetadata.java b/server/src/main/java/org/elasticsearch/cluster/metadata/IndexMetadata.java\nindex 8a05d1d7..6f91f92e 100644\n--- a/server/src/main/java/org/elasticsearch/cluster/metadata/IndexMetadata.java\n+++ b/server/src/main/java/org/elasticsearch/cluster/metadata/IndexMetadata.java\n@@ -949,7 +949,7 @@ public class IndexMetadata implements Diffable<IndexMetadata>, ToXContentFragmen\n         }\n         IndexLongFieldRange allowedEventIngestedRange = eventIngestedRange;\n         // remove this check when the EVENT_INGESTED_RANGE_IN_CLUSTER_STATE version is removed\n-        if (minClusterTransportVersion.before(TransportVersions.EVENT_INGESTED_RANGE_IN_CLUSTER_STATE)) {\n+        if (minClusterTransportVersion.before(TransportVersions.V_8_15_0)) {\n             allowedEventIngestedRange = IndexLongFieldRange.UNKNOWN;\n         }\n         return new IndexMetadata(\n@@ -1647,7 +1647,7 @@ public class IndexMetadata implements Diffable<IndexMetadata>, ToXContentFragmen\n                 DiffableUtils.getStringKeySerializer(),\n                 ROLLOVER_INFO_DIFF_VALUE_READER\n             );\n-            if (in.getTransportVersion().onOrAfter(TransportVersions.INDEX_METADATA_MAPPINGS_UPDATED_VERSION)) {\n+            if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 mappingsUpdatedVersion = IndexVersion.readVersion(in);\n             } else {\n                 mappingsUpdatedVersion = IndexVersions.ZERO;\n@@ -1667,7 +1667,7 @@ public class IndexMetadata implements Diffable<IndexMetadata>, ToXContentFragmen\n                 indexWriteLoadForecast = null;\n                 shardSizeInBytesForecast = null;\n             }\n-            if (in.getTransportVersion().onOrAfter(TransportVersions.EVENT_INGESTED_RANGE_IN_CLUSTER_STATE)) {\n+            if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 eventIngestedRange = IndexLongFieldRange.readFrom(in);\n             } else {\n                 eventIngestedRange = IndexLongFieldRange.UNKNOWN;\n@@ -1701,7 +1701,7 @@ public class IndexMetadata implements Diffable<IndexMetadata>, ToXContentFragmen\n             customData.writeTo(out);\n             inSyncAllocationIds.writeTo(out);\n             rolloverInfos.writeTo(out);\n-            if (out.getTransportVersion().onOrAfter(TransportVersions.INDEX_METADATA_MAPPINGS_UPDATED_VERSION)) {\n+            if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 IndexVersion.writeVersion(mappingsUpdatedVersion, out);\n             }\n             if (out.getTransportVersion().onOrAfter(SYSTEM_INDEX_FLAG_ADDED)) {\n@@ -1713,7 +1713,7 @@ public class IndexMetadata implements Diffable<IndexMetadata>, ToXContentFragmen\n                 out.writeOptionalDouble(indexWriteLoadForecast);\n                 out.writeOptionalLong(shardSizeInBytesForecast);\n             }\n-            if (out.getTransportVersion().onOrAfter(TransportVersions.EVENT_INGESTED_RANGE_IN_CLUSTER_STATE)) {\n+            if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 eventIngestedRange.writeTo(out);\n             } else {\n                 assert eventIngestedRange == IndexLongFieldRange.UNKNOWN\n@@ -1812,7 +1812,7 @@ public class IndexMetadata implements Diffable<IndexMetadata>, ToXContentFragmen\n         for (int i = 0; i < rolloverAliasesSize; i++) {\n             builder.putRolloverInfo(new RolloverInfo(in));\n         }\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.INDEX_METADATA_MAPPINGS_UPDATED_VERSION)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             builder.mappingsUpdatedVersion(IndexVersion.readVersion(in));\n         }\n         if (in.getTransportVersion().onOrAfter(SYSTEM_INDEX_FLAG_ADDED)) {\n@@ -1825,7 +1825,7 @@ public class IndexMetadata implements Diffable<IndexMetadata>, ToXContentFragmen\n             builder.indexWriteLoadForecast(in.readOptionalDouble());\n             builder.shardSizeInBytesForecast(in.readOptionalLong());\n         }\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.EVENT_INGESTED_RANGE_IN_CLUSTER_STATE)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             builder.eventIngestedRange(IndexLongFieldRange.readFrom(in), in.getTransportVersion());\n         } else {\n             builder.eventIngestedRange(IndexLongFieldRange.UNKNOWN, in.getTransportVersion());\n@@ -1870,7 +1870,7 @@ public class IndexMetadata implements Diffable<IndexMetadata>, ToXContentFragmen\n             (o, v) -> DiffableUtils.StringSetValueSerializer.getInstance().write(v, o)\n         );\n         out.writeCollection(rolloverInfos.values());\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.INDEX_METADATA_MAPPINGS_UPDATED_VERSION)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             IndexVersion.writeVersion(mappingsUpdatedVersion, out);\n         }\n         if (out.getTransportVersion().onOrAfter(SYSTEM_INDEX_FLAG_ADDED)) {\n@@ -1882,7 +1882,7 @@ public class IndexMetadata implements Diffable<IndexMetadata>, ToXContentFragmen\n             out.writeOptionalDouble(writeLoadForecast);\n             out.writeOptionalLong(shardSizeInBytesForecast);\n         }\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.EVENT_INGESTED_RANGE_IN_CLUSTER_STATE)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             eventIngestedRange.writeTo(out);\n         } else {\n             assert eventIngestedRange == IndexLongFieldRange.UNKNOWN\n@@ -2209,7 +2209,7 @@ public class IndexMetadata implements Diffable<IndexMetadata>, ToXContentFragmen\n                     + \"; eventIngestedRange = \"\n                     + eventIngestedRange;\n             if (minClusterTransportVersion != null\n-                && minClusterTransportVersion.before(TransportVersions.EVENT_INGESTED_RANGE_IN_CLUSTER_STATE)) {\n+                && minClusterTransportVersion.before(TransportVersions.V_8_15_0)) {\n                 this.eventIngestedRange = IndexLongFieldRange.UNKNOWN;\n             } else {\n                 this.eventIngestedRange = eventIngestedRange;\ndiff --git a/server/src/main/java/org/elasticsearch/cluster/metadata/InferenceFieldMetadata.java b/server/src/main/java/org/elasticsearch/cluster/metadata/InferenceFieldMetadata.java\nindex 271c60e8..801fe07f 100644\n--- a/server/src/main/java/org/elasticsearch/cluster/metadata/InferenceFieldMetadata.java\n+++ b/server/src/main/java/org/elasticsearch/cluster/metadata/InferenceFieldMetadata.java\n@@ -23,7 +23,7 @@ import java.util.Arrays;\n import java.util.List;\n import java.util.Objects;\n \n-import static org.elasticsearch.TransportVersions.SEMANTIC_TEXT_SEARCH_INFERENCE_ID;\n+import static org.elasticsearch.TransportVersions.V_8_15_0;\n \n /**\n  * Contains inference field data for fields.\ndiff --git a/server/src/main/java/org/elasticsearch/cluster/metadata/MetadataCreateIndexService.java b/server/src/main/java/org/elasticsearch/cluster/metadata/MetadataCreateIndexService.java\nindex 29720e98..32171947 100644\n--- a/server/src/main/java/org/elasticsearch/cluster/metadata/MetadataCreateIndexService.java\n+++ b/server/src/main/java/org/elasticsearch/cluster/metadata/MetadataCreateIndexService.java\n@@ -1306,7 +1306,7 @@ public class MetadataCreateIndexService {\n     ) {\n         IndexMetadata.Builder indexMetadataBuilder = createIndexMetadataBuilder(indexName, sourceMetadata, indexSettings, routingNumShards);\n         indexMetadataBuilder.system(isSystem);\n-        if (minClusterTransportVersion.before(TransportVersions.EVENT_INGESTED_RANGE_IN_CLUSTER_STATE)) {\n+        if (minClusterTransportVersion.before(TransportVersions.V_8_15_0)) {\n             // promote to UNKNOWN for older versions since they don't know how to handle event.ingested in cluster state\n             indexMetadataBuilder.eventIngestedRange(IndexLongFieldRange.UNKNOWN, minClusterTransportVersion);\n         }\ndiff --git a/server/src/main/java/org/elasticsearch/cluster/routing/OperationRouting.java b/server/src/main/java/org/elasticsearch/cluster/routing/OperationRouting.java\nindex 9120e25b..82ee0852 100644\n--- a/server/src/main/java/org/elasticsearch/cluster/routing/OperationRouting.java\n+++ b/server/src/main/java/org/elasticsearch/cluster/routing/OperationRouting.java\n@@ -32,7 +32,7 @@ import java.util.Map;\n import java.util.Set;\n import java.util.stream.Collectors;\n \n-import static org.elasticsearch.TransportVersions.FAST_REFRESH_RCO;\n+import static org.elasticsearch.TransportVersions.V_8_15_0;\n import static org.elasticsearch.index.IndexSettings.INDEX_FAST_REFRESH_SETTING;\n \n public class OperationRouting {\ndiff --git a/server/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java b/server/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java\nindex 790b8e4a..c3c76930 100644\n--- a/server/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java\n+++ b/server/src/main/java/org/elasticsearch/cluster/routing/RoutingTable.java\n@@ -317,7 +317,7 @@ public class RoutingTable implements Iterable<IndexRoutingTable>, Diffable<Routi\n \n     public static RoutingTable readFrom(StreamInput in) throws IOException {\n         Builder builder = new Builder();\n-        if (in.getTransportVersion().before(TransportVersions.ROUTING_TABLE_VERSION_REMOVED)) {\n+        if (in.getTransportVersion().before(TransportVersions.V_8_15_0)) {\n             in.readLong(); // previously 'version', unused in all applicable versions so any number will do\n         }\n         int size = in.readVInt();\n@@ -331,7 +331,7 @@ public class RoutingTable implements Iterable<IndexRoutingTable>, Diffable<Routi\n \n     @Override\n     public void writeTo(StreamOutput out) throws IOException {\n-        if (out.getTransportVersion().before(TransportVersions.ROUTING_TABLE_VERSION_REMOVED)) {\n+        if (out.getTransportVersion().before(TransportVersions.V_8_15_0)) {\n             out.writeLong(0); // previously 'version', unused in all applicable versions so any number will do\n         }\n         out.writeCollection(indicesRouting.values());\n@@ -349,7 +349,7 @@ public class RoutingTable implements Iterable<IndexRoutingTable>, Diffable<Routi\n             new DiffableUtils.DiffableValueReader<>(IndexRoutingTable::readFrom, IndexRoutingTable::readDiffFrom);\n \n         RoutingTableDiff(StreamInput in) throws IOException {\n-            if (in.getTransportVersion().before(TransportVersions.ROUTING_TABLE_VERSION_REMOVED)) {\n+            if (in.getTransportVersion().before(TransportVersions.V_8_15_0)) {\n                 in.readLong(); // previously 'version', unused in all applicable versions so any number will do\n             }\n             indicesRouting = DiffableUtils.readImmutableOpenMapDiff(in, DiffableUtils.getStringKeySerializer(), DIFF_VALUE_READER);\n@@ -366,7 +366,7 @@ public class RoutingTable implements Iterable<IndexRoutingTable>, Diffable<Routi\n \n         @Override\n         public void writeTo(StreamOutput out) throws IOException {\n-            if (out.getTransportVersion().before(TransportVersions.ROUTING_TABLE_VERSION_REMOVED)) {\n+            if (out.getTransportVersion().before(TransportVersions.V_8_15_0)) {\n                 out.writeLong(0); // previously 'version', unused in all applicable versions so any number will do\n             }\n             indicesRouting.writeTo(out);\ndiff --git a/server/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java b/server/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java\nindex 644cc6bb..6161b0c3 100644\n--- a/server/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java\n+++ b/server/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java\n@@ -908,9 +908,9 @@ public abstract class StreamInput extends InputStream {\n     private ZonedDateTime readZonedDateTime() throws IOException {\n         final String timeZoneId = readString();\n         final Instant instant;\n-        if (getTransportVersion().onOrAfter(TransportVersions.ZDT_NANOS_SUPPORT_BROKEN)) {\n+        if (getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             // epoch seconds can be negative, but it was incorrectly first written as vlong\n-            boolean zlong = getTransportVersion().onOrAfter(TransportVersions.ZDT_NANOS_SUPPORT);\n+            boolean zlong = getTransportVersion().onOrAfter(TransportVersions.V_8_15_0);\n             long seconds = zlong ? readZLong() : readVLong();\n             instant = Instant.ofEpochSecond(seconds, readInt());\n         } else {\ndiff --git a/server/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java b/server/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java\nindex c449065a..b2ab860c 100644\n--- a/server/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java\n+++ b/server/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java\n@@ -768,9 +768,9 @@ public abstract class StreamOutput extends OutputStream {\n             final ZonedDateTime zonedDateTime = (ZonedDateTime) v;\n             o.writeString(zonedDateTime.getZone().getId());\n             Instant instant = zonedDateTime.toInstant();\n-            if (o.getTransportVersion().onOrAfter(TransportVersions.ZDT_NANOS_SUPPORT_BROKEN)) {\n+            if (o.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 // epoch seconds can be negative, but it was incorrectly first written as vlong\n-                if (o.getTransportVersion().onOrAfter(TransportVersions.ZDT_NANOS_SUPPORT)) {\n+                if (o.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                     o.writeZLong(instant.getEpochSecond());\n                 } else {\n                     o.writeVLong(instant.getEpochSecond());\ndiff --git a/server/src/main/java/org/elasticsearch/index/engine/CommitStats.java b/server/src/main/java/org/elasticsearch/index/engine/CommitStats.java\nindex a871524b..4484d793 100644\n--- a/server/src/main/java/org/elasticsearch/index/engine/CommitStats.java\n+++ b/server/src/main/java/org/elasticsearch/index/engine/CommitStats.java\n@@ -46,7 +46,7 @@ public final class CommitStats implements Writeable, ToXContentFragment {\n         generation = in.readLong();\n         id = in.readOptionalString();\n         numDocs = in.readInt();\n-        numLeaves = in.getTransportVersion().onOrAfter(TransportVersions.SEGMENT_LEVEL_FIELDS_STATS) ? in.readVInt() : 0;\n+        numLeaves = in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0) ? in.readVInt() : 0;\n     }\n \n     @Override\n@@ -100,7 +100,7 @@ public final class CommitStats implements Writeable, ToXContentFragment {\n         out.writeLong(generation);\n         out.writeOptionalString(id);\n         out.writeInt(numDocs);\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.SEGMENT_LEVEL_FIELDS_STATS)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeVInt(numLeaves);\n         }\n     }\ndiff --git a/server/src/main/java/org/elasticsearch/index/mapper/NodeMappingStats.java b/server/src/main/java/org/elasticsearch/index/mapper/NodeMappingStats.java\nindex 56210a29..96446545 100644\n--- a/server/src/main/java/org/elasticsearch/index/mapper/NodeMappingStats.java\n+++ b/server/src/main/java/org/elasticsearch/index/mapper/NodeMappingStats.java\n@@ -52,7 +52,7 @@ public class NodeMappingStats implements Writeable, ToXContentFragment {\n     public NodeMappingStats(StreamInput in) throws IOException {\n         totalCount = in.readVLong();\n         totalEstimatedOverhead = in.readVLong();\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.SEGMENT_LEVEL_FIELDS_STATS)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             totalSegments = in.readVLong();\n             totalSegmentFields = in.readVLong();\n         }\n@@ -93,7 +93,7 @@ public class NodeMappingStats implements Writeable, ToXContentFragment {\n     public void writeTo(StreamOutput out) throws IOException {\n         out.writeVLong(totalCount);\n         out.writeVLong(totalEstimatedOverhead);\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.SEGMENT_LEVEL_FIELDS_STATS)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeVLong(totalSegments);\n             out.writeVLong(totalSegmentFields);\n         }\ndiff --git a/server/src/main/java/org/elasticsearch/index/query/IntervalsSourceProvider.java b/server/src/main/java/org/elasticsearch/index/query/IntervalsSourceProvider.java\nindex 647e45d1..30f65f0a 100644\n--- a/server/src/main/java/org/elasticsearch/index/query/IntervalsSourceProvider.java\n+++ b/server/src/main/java/org/elasticsearch/index/query/IntervalsSourceProvider.java\n@@ -825,7 +825,7 @@ public abstract class IntervalsSourceProvider implements NamedWriteable, ToXCont\n \n         @Override\n         public TransportVersion getMinimalSupportedVersion() {\n-            return TransportVersions.REGEX_AND_RANGE_INTERVAL_QUERIES;\n+            return TransportVersions.V_8_15_0;\n         }\n \n         @Override\n@@ -1129,7 +1129,7 @@ public abstract class IntervalsSourceProvider implements NamedWriteable, ToXCont\n \n         @Override\n         public TransportVersion getMinimalSupportedVersion() {\n-            return TransportVersions.REGEX_AND_RANGE_INTERVAL_QUERIES;\n+            return TransportVersions.V_8_15_0;\n         }\n \n         @Override\ndiff --git a/server/src/main/java/org/elasticsearch/index/search/stats/SearchStats.java b/server/src/main/java/org/elasticsearch/index/search/stats/SearchStats.java\nindex ff514091..11ef1d18 100644\n--- a/server/src/main/java/org/elasticsearch/index/search/stats/SearchStats.java\n+++ b/server/src/main/java/org/elasticsearch/index/search/stats/SearchStats.java\n@@ -105,7 +105,7 @@ public class SearchStats implements Writeable, ToXContentFragment {\n             suggestTimeInMillis = in.readVLong();\n             suggestCurrent = in.readVLong();\n \n-            if (in.getTransportVersion().onOrAfter(TransportVersions.SEARCH_FAILURE_STATS)) {\n+            if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 queryFailure = in.readVLong();\n                 fetchFailure = in.readVLong();\n             }\n@@ -129,7 +129,7 @@ public class SearchStats implements Writeable, ToXContentFragment {\n             out.writeVLong(suggestTimeInMillis);\n             out.writeVLong(suggestCurrent);\n \n-            if (out.getTransportVersion().onOrAfter(TransportVersions.SEARCH_FAILURE_STATS)) {\n+            if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 out.writeVLong(queryFailure);\n                 out.writeVLong(fetchFailure);\n             }\ndiff --git a/server/src/main/java/org/elasticsearch/index/stats/IndexingPressureStats.java b/server/src/main/java/org/elasticsearch/index/stats/IndexingPressureStats.java\nindex c755862d..b5197274 100644\n--- a/server/src/main/java/org/elasticsearch/index/stats/IndexingPressureStats.java\n+++ b/server/src/main/java/org/elasticsearch/index/stats/IndexingPressureStats.java\n@@ -80,7 +80,7 @@ public class IndexingPressureStats implements Writeable, ToXContentFragment {\n             primaryDocumentRejections = -1L;\n         }\n \n-        if (in.getTransportVersion().onOrAfter(TransportVersions.INDEXING_PRESSURE_REQUEST_REJECTIONS_COUNT)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             totalCoordinatingRequests = in.readVLong();\n         } else {\n             totalCoordinatingRequests = -1L;\n@@ -157,7 +157,7 @@ public class IndexingPressureStats implements Writeable, ToXContentFragment {\n             out.writeVLong(primaryDocumentRejections);\n         }\n \n-        if (out.getTransportVersion().onOrAfter(TransportVersions.INDEXING_PRESSURE_REQUEST_REJECTIONS_COUNT)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeVLong(totalCoordinatingRequests);\n         }\n     }\ndiff --git a/server/src/main/java/org/elasticsearch/inference/EmptySecretSettings.java b/server/src/main/java/org/elasticsearch/inference/EmptySecretSettings.java\nindex 9c666bd4..c29f2120 100644\n--- a/server/src/main/java/org/elasticsearch/inference/EmptySecretSettings.java\n+++ b/server/src/main/java/org/elasticsearch/inference/EmptySecretSettings.java\n@@ -44,7 +44,7 @@ public record EmptySecretSettings() implements SecretSettings {\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_EIS_INTEGRATION_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/server/src/main/java/org/elasticsearch/inference/ModelConfigurations.java b/server/src/main/java/org/elasticsearch/inference/ModelConfigurations.java\nindex ebf32f04..df3839a3 100644\n--- a/server/src/main/java/org/elasticsearch/inference/ModelConfigurations.java\n+++ b/server/src/main/java/org/elasticsearch/inference/ModelConfigurations.java\n@@ -121,7 +121,7 @@ public class ModelConfigurations implements ToFilteredXContentObject, VersionedN\n         this.service = in.readString();\n         this.serviceSettings = in.readNamedWriteable(ServiceSettings.class);\n         this.taskSettings = in.readNamedWriteable(TaskSettings.class);\n-        this.chunkingSettings = in.getTransportVersion().onOrAfter(TransportVersions.ML_INFERENCE_CHUNKING_SETTINGS)\n+        this.chunkingSettings = in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)\n             ? in.readOptionalNamedWriteable(ChunkingSettings.class)\n             : null;\n     }\n@@ -133,7 +133,7 @@ public class ModelConfigurations implements ToFilteredXContentObject, VersionedN\n         out.writeString(service);\n         out.writeNamedWriteable(serviceSettings);\n         out.writeNamedWriteable(taskSettings);\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.ML_INFERENCE_CHUNKING_SETTINGS)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeOptionalNamedWriteable(chunkingSettings);\n         }\n     }\ndiff --git a/server/src/main/java/org/elasticsearch/ingest/EnterpriseGeoIpTask.java b/server/src/main/java/org/elasticsearch/ingest/EnterpriseGeoIpTask.java\nindex e696c38b..b96799f0 100644\n--- a/server/src/main/java/org/elasticsearch/ingest/EnterpriseGeoIpTask.java\n+++ b/server/src/main/java/org/elasticsearch/ingest/EnterpriseGeoIpTask.java\n@@ -64,7 +64,7 @@ public final class EnterpriseGeoIpTask {\n \n         @Override\n         public TransportVersion getMinimalSupportedVersion() {\n-            return TransportVersions.ENTERPRISE_GEOIP_DOWNLOADER;\n+            return TransportVersions.V_8_15_0;\n         }\n \n         @Override\ndiff --git a/server/src/main/java/org/elasticsearch/ingest/IngestStats.java b/server/src/main/java/org/elasticsearch/ingest/IngestStats.java\nindex a7f0a16b..4731a89d 100644\n--- a/server/src/main/java/org/elasticsearch/ingest/IngestStats.java\n+++ b/server/src/main/java/org/elasticsearch/ingest/IngestStats.java\n@@ -65,7 +65,7 @@ public record IngestStats(Stats totalStats, List<PipelineStat> pipelineStats, Ma\n         for (var i = 0; i < size; i++) {\n             var pipelineId = in.readString();\n             var pipelineStat = new Stats(in);\n-            var byteStat = in.getTransportVersion().onOrAfter(TransportVersions.NODE_STATS_INGEST_BYTES)\n+            var byteStat = in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)\n                 ? new ByteStats(in)\n                 : new ByteStats(0, 0);\n             pipelineStats.add(new PipelineStat(pipelineId, pipelineStat, byteStat));\n@@ -90,7 +90,7 @@ public record IngestStats(Stats totalStats, List<PipelineStat> pipelineStats, Ma\n         for (PipelineStat pipelineStat : pipelineStats) {\n             out.writeString(pipelineStat.pipelineId());\n             pipelineStat.stats().writeTo(out);\n-            if (out.getTransportVersion().onOrAfter(TransportVersions.NODE_STATS_INGEST_BYTES)) {\n+            if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 pipelineStat.byteStats().writeTo(out);\n             }\n             List<ProcessorStat> processorStatsForPipeline = processorStats.get(pipelineStat.pipelineId());\ndiff --git a/server/src/main/java/org/elasticsearch/search/DocValueFormat.java b/server/src/main/java/org/elasticsearch/search/DocValueFormat.java\nindex f1d4f678..fd062239 100644\n--- a/server/src/main/java/org/elasticsearch/search/DocValueFormat.java\n+++ b/server/src/main/java/org/elasticsearch/search/DocValueFormat.java\n@@ -237,7 +237,7 @@ public interface DocValueFormat extends NamedWriteable {\n \n         public DateTime(StreamInput in) throws IOException {\n             String formatterPattern = in.readString();\n-            Locale locale = in.getTransportVersion().onOrAfter(TransportVersions.DATE_TIME_DOC_VALUES_LOCALES)\n+            Locale locale = in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)\n                 ? LocaleUtils.parse(in.readString())\n                 : DateFieldMapper.DEFAULT_LOCALE;\n             String zoneId = in.readString();\n@@ -263,7 +263,7 @@ public interface DocValueFormat extends NamedWriteable {\n         @Override\n         public void writeTo(StreamOutput out) throws IOException {\n             out.writeString(formatter.pattern());\n-            if (out.getTransportVersion().onOrAfter(TransportVersions.DATE_TIME_DOC_VALUES_LOCALES)) {\n+            if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 out.writeString(formatter.locale().toString());\n             }\n             out.writeString(timeZone.getId());\ndiff --git a/server/src/main/java/org/elasticsearch/search/builder/PointInTimeBuilder.java b/server/src/main/java/org/elasticsearch/search/builder/PointInTimeBuilder.java\nindex 0d11ce15..eecc840e 100644\n--- a/server/src/main/java/org/elasticsearch/search/builder/PointInTimeBuilder.java\n+++ b/server/src/main/java/org/elasticsearch/search/builder/PointInTimeBuilder.java\n@@ -63,7 +63,7 @@ public final class PointInTimeBuilder implements Writeable, ToXContentFragment {\n     }\n \n     public PointInTimeBuilder(StreamInput in) throws IOException {\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.BINARY_PIT_ID)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             encodedId = in.readBytesReference();\n         } else {\n             encodedId = new BytesArray(Base64.getUrlDecoder().decode(in.readString()));\n@@ -73,7 +73,7 @@ public final class PointInTimeBuilder implements Writeable, ToXContentFragment {\n \n     @Override\n     public void writeTo(StreamOutput out) throws IOException {\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.BINARY_PIT_ID)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeBytesReference(encodedId);\n         } else {\n             out.writeString(Base64.getUrlEncoder().encodeToString(BytesReference.toBytes(encodedId)));\ndiff --git a/server/src/main/java/org/elasticsearch/search/fetch/ShardFetchSearchRequest.java b/server/src/main/java/org/elasticsearch/search/fetch/ShardFetchSearchRequest.java\nindex efde60f4..534c764c 100644\n--- a/server/src/main/java/org/elasticsearch/search/fetch/ShardFetchSearchRequest.java\n+++ b/server/src/main/java/org/elasticsearch/search/fetch/ShardFetchSearchRequest.java\n@@ -61,7 +61,7 @@ public class ShardFetchSearchRequest extends ShardFetchRequest implements Indice\n         shardSearchRequest = in.readOptionalWriteable(ShardSearchRequest::new);\n         rescoreDocIds = new RescoreDocIds(in);\n         aggregatedDfs = in.readOptionalWriteable(AggregatedDfs::new);\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.RANK_DOC_IN_SHARD_FETCH_REQUEST)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             this.rankDocs = in.readOptionalWriteable(RankDocShardInfo::new);\n         } else {\n             this.rankDocs = null;\n@@ -75,7 +75,7 @@ public class ShardFetchSearchRequest extends ShardFetchRequest implements Indice\n         out.writeOptionalWriteable(shardSearchRequest);\n         rescoreDocIds.writeTo(out);\n         out.writeOptionalWriteable(aggregatedDfs);\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.RANK_DOC_IN_SHARD_FETCH_REQUEST)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeOptionalWriteable(rankDocs);\n         }\n     }\ndiff --git a/server/src/main/java/org/elasticsearch/search/rank/RankDoc.java b/server/src/main/java/org/elasticsearch/search/rank/RankDoc.java\nindex 9ab14aa9..f4067797 100644\n--- a/server/src/main/java/org/elasticsearch/search/rank/RankDoc.java\n+++ b/server/src/main/java/org/elasticsearch/search/rank/RankDoc.java\n@@ -44,7 +44,7 @@ public class RankDoc extends ScoreDoc implements VersionedNamedWriteable, ToXCon\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.RANK_DOCS_RETRIEVER;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/server/src/main/java/org/elasticsearch/search/rank/feature/RankFeatureShardResult.java b/server/src/main/java/org/elasticsearch/search/rank/feature/RankFeatureShardResult.java\nindex eb8d03bd..13cf9f33 100644\n--- a/server/src/main/java/org/elasticsearch/search/rank/feature/RankFeatureShardResult.java\n+++ b/server/src/main/java/org/elasticsearch/search/rank/feature/RankFeatureShardResult.java\n@@ -43,7 +43,7 @@ public class RankFeatureShardResult implements RankShardResult {\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.RANK_FEATURE_PHASE_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/server/src/main/java/org/elasticsearch/search/retriever/rankdoc/RankDocsQueryBuilder.java b/server/src/main/java/org/elasticsearch/search/retriever/rankdoc/RankDocsQueryBuilder.java\nindex 1539be9a..7751ae96 100644\n--- a/server/src/main/java/org/elasticsearch/search/retriever/rankdoc/RankDocsQueryBuilder.java\n+++ b/server/src/main/java/org/elasticsearch/search/retriever/rankdoc/RankDocsQueryBuilder.java\n@@ -27,7 +27,7 @@ import java.io.IOException;\n import java.util.Arrays;\n import java.util.Objects;\n \n-import static org.elasticsearch.TransportVersions.RRF_QUERY_REWRITE;\n+import static org.elasticsearch.TransportVersions.V_8_15_0;\n \n public class RankDocsQueryBuilder extends AbstractQueryBuilder<RankDocsQueryBuilder> {\n \n@@ -138,6 +138,6 @@ public class RankDocsQueryBuilder extends AbstractQueryBuilder<RankDocsQueryBuil\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.RANK_DOCS_RETRIEVER;\n+        return TransportVersions.V_8_15_0;\n     }\n }\ndiff --git a/server/src/main/java/org/elasticsearch/search/vectors/ExactKnnQueryBuilder.java b/server/src/main/java/org/elasticsearch/search/vectors/ExactKnnQueryBuilder.java\nindex 30a32e9a..6853cca0 100644\n--- a/server/src/main/java/org/elasticsearch/search/vectors/ExactKnnQueryBuilder.java\n+++ b/server/src/main/java/org/elasticsearch/search/vectors/ExactKnnQueryBuilder.java\n@@ -55,7 +55,7 @@ public class ExactKnnQueryBuilder extends AbstractQueryBuilder<ExactKnnQueryBuil\n             this.query = VectorData.fromFloats(in.readFloatArray());\n         }\n         this.field = in.readString();\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.FIX_VECTOR_SIMILARITY_INNER_HITS)\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)\n             || in.getTransportVersion().isPatchFrom(TransportVersions.FIX_VECTOR_SIMILARITY_INNER_HITS_BACKPORT_8_15)) {\n             this.vectorSimilarity = in.readOptionalFloat();\n         } else {\n@@ -88,7 +88,7 @@ public class ExactKnnQueryBuilder extends AbstractQueryBuilder<ExactKnnQueryBuil\n             out.writeFloatArray(query.asFloatVector());\n         }\n         out.writeString(field);\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.FIX_VECTOR_SIMILARITY_INNER_HITS)\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)\n             || out.getTransportVersion().isPatchFrom(TransportVersions.FIX_VECTOR_SIMILARITY_INNER_HITS_BACKPORT_8_15)) {\n             out.writeOptionalFloat(vectorSimilarity);\n         }\ndiff --git a/server/src/main/java/org/elasticsearch/search/vectors/KnnScoreDocQueryBuilder.java b/server/src/main/java/org/elasticsearch/search/vectors/KnnScoreDocQueryBuilder.java\nindex 15052fda..71b02e47 100644\n--- a/server/src/main/java/org/elasticsearch/search/vectors/KnnScoreDocQueryBuilder.java\n+++ b/server/src/main/java/org/elasticsearch/search/vectors/KnnScoreDocQueryBuilder.java\n@@ -71,7 +71,7 @@ public class KnnScoreDocQueryBuilder extends AbstractQueryBuilder<KnnScoreDocQue\n             this.fieldName = null;\n             this.queryVector = null;\n         }\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.FIX_VECTOR_SIMILARITY_INNER_HITS)\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)\n             || in.getTransportVersion().isPatchFrom(TransportVersions.FIX_VECTOR_SIMILARITY_INNER_HITS_BACKPORT_8_15)) {\n             this.vectorSimilarity = in.readOptionalFloat();\n         } else {\n@@ -116,7 +116,7 @@ public class KnnScoreDocQueryBuilder extends AbstractQueryBuilder<KnnScoreDocQue\n                 out.writeBoolean(false);\n             }\n         }\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.FIX_VECTOR_SIMILARITY_INNER_HITS)\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)\n             || out.getTransportVersion().isPatchFrom(TransportVersions.FIX_VECTOR_SIMILARITY_INNER_HITS_BACKPORT_8_15)) {\n             out.writeOptionalFloat(vectorSimilarity);\n         }\ndiff --git a/server/src/main/java/org/elasticsearch/search/vectors/KnnSearchBuilder.java b/server/src/main/java/org/elasticsearch/search/vectors/KnnSearchBuilder.java\nindex a30aa0ef..8ce8fc07 100644\n--- a/server/src/main/java/org/elasticsearch/search/vectors/KnnSearchBuilder.java\n+++ b/server/src/main/java/org/elasticsearch/search/vectors/KnnSearchBuilder.java\n@@ -261,7 +261,7 @@ public class KnnSearchBuilder implements Writeable, ToXContentFragment, Rewritea\n         }\n         this.filterQueries = in.readNamedWriteableCollectionAsList(QueryBuilder.class);\n         this.boost = in.readFloat();\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.TOP_LEVEL_KNN_SUPPORT_QUERY_NAME)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             this.queryName = in.readOptionalString();\n         } else {\n             this.queryName = null;\n@@ -501,7 +501,7 @@ public class KnnSearchBuilder implements Writeable, ToXContentFragment, Rewritea\n         }\n         out.writeNamedWriteableCollection(filterQueries);\n         out.writeFloat(boost);\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.TOP_LEVEL_KNN_SUPPORT_QUERY_NAME)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeOptionalString(queryName);\n         }\n         if (out.getTransportVersion().before(TransportVersions.V_8_7_0) && queryVectorBuilder != null) {\ndiff --git a/server/src/main/java/org/elasticsearch/search/vectors/KnnVectorQueryBuilder.java b/server/src/main/java/org/elasticsearch/search/vectors/KnnVectorQueryBuilder.java\nindex 9af1968b..deb7e6bd 100644\n--- a/server/src/main/java/org/elasticsearch/search/vectors/KnnVectorQueryBuilder.java\n+++ b/server/src/main/java/org/elasticsearch/search/vectors/KnnVectorQueryBuilder.java\n@@ -192,7 +192,7 @@ public class KnnVectorQueryBuilder extends AbstractQueryBuilder<KnnVectorQueryBu\n     public KnnVectorQueryBuilder(StreamInput in) throws IOException {\n         super(in);\n         this.fieldName = in.readString();\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.K_FOR_KNN_QUERY_ADDED)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             this.k = in.readOptionalVInt();\n         } else {\n             this.k = null;\n@@ -279,7 +279,7 @@ public class KnnVectorQueryBuilder extends AbstractQueryBuilder<KnnVectorQueryBu\n             throw new IllegalStateException(\"missing a rewriteAndFetch?\");\n         }\n         out.writeString(fieldName);\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.K_FOR_KNN_QUERY_ADDED)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeOptionalVInt(k);\n         }\n         if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_13_0)) {\ndiff --git a/server/src/main/java/org/elasticsearch/snapshots/RegisteredPolicySnapshots.java b/server/src/main/java/org/elasticsearch/snapshots/RegisteredPolicySnapshots.java\nindex f34b8766..37fbea07 100644\n--- a/server/src/main/java/org/elasticsearch/snapshots/RegisteredPolicySnapshots.java\n+++ b/server/src/main/java/org/elasticsearch/snapshots/RegisteredPolicySnapshots.java\n@@ -101,7 +101,7 @@ public class RegisteredPolicySnapshots implements Metadata.Custom {\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.REGISTER_SLM_STATS;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\n@@ -171,7 +171,7 @@ public class RegisteredPolicySnapshots implements Metadata.Custom {\n \n         @Override\n         public TransportVersion getMinimalSupportedVersion() {\n-            return TransportVersions.REGISTER_SLM_STATS;\n+            return TransportVersions.V_8_15_0;\n         }\n     }\n \ndiff --git a/server/src/test/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequestParametersTests.java b/server/src/test/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequestParametersTests.java\nindex e7661bf3..b30b7870 100644\n--- a/server/src/test/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequestParametersTests.java\n+++ b/server/src/test/java/org/elasticsearch/action/admin/cluster/node/stats/NodesStatsRequestParametersTests.java\n@@ -23,7 +23,7 @@ import java.util.List;\n public class NodesStatsRequestParametersTests extends ESTestCase {\n \n     public void testReadWriteMetricSet() {\n-        for (var version : List.of(TransportVersions.VERSIONED_MASTER_NODE_REQUESTS, TransportVersions.NODES_STATS_ENUM_SET)) {\n+        for (var version : List.of(TransportVersions.V_8_15_0, TransportVersions.V_8_15_0)) {\n             var randSet = randomSubsetOf(Metric.ALL);\n             var metricsOut = randSet.isEmpty() ? EnumSet.noneOf(Metric.class) : EnumSet.copyOf(randSet);\n             try {\ndiff --git a/server/src/test/java/org/elasticsearch/action/admin/cluster/stats/SearchUsageStatsTests.java b/server/src/test/java/org/elasticsearch/action/admin/cluster/stats/SearchUsageStatsTests.java\nindex 89ccd4ab..456bd5e5 100644\n--- a/server/src/test/java/org/elasticsearch/action/admin/cluster/stats/SearchUsageStatsTests.java\n+++ b/server/src/test/java/org/elasticsearch/action/admin/cluster/stats/SearchUsageStatsTests.java\n@@ -199,7 +199,7 @@ public class SearchUsageStatsTests extends AbstractWireSerializingTestCase<Searc\n                 randomQueryUsage(QUERY_TYPES.size()),\n                 version.onOrAfter(TransportVersions.V_8_12_0) ? randomRescorerUsage(RESCORER_TYPES.size()) : Map.of(),\n                 randomSectionsUsage(SECTIONS.size()),\n-                version.onOrAfter(TransportVersions.RETRIEVERS_TELEMETRY_ADDED) ? randomRetrieversUsage(RETRIEVERS.size()) : Map.of(),\n+                version.onOrAfter(TransportVersions.V_8_15_0) ? randomRetrieversUsage(RETRIEVERS.size()) : Map.of(),\n                 randomLongBetween(0, Long.MAX_VALUE)\n             );\n             assertSerialization(testInstance, version);\ndiff --git a/server/src/test/java/org/elasticsearch/action/admin/indices/close/CloseIndexRequestTests.java b/server/src/test/java/org/elasticsearch/action/admin/indices/close/CloseIndexRequestTests.java\nindex 733ef1c2..9957acee 100644\n--- a/server/src/test/java/org/elasticsearch/action/admin/indices/close/CloseIndexRequestTests.java\n+++ b/server/src/test/java/org/elasticsearch/action/admin/indices/close/CloseIndexRequestTests.java\n@@ -50,7 +50,7 @@ public class CloseIndexRequestTests extends ESTestCase {\n                     in.setTransportVersion(out.getTransportVersion());\n                     assertEquals(request.getParentTask(), TaskId.readFromStream(in));\n                     assertEquals(request.masterNodeTimeout(), in.readTimeValue());\n-                    if (in.getTransportVersion().onOrAfter(TransportVersions.VERSIONED_MASTER_NODE_REQUESTS)) {\n+                    if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                         assertEquals(request.masterTerm(), in.readVLong());\n                     }\n                     assertEquals(request.ackTimeout(), in.readTimeValue());\n@@ -79,7 +79,7 @@ public class CloseIndexRequestTests extends ESTestCase {\n                 out.setTransportVersion(version);\n                 sample.getParentTask().writeTo(out);\n                 out.writeTimeValue(sample.masterNodeTimeout());\n-                if (out.getTransportVersion().onOrAfter(TransportVersions.VERSIONED_MASTER_NODE_REQUESTS)) {\n+                if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                     out.writeVLong(sample.masterTerm());\n                 }\n                 out.writeTimeValue(sample.ackTimeout());\ndiff --git a/server/src/test/java/org/elasticsearch/cluster/action/shard/ShardStartedClusterStateTaskExecutorTests.java b/server/src/test/java/org/elasticsearch/cluster/action/shard/ShardStartedClusterStateTaskExecutorTests.java\nindex d1734dbf..ca7376a4 100644\n--- a/server/src/test/java/org/elasticsearch/cluster/action/shard/ShardStartedClusterStateTaskExecutorTests.java\n+++ b/server/src/test/java/org/elasticsearch/cluster/action/shard/ShardStartedClusterStateTaskExecutorTests.java\n@@ -424,7 +424,7 @@ public class ShardStartedClusterStateTaskExecutorTests extends ESAllocationTestC\n         }\n \n         final var eventIngestedRange = resultingState.metadata().index(indexName).getEventIngestedRange();\n-        if (clusterState.getMinTransportVersion().before(TransportVersions.EVENT_INGESTED_RANGE_IN_CLUSTER_STATE)) {\n+        if (clusterState.getMinTransportVersion().before(TransportVersions.V_8_15_0)) {\n             assertThat(eventIngestedRange, sameInstance(IndexLongFieldRange.UNKNOWN));\n         } else {\n             if (shardEventIngestedRange == ShardLongFieldRange.UNKNOWN) {\ndiff --git a/server/src/test/java/org/elasticsearch/cluster/action/shard/ShardStateActionTests.java b/server/src/test/java/org/elasticsearch/cluster/action/shard/ShardStateActionTests.java\nindex a1536e17..3c680d89 100644\n--- a/server/src/test/java/org/elasticsearch/cluster/action/shard/ShardStateActionTests.java\n+++ b/server/src/test/java/org/elasticsearch/cluster/action/shard/ShardStateActionTests.java\n@@ -599,7 +599,7 @@ public class ShardStateActionTests extends ESTestCase {\n             assertThat(deserialized.primaryTerm, equalTo(primaryTerm));\n             assertThat(deserialized.message, equalTo(message));\n             assertThat(deserialized.timestampRange, equalTo(timestampRange));\n-            if (version.before(TransportVersions.EVENT_INGESTED_RANGE_IN_CLUSTER_STATE)) {\n+            if (version.before(TransportVersions.V_8_15_0)) {\n                 assertThat(deserialized.eventIngestedRange, equalTo(ShardLongFieldRange.UNKNOWN));\n             } else {\n                 assertThat(deserialized.eventIngestedRange, equalTo(eventIngestedRange));\n@@ -615,7 +615,7 @@ public class ShardStateActionTests extends ESTestCase {\n         final TransportVersion version = randomFrom(\n             getFirstVersion(),\n             getPreviousVersion(TransportVersions.MINIMUM_COMPATIBLE),\n-            getPreviousVersion(TransportVersions.EVENT_INGESTED_RANGE_IN_CLUSTER_STATE)\n+            getPreviousVersion(TransportVersions.V_8_15_0)\n         );\n         final ShardLongFieldRange timestampRange = ShardLongFieldRangeWireTests.randomRange();\n         final ShardLongFieldRange eventIngestedRange = ShardLongFieldRangeWireTests.randomRange();\ndiff --git a/server/src/test/java/org/elasticsearch/cluster/metadata/IndexMetadataTests.java b/server/src/test/java/org/elasticsearch/cluster/metadata/IndexMetadataTests.java\nindex 8036a964..04bd2452 100644\n--- a/server/src/test/java/org/elasticsearch/cluster/metadata/IndexMetadataTests.java\n+++ b/server/src/test/java/org/elasticsearch/cluster/metadata/IndexMetadataTests.java\n@@ -248,7 +248,7 @@ public class IndexMetadataTests extends ESTestCase {\n         builder.endObject();\n \n         // convert XContent to a map and remove the IndexMetadata.KEY_EVENT_INGESTED_RANGE entry\n-        // to simulate IndexMetadata from an older cluster version (before TransportVersions.EVENT_INGESTED_RANGE_IN_CLUSTER_STATE)\n+        // to simulate IndexMetadata from an older cluster version (before TransportVersions.V_8_15_0)\n         Map<String, Object> indexMetadataMap = XContentHelper.convertToMap(BytesReference.bytes(builder), true, XContentType.JSON).v2();\n \n         @SuppressWarnings(\"unchecked\")\ndiff --git a/server/src/test/java/org/elasticsearch/cluster/routing/IndexRoutingTableTests.java b/server/src/test/java/org/elasticsearch/cluster/routing/IndexRoutingTableTests.java\nindex 6a7f4bb2..8a2eb9d8 100644\n--- a/server/src/test/java/org/elasticsearch/cluster/routing/IndexRoutingTableTests.java\n+++ b/server/src/test/java/org/elasticsearch/cluster/routing/IndexRoutingTableTests.java\n@@ -20,7 +20,7 @@ import org.mockito.Mockito;\n \n import java.util.List;\n \n-import static org.elasticsearch.TransportVersions.FAST_REFRESH_RCO;\n+import static org.elasticsearch.TransportVersions.V_8_15_0;\n import static org.elasticsearch.index.IndexSettings.INDEX_FAST_REFRESH_SETTING;\n import static org.mockito.ArgumentMatchers.any;\n import static org.mockito.Mockito.mock;\ndiff --git a/server/src/test/java/org/elasticsearch/cluster/serialization/ClusterSerializationTests.java b/server/src/test/java/org/elasticsearch/cluster/serialization/ClusterSerializationTests.java\nindex ca5b9295..206169ec 100644\n--- a/server/src/test/java/org/elasticsearch/cluster/serialization/ClusterSerializationTests.java\n+++ b/server/src/test/java/org/elasticsearch/cluster/serialization/ClusterSerializationTests.java\n@@ -70,7 +70,7 @@ public class ClusterSerializationTests extends ESAllocationTestCase {\n             .settings(settings(IndexVersion.current()))\n             .numberOfShards(10)\n             .numberOfReplicas(1)\n-            .eventIngestedRange(eventIngestedRangeInput, TransportVersions.EVENT_INGESTED_RANGE_IN_CLUSTER_STATE);\n+            .eventIngestedRange(eventIngestedRangeInput, TransportVersions.V_8_15_0);\n \n         ClusterStateTestRecord result = createAndSerializeClusterState(indexMetadataBuilder, TransportVersion.current());\n \n@@ -90,7 +90,7 @@ public class ClusterSerializationTests extends ESAllocationTestCase {\n         TransportVersion versionBeforeEventIngestedInClusterState = randomFrom(\n             TransportVersions.V_7_0_0,\n             TransportVersions.V_8_0_0,\n-            TransportVersions.ML_INFERENCE_GOOGLE_VERTEX_AI_EMBEDDINGS_ADDED  // version before EVENT_INGESTED_RANGE_IN_CLUSTER_STATE\n+            TransportVersions.V_8_15_0  // version before EVENT_INGESTED_RANGE_IN_CLUSTER_STATE\n         );\n         {\n             IndexLongFieldRange eventIngestedRangeInput = randomFrom(\ndiff --git a/server/src/test/java/org/elasticsearch/common/io/stream/AbstractStreamTests.java b/server/src/test/java/org/elasticsearch/common/io/stream/AbstractStreamTests.java\nindex d2b6d0a6..94b1d04a 100644\n--- a/server/src/test/java/org/elasticsearch/common/io/stream/AbstractStreamTests.java\n+++ b/server/src/test/java/org/elasticsearch/common/io/stream/AbstractStreamTests.java\n@@ -53,8 +53,8 @@ import java.util.stream.Stream;\n \n import static java.time.Instant.ofEpochSecond;\n import static java.time.ZonedDateTime.ofInstant;\n-import static org.elasticsearch.TransportVersions.ZDT_NANOS_SUPPORT;\n-import static org.elasticsearch.TransportVersions.ZDT_NANOS_SUPPORT_BROKEN;\n+import static org.elasticsearch.TransportVersions.V_8_15_0;\n+import static org.elasticsearch.TransportVersions.V_8_15_0;\n import static org.hamcrest.Matchers.containsString;\n import static org.hamcrest.Matchers.equalTo;\n import static org.hamcrest.Matchers.hasToString;\ndiff --git a/server/src/test/java/org/elasticsearch/search/rank/RankFeatureShardPhaseTests.java b/server/src/test/java/org/elasticsearch/search/rank/RankFeatureShardPhaseTests.java\nindex b3efff43..cce10fb8 100644\n--- a/server/src/test/java/org/elasticsearch/search/rank/RankFeatureShardPhaseTests.java\n+++ b/server/src/test/java/org/elasticsearch/search/rank/RankFeatureShardPhaseTests.java\n@@ -190,7 +190,7 @@ public class RankFeatureShardPhaseTests extends ESTestCase {\n \n             @Override\n             public TransportVersion getMinimalSupportedVersion() {\n-                return TransportVersions.RANK_FEATURE_PHASE_ADDED;\n+                return TransportVersions.V_8_15_0;\n             }\n         };\n     }\ndiff --git a/test/framework/src/main/java/org/elasticsearch/action/support/replication/ClusterStateCreationUtils.java b/test/framework/src/main/java/org/elasticsearch/action/support/replication/ClusterStateCreationUtils.java\nindex 6a0b4f2d..19c0b9d5 100644\n--- a/test/framework/src/main/java/org/elasticsearch/action/support/replication/ClusterStateCreationUtils.java\n+++ b/test/framework/src/main/java/org/elasticsearch/action/support/replication/ClusterStateCreationUtils.java\n@@ -153,7 +153,7 @@ public class ClusterStateCreationUtils {\n             .timestampRange(timeFieldRange)\n             .eventIngestedRange(\n                 timeFieldRange,\n-                timeFieldRange == IndexLongFieldRange.UNKNOWN ? null : TransportVersions.EVENT_INGESTED_RANGE_IN_CLUSTER_STATE\n+                timeFieldRange == IndexLongFieldRange.UNKNOWN ? null : TransportVersions.V_8_15_0\n             )\n             .build();\n \n@@ -289,7 +289,7 @@ public class ClusterStateCreationUtils {\n                 )\n                 .eventIngestedRange(\n                     IndexLongFieldRange.UNKNOWN,\n-                    randomFrom(TransportVersions.V_8_0_0, TransportVersions.EVENT_INGESTED_RANGE_IN_CLUSTER_STATE)\n+                    randomFrom(TransportVersions.V_8_0_0, TransportVersions.V_8_15_0)\n                 )\n                 .build();\n \ndiff --git a/x-pack/plugin/autoscaling/src/main/java/org/elasticsearch/xpack/autoscaling/action/GetAutoscalingCapacityAction.java b/x-pack/plugin/autoscaling/src/main/java/org/elasticsearch/xpack/autoscaling/action/GetAutoscalingCapacityAction.java\nindex 81b53487..836c8b15 100644\n--- a/x-pack/plugin/autoscaling/src/main/java/org/elasticsearch/xpack/autoscaling/action/GetAutoscalingCapacityAction.java\n+++ b/x-pack/plugin/autoscaling/src/main/java/org/elasticsearch/xpack/autoscaling/action/GetAutoscalingCapacityAction.java\n@@ -47,7 +47,7 @@ public class GetAutoscalingCapacityAction extends ActionType<GetAutoscalingCapac\n \n         public Request(final StreamInput in) throws IOException {\n             super(in);\n-            if (in.getTransportVersion().before(TransportVersions.GET_AUTOSCALING_CAPACITY_UNUSED_TIMEOUT)) {\n+            if (in.getTransportVersion().before(TransportVersions.V_8_15_0)) {\n                 in.readTimeValue(); // unused\n             }\n         }\n@@ -55,7 +55,7 @@ public class GetAutoscalingCapacityAction extends ActionType<GetAutoscalingCapac\n         @Override\n         public void writeTo(final StreamOutput out) throws IOException {\n             super.writeTo(out);\n-            if (out.getTransportVersion().before(TransportVersions.GET_AUTOSCALING_CAPACITY_UNUSED_TIMEOUT)) {\n+            if (out.getTransportVersion().before(TransportVersions.V_8_15_0)) {\n                 out.writeTimeValue(AcknowledgedRequest.DEFAULT_ACK_TIMEOUT); // unused\n             }\n         }\ndiff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/datastreams/DataStreamFeatureSetUsage.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/datastreams/DataStreamFeatureSetUsage.java\nindex 63fcd3dc..e267c94e 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/datastreams/DataStreamFeatureSetUsage.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/datastreams/DataStreamFeatureSetUsage.java\n@@ -91,8 +91,8 @@ public class DataStreamFeatureSetUsage extends XPackFeatureSet.Usage {\n             this(\n                 in.readVLong(),\n                 in.readVLong(),\n-                in.getTransportVersion().onOrAfter(TransportVersions.FAILURE_STORE_TELEMETRY) ? in.readVLong() : 0,\n-                in.getTransportVersion().onOrAfter(TransportVersions.FAILURE_STORE_TELEMETRY) ? in.readVLong() : 0\n+                in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0) ? in.readVLong() : 0,\n+                in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0) ? in.readVLong() : 0\n             );\n         }\n \n@@ -100,7 +100,7 @@ public class DataStreamFeatureSetUsage extends XPackFeatureSet.Usage {\n         public void writeTo(StreamOutput out) throws IOException {\n             out.writeVLong(this.totalDataStreamCount);\n             out.writeVLong(this.indicesBehindDataStream);\n-            if (out.getTransportVersion().onOrAfter(TransportVersions.FAILURE_STORE_TELEMETRY)) {\n+            if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 out.writeVLong(this.failureStoreEnabledDataStreamCount);\n                 out.writeVLong(this.failureStoreIndicesCount);\n             }\ndiff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/datastreams/DataStreamLifecycleFeatureSetUsage.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/datastreams/DataStreamLifecycleFeatureSetUsage.java\nindex 4c550c69..d65c6e12 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/datastreams/DataStreamLifecycleFeatureSetUsage.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/datastreams/DataStreamLifecycleFeatureSetUsage.java\n@@ -111,7 +111,7 @@ public class DataStreamLifecycleFeatureSetUsage extends XPackFeatureSet.Usage {\n         }\n \n         public static LifecycleStats read(StreamInput in) throws IOException {\n-            if (in.getTransportVersion().onOrAfter(TransportVersions.GLOBAL_RETENTION_TELEMETRY)) {\n+            if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 return new LifecycleStats(\n                     in.readVLong(),\n                     in.readBoolean(),\n@@ -139,7 +139,7 @@ public class DataStreamLifecycleFeatureSetUsage extends XPackFeatureSet.Usage {\n \n         @Override\n         public void writeTo(StreamOutput out) throws IOException {\n-            if (out.getTransportVersion().onOrAfter(TransportVersions.GLOBAL_RETENTION_TELEMETRY)) {\n+            if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 out.writeVLong(dataStreamsWithLifecyclesCount);\n                 out.writeBoolean(defaultRolloverUsed);\n                 dataRetentionStats.writeTo(out);\ndiff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/enrich/action/EnrichStatsAction.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/enrich/action/EnrichStatsAction.java\nindex fc9087d9..7ecb338c 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/enrich/action/EnrichStatsAction.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/enrich/action/EnrichStatsAction.java\n@@ -207,9 +207,9 @@ public class EnrichStatsAction extends ActionType<EnrichStatsAction.Response> {\n                     in.readVLong(),\n                     in.readVLong(),\n                     in.readVLong(),\n-                    in.getTransportVersion().onOrAfter(TransportVersions.ENRICH_CACHE_ADDITIONAL_STATS) ? in.readLong() : -1,\n-                    in.getTransportVersion().onOrAfter(TransportVersions.ENRICH_CACHE_ADDITIONAL_STATS) ? in.readLong() : -1,\n-                    in.getTransportVersion().onOrAfter(TransportVersions.ENRICH_CACHE_STATS_SIZE_ADDED) ? in.readLong() : -1\n+                    in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0) ? in.readLong() : -1,\n+                    in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0) ? in.readLong() : -1,\n+                    in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0) ? in.readLong() : -1\n                 );\n             }\n \n@@ -233,11 +233,11 @@ public class EnrichStatsAction extends ActionType<EnrichStatsAction.Response> {\n                 out.writeVLong(hits);\n                 out.writeVLong(misses);\n                 out.writeVLong(evictions);\n-                if (out.getTransportVersion().onOrAfter(TransportVersions.ENRICH_CACHE_ADDITIONAL_STATS)) {\n+                if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                     out.writeLong(hitsTimeInMillis);\n                     out.writeLong(missesTimeInMillis);\n                 }\n-                if (out.getTransportVersion().onOrAfter(TransportVersions.ENRICH_CACHE_STATS_SIZE_ADDED)) {\n+                if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                     out.writeLong(cacheSizeInBytes);\n                 }\n             }\ndiff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ilm/IndexLifecycleExplainResponse.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ilm/IndexLifecycleExplainResponse.java\nindex 33402671..24f29599 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ilm/IndexLifecycleExplainResponse.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ilm/IndexLifecycleExplainResponse.java\n@@ -328,7 +328,7 @@ public class IndexLifecycleExplainResponse implements ToXContentObject, Writeabl\n             } else {\n                 indexCreationDate = null;\n             }\n-            if (in.getTransportVersion().onOrAfter(TransportVersions.RETAIN_ILM_STEP_INFO)) {\n+            if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 previousStepInfo = in.readOptionalBytesReference();\n             } else {\n                 previousStepInfo = null;\n@@ -379,7 +379,7 @@ public class IndexLifecycleExplainResponse implements ToXContentObject, Writeabl\n             if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_1_0)) {\n                 out.writeOptionalLong(indexCreationDate);\n             }\n-            if (out.getTransportVersion().onOrAfter(TransportVersions.RETAIN_ILM_STEP_INFO)) {\n+            if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 out.writeOptionalBytesReference(previousStepInfo);\n             }\n         }\ndiff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ilm/SearchableSnapshotAction.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ilm/SearchableSnapshotAction.java\nindex c06dcc0f..bc34508d 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ilm/SearchableSnapshotAction.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ilm/SearchableSnapshotAction.java\n@@ -32,7 +32,7 @@ import java.util.ArrayList;\n import java.util.List;\n import java.util.Objects;\n \n-import static org.elasticsearch.TransportVersions.ILM_ADD_SEARCHABLE_SNAPSHOT_TOTAL_SHARDS_PER_NODE;\n+import static org.elasticsearch.TransportVersions.V_8_15_0;\n import static org.elasticsearch.snapshots.SearchableSnapshotsSettings.SEARCHABLE_SNAPSHOTS_REPOSITORY_NAME_SETTING_KEY;\n import static org.elasticsearch.snapshots.SearchableSnapshotsSettings.SEARCHABLE_SNAPSHOTS_SNAPSHOT_NAME_SETTING_KEY;\n import static org.elasticsearch.snapshots.SearchableSnapshotsSettings.SEARCHABLE_SNAPSHOT_PARTIAL_SETTING_KEY;\ndiff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/inference/action/DeleteInferenceEndpointAction.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/inference/action/DeleteInferenceEndpointAction.java\nindex e9d61275..0853abcb 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/inference/action/DeleteInferenceEndpointAction.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/inference/action/DeleteInferenceEndpointAction.java\n@@ -50,7 +50,7 @@ public class DeleteInferenceEndpointAction extends ActionType<DeleteInferenceEnd\n             super(in);\n             this.inferenceEndpointId = in.readString();\n             this.taskType = TaskType.fromStream(in);\n-            if (in.getTransportVersion().onOrAfter(TransportVersions.ML_INFERENCE_ENHANCE_DELETE_ENDPOINT)) {\n+            if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 this.forceDelete = Boolean.TRUE.equals(in.readOptionalBoolean());\n                 this.dryRun = Boolean.TRUE.equals(in.readOptionalBoolean());\n             } else {\n@@ -80,7 +80,7 @@ public class DeleteInferenceEndpointAction extends ActionType<DeleteInferenceEnd\n             super.writeTo(out);\n             out.writeString(inferenceEndpointId);\n             taskType.writeTo(out);\n-            if (out.getTransportVersion().onOrAfter(TransportVersions.ML_INFERENCE_ENHANCE_DELETE_ENDPOINT)) {\n+            if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 out.writeOptionalBoolean(forceDelete);\n                 out.writeOptionalBoolean(dryRun);\n             }\n@@ -121,13 +121,13 @@ public class DeleteInferenceEndpointAction extends ActionType<DeleteInferenceEnd\n \n         public Response(StreamInput in) throws IOException {\n             super(in);\n-            if (in.getTransportVersion().onOrAfter(TransportVersions.ML_INFERENCE_ENHANCE_DELETE_ENDPOINT)) {\n+            if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 pipelineIds = in.readCollectionAsSet(StreamInput::readString);\n             } else {\n                 pipelineIds = Set.of();\n             }\n \n-            if (in.getTransportVersion().onOrAfter(TransportVersions.ML_INFERENCE_DONT_DELETE_WHEN_SEMANTIC_TEXT_EXISTS)) {\n+            if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 indexes = in.readCollectionAsSet(StreamInput::readString);\n                 dryRunMessage = in.readOptionalString();\n             } else {\n@@ -140,10 +140,10 @@ public class DeleteInferenceEndpointAction extends ActionType<DeleteInferenceEnd\n         @Override\n         public void writeTo(StreamOutput out) throws IOException {\n             super.writeTo(out);\n-            if (out.getTransportVersion().onOrAfter(TransportVersions.ML_INFERENCE_ENHANCE_DELETE_ENDPOINT)) {\n+            if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 out.writeCollection(pipelineIds, StreamOutput::writeString);\n             }\n-            if (out.getTransportVersion().onOrAfter(TransportVersions.ML_INFERENCE_DONT_DELETE_WHEN_SEMANTIC_TEXT_EXISTS)) {\n+            if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 out.writeCollection(indexes, StreamOutput::writeString);\n                 out.writeOptionalString(dryRunMessage);\n             }\ndiff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/inference/results/RankedDocsResults.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/inference/results/RankedDocsResults.java\nindex 6ebf15bf..de1d1169 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/inference/results/RankedDocsResults.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/inference/results/RankedDocsResults.java\n@@ -31,7 +31,7 @@ import java.util.Map;\n import java.util.Objects;\n import java.util.stream.Collectors;\n \n-import static org.elasticsearch.TransportVersions.ML_RERANK_DOC_OPTIONAL;\n+import static org.elasticsearch.TransportVersions.V_8_15_0;\n \n public class RankedDocsResults implements InferenceServiceResults {\n     public static final String NAME = \"rerank_service_results\";\ndiff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/MachineLearningFeatureSetUsage.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/MachineLearningFeatureSetUsage.java\nindex 60484675..4dd3c0cd 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/MachineLearningFeatureSetUsage.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/MachineLearningFeatureSetUsage.java\n@@ -66,7 +66,7 @@ public class MachineLearningFeatureSetUsage extends XPackFeatureSet.Usage {\n         this.analyticsUsage = in.readGenericMap();\n         this.inferenceUsage = in.readGenericMap();\n         this.nodeCount = in.readInt();\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.ML_TELEMETRY_MEMORY_ADDED)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             this.memoryUsage = in.readGenericMap();\n         } else {\n             this.memoryUsage = Map.of();\n@@ -86,7 +86,7 @@ public class MachineLearningFeatureSetUsage extends XPackFeatureSet.Usage {\n         out.writeGenericMap(analyticsUsage);\n         out.writeGenericMap(inferenceUsage);\n         out.writeInt(nodeCount);\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.ML_TELEMETRY_MEMORY_ADDED)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeGenericMap(memoryUsage);\n         }\n     }\ndiff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/action/CreateTrainedModelAssignmentAction.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/action/CreateTrainedModelAssignmentAction.java\nindex c6976ab4..d7642dcd 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/action/CreateTrainedModelAssignmentAction.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/action/CreateTrainedModelAssignmentAction.java\n@@ -47,7 +47,7 @@ public class CreateTrainedModelAssignmentAction extends ActionType<CreateTrained\n         public Request(StreamInput in) throws IOException {\n             super(in);\n             this.taskParams = new StartTrainedModelDeploymentAction.TaskParams(in);\n-            if (in.getTransportVersion().onOrAfter(TransportVersions.INFERENCE_ADAPTIVE_ALLOCATIONS)) {\n+            if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 this.adaptiveAllocationsSettings = in.readOptionalWriteable(AdaptiveAllocationsSettings::new);\n             } else {\n                 this.adaptiveAllocationsSettings = null;\n@@ -63,7 +63,7 @@ public class CreateTrainedModelAssignmentAction extends ActionType<CreateTrained\n         public void writeTo(StreamOutput out) throws IOException {\n             super.writeTo(out);\n             taskParams.writeTo(out);\n-            if (out.getTransportVersion().onOrAfter(TransportVersions.INFERENCE_ADAPTIVE_ALLOCATIONS)) {\n+            if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 out.writeOptionalWriteable(adaptiveAllocationsSettings);\n             }\n         }\ndiff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/action/InferModelAction.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/action/InferModelAction.java\nindex e6b580f6..05d9496e 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/action/InferModelAction.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/action/InferModelAction.java\n@@ -198,7 +198,7 @@ public class InferModelAction extends ActionType<InferModelAction.Response> {\n             } else {\n                 prefixType = TrainedModelPrefixStrings.PrefixType.NONE;\n             }\n-            if (in.getTransportVersion().onOrAfter(TransportVersions.ML_CHUNK_INFERENCE_OPTION)) {\n+            if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 chunked = in.readBoolean();\n             } else {\n                 chunked = false;\n@@ -285,7 +285,7 @@ public class InferModelAction extends ActionType<InferModelAction.Response> {\n             if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_12_0)) {\n                 out.writeEnum(prefixType);\n             }\n-            if (out.getTransportVersion().onOrAfter(TransportVersions.ML_CHUNK_INFERENCE_OPTION)) {\n+            if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 out.writeBoolean(chunked);\n             }\n         }\ndiff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/action/StartTrainedModelDeploymentAction.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/action/StartTrainedModelDeploymentAction.java\nindex 34ebdcb7..c79ef14a 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/action/StartTrainedModelDeploymentAction.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/action/StartTrainedModelDeploymentAction.java\n@@ -169,7 +169,7 @@ public class StartTrainedModelDeploymentAction extends ActionType<CreateTrainedM\n             modelId = in.readString();\n             timeout = in.readTimeValue();\n             waitForState = in.readEnum(AllocationStatus.State.class);\n-            if (in.getTransportVersion().onOrAfter(TransportVersions.INFERENCE_ADAPTIVE_ALLOCATIONS)) {\n+            if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 numberOfAllocations = in.readOptionalVInt();\n             } else {\n                 numberOfAllocations = in.readVInt();\n@@ -189,7 +189,7 @@ public class StartTrainedModelDeploymentAction extends ActionType<CreateTrainedM\n             } else {\n                 this.deploymentId = modelId;\n             }\n-            if (in.getTransportVersion().onOrAfter(TransportVersions.INFERENCE_ADAPTIVE_ALLOCATIONS)) {\n+            if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 this.adaptiveAllocationsSettings = in.readOptionalWriteable(AdaptiveAllocationsSettings::new);\n             } else {\n                 this.adaptiveAllocationsSettings = null;\n@@ -297,7 +297,7 @@ public class StartTrainedModelDeploymentAction extends ActionType<CreateTrainedM\n             out.writeString(modelId);\n             out.writeTimeValue(timeout);\n             out.writeEnum(waitForState);\n-            if (out.getTransportVersion().onOrAfter(TransportVersions.INFERENCE_ADAPTIVE_ALLOCATIONS)) {\n+            if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 out.writeOptionalVInt(numberOfAllocations);\n             } else {\n                 out.writeVInt(numberOfAllocations);\n@@ -313,7 +313,7 @@ public class StartTrainedModelDeploymentAction extends ActionType<CreateTrainedM\n             if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_8_0)) {\n                 out.writeString(deploymentId);\n             }\n-            if (out.getTransportVersion().onOrAfter(TransportVersions.INFERENCE_ADAPTIVE_ALLOCATIONS)) {\n+            if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 out.writeOptionalWriteable(adaptiveAllocationsSettings);\n             }\n         }\ndiff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/action/UpdateTrainedModelDeploymentAction.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/action/UpdateTrainedModelDeploymentAction.java\nindex cb578fdb..95c23321 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/action/UpdateTrainedModelDeploymentAction.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/action/UpdateTrainedModelDeploymentAction.java\n@@ -87,7 +87,7 @@ public class UpdateTrainedModelDeploymentAction extends ActionType<CreateTrained\n         public Request(StreamInput in) throws IOException {\n             super(in);\n             deploymentId = in.readString();\n-            if (in.getTransportVersion().before(TransportVersions.INFERENCE_ADAPTIVE_ALLOCATIONS)) {\n+            if (in.getTransportVersion().before(TransportVersions.V_8_15_0)) {\n                 numberOfAllocations = in.readVInt();\n                 adaptiveAllocationsSettings = null;\n                 isInternal = false;\n@@ -134,7 +134,7 @@ public class UpdateTrainedModelDeploymentAction extends ActionType<CreateTrained\n         public void writeTo(StreamOutput out) throws IOException {\n             super.writeTo(out);\n             out.writeString(deploymentId);\n-            if (out.getTransportVersion().before(TransportVersions.INFERENCE_ADAPTIVE_ALLOCATIONS)) {\n+            if (out.getTransportVersion().before(TransportVersions.V_8_15_0)) {\n                 out.writeVInt(numberOfAllocations);\n             } else {\n                 out.writeOptionalVInt(numberOfAllocations);\ndiff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/calendars/ScheduledEvent.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/calendars/ScheduledEvent.java\nindex b007c1da..178df855 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/calendars/ScheduledEvent.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/calendars/ScheduledEvent.java\n@@ -115,7 +115,7 @@ public class ScheduledEvent implements ToXContentObject, Writeable {\n         description = in.readString();\n         startTime = in.readInstant();\n         endTime = in.readInstant();\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.ML_SCHEDULED_EVENT_TIME_SHIFT_CONFIGURATION)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             skipResult = in.readBoolean();\n             skipModelUpdate = in.readBoolean();\n             forceTimeShift = in.readOptionalInt();\n@@ -204,7 +204,7 @@ public class ScheduledEvent implements ToXContentObject, Writeable {\n         out.writeString(description);\n         out.writeInstant(startTime);\n         out.writeInstant(endTime);\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.ML_SCHEDULED_EVENT_TIME_SHIFT_CONFIGURATION)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeBoolean(skipResult);\n             out.writeBoolean(skipModelUpdate);\n             out.writeOptionalInt(forceTimeShift);\ndiff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/inference/TrainedModelCacheMetadata.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/inference/TrainedModelCacheMetadata.java\nindex 35c6bf96..3c8dfecc 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/inference/TrainedModelCacheMetadata.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/inference/TrainedModelCacheMetadata.java\n@@ -86,7 +86,7 @@ public class TrainedModelCacheMetadata extends AbstractNamedDiffable<Metadata.Cu\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_TRAINED_MODEL_CACHE_METADATA_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/inference/assignment/AssignmentStats.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/inference/assignment/AssignmentStats.java\nindex 858d97bf..75539fcc 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/inference/assignment/AssignmentStats.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/inference/assignment/AssignmentStats.java\n@@ -483,7 +483,7 @@ public class AssignmentStats implements ToXContentObject, Writeable {\n         } else {\n             deploymentId = modelId;\n         }\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.INFERENCE_ADAPTIVE_ALLOCATIONS)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             adaptiveAllocationsSettings = in.readOptionalWriteable(AdaptiveAllocationsSettings::new);\n         } else {\n             adaptiveAllocationsSettings = null;\n@@ -666,7 +666,7 @@ public class AssignmentStats implements ToXContentObject, Writeable {\n         if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_8_0)) {\n             out.writeString(deploymentId);\n         }\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.INFERENCE_ADAPTIVE_ALLOCATIONS)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeOptionalWriteable(adaptiveAllocationsSettings);\n         }\n     }\ndiff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/inference/assignment/TrainedModelAssignment.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/inference/assignment/TrainedModelAssignment.java\nindex 06c3f755..bac63e93 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/inference/assignment/TrainedModelAssignment.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/inference/assignment/TrainedModelAssignment.java\n@@ -178,7 +178,7 @@ public final class TrainedModelAssignment implements SimpleDiffable<TrainedModel\n         } else {\n             this.maxAssignedAllocations = totalCurrentAllocations();\n         }\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.INFERENCE_ADAPTIVE_ALLOCATIONS)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             this.adaptiveAllocationsSettings = in.readOptionalWriteable(AdaptiveAllocationsSettings::new);\n         } else {\n             this.adaptiveAllocationsSettings = null;\n@@ -382,7 +382,7 @@ public final class TrainedModelAssignment implements SimpleDiffable<TrainedModel\n         if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_4_0)) {\n             out.writeVInt(maxAssignedAllocations);\n         }\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.INFERENCE_ADAPTIVE_ALLOCATIONS)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeOptionalWriteable(adaptiveAllocationsSettings);\n         }\n     }\ndiff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/inference/trainedmodel/LearningToRankConfig.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/inference/trainedmodel/LearningToRankConfig.java\nindex 9929e59a..8395a3e1 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/inference/trainedmodel/LearningToRankConfig.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/inference/trainedmodel/LearningToRankConfig.java\n@@ -41,7 +41,7 @@ import static org.elasticsearch.action.ValidateActions.addValidationError;\n public class LearningToRankConfig extends RegressionConfig implements Rewriteable<LearningToRankConfig> {\n \n     public static final ParseField NAME = new ParseField(\"learning_to_rank\");\n-    static final TransportVersion MIN_SUPPORTED_TRANSPORT_VERSION = TransportVersions.LTR_SERVERLESS_RELEASE;\n+    static final TransportVersion MIN_SUPPORTED_TRANSPORT_VERSION = TransportVersions.V_8_15_0;\n     public static final ParseField NUM_TOP_FEATURE_IMPORTANCE_VALUES = new ParseField(\"num_top_feature_importance_values\");\n     public static final ParseField FEATURE_EXTRACTORS = new ParseField(\"feature_extractors\");\n     public static final ParseField DEFAULT_PARAMS = new ParseField(\"default_params\");\ndiff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/job/config/DetectionRule.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/job/config/DetectionRule.java\nindex eb952a7d..9222f0ee 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/job/config/DetectionRule.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/job/config/DetectionRule.java\n@@ -68,7 +68,7 @@ public class DetectionRule implements ToXContentObject, Writeable {\n         actions = in.readEnumSet(RuleAction.class);\n         scope = new RuleScope(in);\n         conditions = in.readCollectionAsList(RuleCondition::new);\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.ML_ADD_DETECTION_RULE_PARAMS)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             params = new RuleParams(in);\n         } else {\n             params = new RuleParams();\n@@ -80,7 +80,7 @@ public class DetectionRule implements ToXContentObject, Writeable {\n         out.writeEnumSet(actions);\n         scope.writeTo(out);\n         out.writeCollection(conditions);\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.ML_ADD_DETECTION_RULE_PARAMS)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             params.writeTo(out);\n         }\n     }\ndiff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/job/process/autodetect/state/ModelSizeStats.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/job/process/autodetect/state/ModelSizeStats.java\nindex a95ee13f..3a912344 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/job/process/autodetect/state/ModelSizeStats.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/job/process/autodetect/state/ModelSizeStats.java\n@@ -264,7 +264,7 @@ public class ModelSizeStats implements ToXContentObject, Writeable {\n         } else {\n             assignmentMemoryBasis = null;\n         }\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.ML_AD_OUTPUT_MEMORY_ALLOCATOR_FIELD)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             outputMemoryAllocatorBytes = in.readOptionalVLong();\n         } else {\n             outputMemoryAllocatorBytes = null;\n@@ -306,7 +306,7 @@ public class ModelSizeStats implements ToXContentObject, Writeable {\n         } else {\n             out.writeBoolean(false);\n         }\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.ML_AD_OUTPUT_MEMORY_ALLOCATOR_FIELD)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeOptionalVLong(outputMemoryAllocatorBytes);\n         }\n         out.writeVLong(categorizedDocCount);\ndiff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/rollup/RollupFeatureSetUsage.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/rollup/RollupFeatureSetUsage.java\nindex a198c057..4f91360a 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/rollup/RollupFeatureSetUsage.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/rollup/RollupFeatureSetUsage.java\n@@ -16,7 +16,7 @@ import org.elasticsearch.xpack.core.XPackField;\n \n import java.io.IOException;\n \n-import static org.elasticsearch.TransportVersions.ROLLUP_USAGE;\n+import static org.elasticsearch.TransportVersions.V_8_15_0;\n \n public class RollupFeatureSetUsage extends XPackFeatureSet.Usage {\n \ndiff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/action/settings/GetSecuritySettingsAction.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/action/settings/GetSecuritySettingsAction.java\nindex 4cea7526..fb88aa7e 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/action/settings/GetSecuritySettingsAction.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/action/settings/GetSecuritySettingsAction.java\n@@ -42,7 +42,7 @@ public class GetSecuritySettingsAction {\n \n         @UpdateForV9 // no need for bwc any more, this can be inlined\n         public static Request readFrom(StreamInput in) throws IOException {\n-            if (in.getTransportVersion().onOrAfter(TransportVersions.SECURITY_SETTINGS_REQUEST_TIMEOUTS)) {\n+            if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 return new Request(in);\n             } else {\n                 return new Request(TimeValue.THIRTY_SECONDS);\n@@ -55,7 +55,7 @@ public class GetSecuritySettingsAction {\n \n         @Override\n         public void writeTo(StreamOutput out) throws IOException {\n-            if (out.getTransportVersion().onOrAfter(TransportVersions.SECURITY_SETTINGS_REQUEST_TIMEOUTS)) {\n+            if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 super.writeTo(out);\n             }\n         }\ndiff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/action/settings/UpdateSecuritySettingsAction.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/action/settings/UpdateSecuritySettingsAction.java\nindex c2bf1466..aca034dd 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/action/settings/UpdateSecuritySettingsAction.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/action/settings/UpdateSecuritySettingsAction.java\n@@ -118,7 +118,7 @@ public class UpdateSecuritySettingsAction {\n \n         @UpdateForV9 // no need for bwc any more, this can be inlined\n         public static Request readFrom(StreamInput in) throws IOException {\n-            if (in.getTransportVersion().onOrAfter(TransportVersions.SECURITY_SETTINGS_REQUEST_TIMEOUTS)) {\n+            if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 return new Request(in);\n             } else {\n                 return new Request(TimeValue.THIRTY_SECONDS, TimeValue.THIRTY_SECONDS, in);\n@@ -141,7 +141,7 @@ public class UpdateSecuritySettingsAction {\n \n         @Override\n         public void writeTo(StreamOutput out) throws IOException {\n-            if (out.getTransportVersion().onOrAfter(TransportVersions.SECURITY_SETTINGS_REQUEST_TIMEOUTS)) {\n+            if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 super.writeTo(out);\n             }\n             out.writeGenericMap(this.mainIndexSettings);\ndiff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/action/user/GetUserPrivilegesResponse.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/action/user/GetUserPrivilegesResponse.java\nindex c5cbe50e..0cb8cdc0 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/action/user/GetUserPrivilegesResponse.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/action/user/GetUserPrivilegesResponse.java\n@@ -55,7 +55,7 @@ public final class GetUserPrivilegesResponse extends ActionResponse {\n         } else {\n             remoteIndex = Set.of();\n         }\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.ROLE_REMOTE_CLUSTER_PRIVS)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             remoteClusterPermissions = new RemoteClusterPermissions(in);\n         } else {\n             remoteClusterPermissions = RemoteClusterPermissions.NONE;\n@@ -134,12 +134,12 @@ public final class GetUserPrivilegesResponse extends ActionResponse {\n                     + \"]\"\n             );\n         }\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.ROLE_REMOTE_CLUSTER_PRIVS)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             remoteClusterPermissions.writeTo(out);\n         } else if (hasRemoteClusterPrivileges()) {\n             throw new IllegalArgumentException(\n                 \"versions of Elasticsearch before [\"\n-                    + TransportVersions.ROLE_REMOTE_CLUSTER_PRIVS\n+                    + TransportVersions.V_8_15_0\n                     + \"] can't handle remote cluster privileges and attempted to send to [\"\n                     + out.getTransportVersion()\n                     + \"]\"\ndiff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/authc/Authentication.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/authc/Authentication.java\nindex 3e3b1178..7a5cbfb9 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/authc/Authentication.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/authc/Authentication.java\n@@ -54,7 +54,7 @@ import java.util.Objects;\n import java.util.Set;\n import java.util.concurrent.atomic.AtomicBoolean;\n \n-import static org.elasticsearch.TransportVersions.ROLE_REMOTE_CLUSTER_PRIVS;\n+import static org.elasticsearch.TransportVersions.V_8_15_0;\n import static org.elasticsearch.transport.RemoteClusterPortSettings.TRANSPORT_VERSION_ADVANCED_REMOTE_CLUSTER_SECURITY;\n import static org.elasticsearch.xcontent.ConstructingObjectParser.constructorArg;\n import static org.elasticsearch.xcontent.ConstructingObjectParser.optionalConstructorArg;\ndiff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/authz/RoleDescriptor.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/authz/RoleDescriptor.java\nindex 1a8839fa..a2ff36b8 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/authz/RoleDescriptor.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/authz/RoleDescriptor.java\n@@ -220,12 +220,12 @@ public class RoleDescriptor implements ToXContentObject, Writeable {\n         } else {\n             this.restriction = Restriction.NONE;\n         }\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.ROLE_REMOTE_CLUSTER_PRIVS)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             this.remoteClusterPermissions = new RemoteClusterPermissions(in);\n         } else {\n             this.remoteClusterPermissions = RemoteClusterPermissions.NONE;\n         }\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.SECURITY_ROLE_DESCRIPTION)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             this.description = in.readOptionalString();\n         } else {\n             this.description = \"\";\n@@ -485,10 +485,10 @@ public class RoleDescriptor implements ToXContentObject, Writeable {\n         if (out.getTransportVersion().onOrAfter(WORKFLOWS_RESTRICTION_VERSION)) {\n             restriction.writeTo(out);\n         }\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.ROLE_REMOTE_CLUSTER_PRIVS)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             remoteClusterPermissions.writeTo(out);\n         }\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.SECURITY_ROLE_DESCRIPTION)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeOptionalString(description);\n         }\n     }\ndiff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/authz/RoleMappingMetadata.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/authz/RoleMappingMetadata.java\nindex da6ff6ad..b38b33e0 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/authz/RoleMappingMetadata.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/authz/RoleMappingMetadata.java\n@@ -108,7 +108,7 @@ public final class RoleMappingMetadata extends AbstractNamedDiffable<Metadata.Cu\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.SECURITY_ROLE_MAPPINGS_IN_CLUSTER_STATE;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/authz/permission/RemoteClusterPermissions.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/authz/permission/RemoteClusterPermissions.java\nindex 2960c5aa..d5ef8217 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/authz/permission/RemoteClusterPermissions.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/authz/permission/RemoteClusterPermissions.java\n@@ -67,7 +67,7 @@ public class RemoteClusterPermissions implements NamedWriteable, ToXContentObjec\n \n     // package private non-final for testing\n     static Map<TransportVersion, Set<String>> allowedRemoteClusterPermissions = Map.of(\n-        TransportVersions.ROLE_REMOTE_CLUSTER_PRIVS,\n+        TransportVersions.V_8_15_0,\n         Set.of(ClusterPrivilegeResolver.MONITOR_ENRICH.name())\n     );\n \ndiff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/authz/privilege/ConfigurableClusterPrivileges.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/authz/privilege/ConfigurableClusterPrivileges.java\nindex b93aa079..7e1be2d0 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/authz/privilege/ConfigurableClusterPrivileges.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/authz/privilege/ConfigurableClusterPrivileges.java\n@@ -82,7 +82,7 @@ public final class ConfigurableClusterPrivileges {\n      * Utility method to write an array of {@link ConfigurableClusterPrivilege} objects to a {@link StreamOutput}\n      */\n     public static void writeArray(StreamOutput out, ConfigurableClusterPrivilege[] privileges) throws IOException {\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.ADD_MANAGE_ROLES_PRIVILEGE)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeArray(WRITER, privileges);\n         } else {\n             out.writeArray(\ndiff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/support/SecurityMigrationTaskParams.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/support/SecurityMigrationTaskParams.java\nindex 14cc4d3d..e69a0589 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/support/SecurityMigrationTaskParams.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/support/SecurityMigrationTaskParams.java\n@@ -48,7 +48,7 @@ public class SecurityMigrationTaskParams implements PersistentTaskParams {\n \n     public SecurityMigrationTaskParams(StreamInput in) throws IOException {\n         this.migrationVersion = in.readInt();\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.SECURITY_MIGRATIONS_MIGRATION_NEEDED_ADDED)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             this.migrationNeeded = in.readBoolean();\n         } else {\n             this.migrationNeeded = true;\n@@ -58,7 +58,7 @@ public class SecurityMigrationTaskParams implements PersistentTaskParams {\n     @Override\n     public void writeTo(StreamOutput out) throws IOException {\n         out.writeInt(migrationVersion);\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.SECURITY_MIGRATIONS_MIGRATION_NEEDED_ADDED)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeBoolean(migrationNeeded);\n         }\n     }\n@@ -70,7 +70,7 @@ public class SecurityMigrationTaskParams implements PersistentTaskParams {\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ADD_METADATA_FLATTENED_TO_ROLES;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/watcher/transport/actions/put/GetWatcherSettingsAction.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/watcher/transport/actions/put/GetWatcherSettingsAction.java\nindex f1d046f0..c6a22ec2 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/watcher/transport/actions/put/GetWatcherSettingsAction.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/watcher/transport/actions/put/GetWatcherSettingsAction.java\n@@ -37,7 +37,7 @@ public class GetWatcherSettingsAction extends ActionType<GetWatcherSettingsActio\n         }\n \n         public static Request readFrom(StreamInput in) throws IOException {\n-            if (in.getTransportVersion().onOrAfter(TransportVersions.WATCHER_REQUEST_TIMEOUTS)) {\n+            if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 return new Request(in);\n             } else {\n                 return new Request(TimeValue.THIRTY_SECONDS);\n@@ -50,7 +50,7 @@ public class GetWatcherSettingsAction extends ActionType<GetWatcherSettingsActio\n \n         @Override\n         public void writeTo(StreamOutput out) throws IOException {\n-            if (out.getTransportVersion().onOrAfter(TransportVersions.WATCHER_REQUEST_TIMEOUTS)) {\n+            if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 super.writeTo(out);\n             }\n         }\ndiff --git a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/watcher/transport/actions/put/UpdateWatcherSettingsAction.java b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/watcher/transport/actions/put/UpdateWatcherSettingsAction.java\nindex 5da71402..29252921 100644\n--- a/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/watcher/transport/actions/put/UpdateWatcherSettingsAction.java\n+++ b/x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/watcher/transport/actions/put/UpdateWatcherSettingsAction.java\n@@ -47,7 +47,7 @@ public class UpdateWatcherSettingsAction extends ActionType<AcknowledgedResponse\n         }\n \n         public static Request readFrom(StreamInput in) throws IOException {\n-            if (in.getTransportVersion().onOrAfter(TransportVersions.WATCHER_REQUEST_TIMEOUTS)) {\n+            if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 return new Request(in);\n             } else {\n                 return new Request(TimeValue.THIRTY_SECONDS, TimeValue.THIRTY_SECONDS, in);\n@@ -67,7 +67,7 @@ public class UpdateWatcherSettingsAction extends ActionType<AcknowledgedResponse\n \n         @Override\n         public void writeTo(StreamOutput out) throws IOException {\n-            if (out.getTransportVersion().onOrAfter(TransportVersions.WATCHER_REQUEST_TIMEOUTS)) {\n+            if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 super.writeTo(out);\n             }\n             out.writeGenericMap(this.settings);\ndiff --git a/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/inference/results/RankedDocsResultsTests.java b/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/inference/results/RankedDocsResultsTests.java\nindex b84aaa2b..7164c9fc 100644\n--- a/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/inference/results/RankedDocsResultsTests.java\n+++ b/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/inference/results/RankedDocsResultsTests.java\n@@ -16,7 +16,7 @@ import java.io.IOException;\n import java.util.ArrayList;\n import java.util.List;\n \n-import static org.elasticsearch.TransportVersions.ML_RERANK_DOC_OPTIONAL;\n+import static org.elasticsearch.TransportVersions.V_8_15_0;\n \n public class RankedDocsResultsTests extends AbstractChunkedBWCSerializationTestCase<RankedDocsResults> {\n \ndiff --git a/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/ml/MachineLearningFeatureSetUsageTests.java b/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/ml/MachineLearningFeatureSetUsageTests.java\nindex 87d658c6..c64474a4 100644\n--- a/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/ml/MachineLearningFeatureSetUsageTests.java\n+++ b/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/ml/MachineLearningFeatureSetUsageTests.java\n@@ -57,7 +57,7 @@ public class MachineLearningFeatureSetUsageTests extends AbstractBWCWireSerializ\n \n     @Override\n     protected MachineLearningFeatureSetUsage mutateInstanceForVersion(MachineLearningFeatureSetUsage instance, TransportVersion version) {\n-        if (version.before(TransportVersions.ML_TELEMETRY_MEMORY_ADDED)) {\n+        if (version.before(TransportVersions.V_8_15_0)) {\n             return new MachineLearningFeatureSetUsage(\n                 instance.available(),\n                 instance.enabled(),\ndiff --git a/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/ml/action/GetTrainedModelsStatsActionResponseTests.java b/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/ml/action/GetTrainedModelsStatsActionResponseTests.java\nindex d60bbc6c..1b9d4ebb 100644\n--- a/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/ml/action/GetTrainedModelsStatsActionResponseTests.java\n+++ b/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/ml/action/GetTrainedModelsStatsActionResponseTests.java\n@@ -562,7 +562,7 @@ public class GetTrainedModelsStatsActionResponseTests extends AbstractBWCWireSer\n                     RESULTS_FIELD\n                 )\n             );\n-        } else if (version.before(TransportVersions.NODE_STATS_INGEST_BYTES)) {\n+        } else if (version.before(TransportVersions.V_8_15_0)) {\n             // added ByteStats to IngestStats.PipelineStat\n             return new Response(\n                 new QueryPage<>(\ndiff --git a/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/ml/action/InferModelActionRequestTests.java b/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/ml/action/InferModelActionRequestTests.java\nindex 2e4689de..05266e58 100644\n--- a/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/ml/action/InferModelActionRequestTests.java\n+++ b/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/ml/action/InferModelActionRequestTests.java\n@@ -252,7 +252,7 @@ public class InferModelActionRequestTests extends AbstractBWCWireSerializationTe\n             r.setHighPriority(instance.isHighPriority());\n             r.setPrefixType(TrainedModelPrefixStrings.PrefixType.NONE);\n             return r;\n-        } else if (version.before(TransportVersions.ML_CHUNK_INFERENCE_OPTION)) {\n+        } else if (version.before(TransportVersions.V_8_15_0)) {\n             var r = new Request(\n                 instance.getId(),\n                 adjustedUpdate,\ndiff --git a/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/security/action/user/GetUserPrivilegesResponseTests.java b/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/security/action/user/GetUserPrivilegesResponseTests.java\nindex 437f5844..9755556f 100644\n--- a/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/security/action/user/GetUserPrivilegesResponseTests.java\n+++ b/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/security/action/user/GetUserPrivilegesResponseTests.java\n@@ -69,7 +69,7 @@ public class GetUserPrivilegesResponseTests extends ESTestCase {\n     public void testSerializationForCurrentVersion() throws Exception {\n         final TransportVersion version = TransportVersionUtils.randomCompatibleVersion(random());\n         final boolean canIncludeRemoteIndices = version.onOrAfter(TransportVersions.V_8_8_0);\n-        final boolean canIncludeRemoteCluster = version.onOrAfter(TransportVersions.ROLE_REMOTE_CLUSTER_PRIVS);\n+        final boolean canIncludeRemoteCluster = version.onOrAfter(TransportVersions.V_8_15_0);\n \n         final GetUserPrivilegesResponse original = randomResponse(canIncludeRemoteIndices, canIncludeRemoteCluster);\n \ndiff --git a/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/security/authc/AuthenticationTests.java b/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/security/authc/AuthenticationTests.java\nindex 3d4d6106..878feb74 100644\n--- a/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/security/authc/AuthenticationTests.java\n+++ b/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/security/authc/AuthenticationTests.java\n@@ -1108,7 +1108,7 @@ public class AuthenticationTests extends ESTestCase {\n         final Authentication original = AuthenticationTestHelper.builder()\n             .apiKey()\n             .metadata(metadata)\n-            .transportVersion(TransportVersions.ROLE_REMOTE_CLUSTER_PRIVS)\n+            .transportVersion(TransportVersions.V_8_15_0)\n             .build();\n \n         // pick a version before that of the authentication instance to force a rewrite\ndiff --git a/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/security/authz/RoleDescriptorTests.java b/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/security/authz/RoleDescriptorTests.java\nindex d7b9f9dd..a6486753 100644\n--- a/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/security/authz/RoleDescriptorTests.java\n+++ b/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/security/authz/RoleDescriptorTests.java\n@@ -589,9 +589,9 @@ public class RoleDescriptorTests extends ESTestCase {\n     public void testSerializationForCurrentVersion() throws Exception {\n         final TransportVersion version = TransportVersionUtils.randomCompatibleVersion(random());\n         final boolean canIncludeRemoteIndices = version.onOrAfter(TransportVersions.V_8_8_0);\n-        final boolean canIncludeRemoteClusters = version.onOrAfter(TransportVersions.ROLE_REMOTE_CLUSTER_PRIVS);\n+        final boolean canIncludeRemoteClusters = version.onOrAfter(TransportVersions.V_8_15_0);\n         final boolean canIncludeWorkflows = version.onOrAfter(WORKFLOWS_RESTRICTION_VERSION);\n-        final boolean canIncludeDescription = version.onOrAfter(TransportVersions.SECURITY_ROLE_DESCRIPTION);\n+        final boolean canIncludeDescription = version.onOrAfter(TransportVersions.V_8_15_0);\n         logger.info(\"Testing serialization with version {}\", version);\n         BytesStreamOutput output = new BytesStreamOutput();\n         output.setTransportVersion(version);\n@@ -668,7 +668,7 @@ public class RoleDescriptorTests extends ESTestCase {\n \n     public void testSerializationWithRemoteClusterWithElderVersion() throws IOException {\n         final TransportVersion versionBeforeRemoteCluster = TransportVersionUtils.getPreviousVersion(\n-            TransportVersions.ROLE_REMOTE_CLUSTER_PRIVS\n+            TransportVersions.V_8_15_0\n         );\n         final TransportVersion version = TransportVersionUtils.randomVersionBetween(\n             random(),\n@@ -816,7 +816,7 @@ public class RoleDescriptorTests extends ESTestCase {\n \n     public void testSerializationWithDescriptionAndUnsupportedVersions() throws IOException {\n         final TransportVersion versionBeforeRoleDescription = TransportVersionUtils.getPreviousVersion(\n-            TransportVersions.SECURITY_ROLE_DESCRIPTION\n+            TransportVersions.V_8_15_0\n         );\n         final TransportVersion version = TransportVersionUtils.randomVersionBetween(\n             random(),\ndiff --git a/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/security/authz/permission/RemoteClusterPermissionsTests.java b/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/security/authz/permission/RemoteClusterPermissionsTests.java\nindex 39445587..cdea9853 100644\n--- a/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/security/authz/permission/RemoteClusterPermissionsTests.java\n+++ b/x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/security/authz/permission/RemoteClusterPermissionsTests.java\n@@ -163,11 +163,11 @@ public class RemoteClusterPermissionsTests extends AbstractXContentSerializingTe\n         // test monitor_enrich before, after and on monitor enrich version\n         String[] privileges = randomBoolean() ? new String[] { \"monitor_enrich\" } : new String[] { \"monitor_enrich\", \"foo\", \"bar\" };\n         String[] before = new RemoteClusterPermissions().addGroup(new RemoteClusterPermissionGroup(privileges, new String[] { \"*\" }))\n-            .privilegeNames(\"*\", TransportVersionUtils.getPreviousVersion(TransportVersions.ROLE_REMOTE_CLUSTER_PRIVS));\n+            .privilegeNames(\"*\", TransportVersionUtils.getPreviousVersion(TransportVersions.V_8_15_0));\n         // empty set since monitor_enrich is not allowed in the before version\n         assertThat(Set.of(before), equalTo(Collections.emptySet()));\n         String[] on = new RemoteClusterPermissions().addGroup(new RemoteClusterPermissionGroup(privileges, new String[] { \"*\" }))\n-            .privilegeNames(\"*\", TransportVersions.ROLE_REMOTE_CLUSTER_PRIVS);\n+            .privilegeNames(\"*\", TransportVersions.V_8_15_0);\n         // only monitor_enrich since the other values are not allowed\n         assertThat(Set.of(on), equalTo(Set.of(\"monitor_enrich\")));\n         String[] after = new RemoteClusterPermissions().addGroup(new RemoteClusterPermissionGroup(privileges, new String[] { \"*\" }))\ndiff --git a/x-pack/plugin/deprecation/src/main/java/org/elasticsearch/xpack/deprecation/NodesDeprecationCheckAction.java b/x-pack/plugin/deprecation/src/main/java/org/elasticsearch/xpack/deprecation/NodesDeprecationCheckAction.java\nindex 1d9fb869..465d1704 100644\n--- a/x-pack/plugin/deprecation/src/main/java/org/elasticsearch/xpack/deprecation/NodesDeprecationCheckAction.java\n+++ b/x-pack/plugin/deprecation/src/main/java/org/elasticsearch/xpack/deprecation/NodesDeprecationCheckAction.java\n@@ -43,13 +43,13 @@ public class NodesDeprecationCheckAction extends ActionType<NodesDeprecationChec\n \n         public NodeRequest(StreamInput in) throws IOException {\n             super(in);\n-            skipLegacyNodesRequestHeader(TransportVersions.DROP_UNUSED_NODES_REQUESTS, in);\n+            skipLegacyNodesRequestHeader(TransportVersions.V_8_15_0, in);\n         }\n \n         @Override\n         public void writeTo(StreamOutput out) throws IOException {\n             super.writeTo(out);\n-            sendLegacyNodesRequestHeader(TransportVersions.DROP_UNUSED_NODES_REQUESTS, out);\n+            sendLegacyNodesRequestHeader(TransportVersions.V_8_15_0, out);\n         }\n     }\n \ndiff --git a/x-pack/plugin/ent-search/src/main/java/org/elasticsearch/xpack/application/rules/QueryRule.java b/x-pack/plugin/ent-search/src/main/java/org/elasticsearch/xpack/application/rules/QueryRule.java\nindex c14bb8e9..e1734268 100644\n--- a/x-pack/plugin/ent-search/src/main/java/org/elasticsearch/xpack/application/rules/QueryRule.java\n+++ b/x-pack/plugin/ent-search/src/main/java/org/elasticsearch/xpack/application/rules/QueryRule.java\n@@ -130,7 +130,7 @@ public class QueryRule implements Writeable, ToXContentObject {\n         this.criteria = in.readCollectionAsList(QueryRuleCriteria::new);\n         this.actions = in.readGenericMap();\n \n-        if (in.getTransportVersion().onOrAfter(TransportVersions.QUERY_RULE_CRUD_API_PUT)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             this.priority = in.readOptionalVInt();\n         } else {\n             this.priority = null;\n@@ -175,7 +175,7 @@ public class QueryRule implements Writeable, ToXContentObject {\n         out.writeString(type.toString());\n         out.writeCollection(criteria);\n         out.writeGenericMap(actions);\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.QUERY_RULE_CRUD_API_PUT)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeOptionalVInt(priority);\n         }\n     }\ndiff --git a/x-pack/plugin/ent-search/src/main/java/org/elasticsearch/xpack/application/rules/RuleQueryBuilder.java b/x-pack/plugin/ent-search/src/main/java/org/elasticsearch/xpack/application/rules/RuleQueryBuilder.java\nindex a3703a50..3e573929 100644\n--- a/x-pack/plugin/ent-search/src/main/java/org/elasticsearch/xpack/application/rules/RuleQueryBuilder.java\n+++ b/x-pack/plugin/ent-search/src/main/java/org/elasticsearch/xpack/application/rules/RuleQueryBuilder.java\n@@ -88,7 +88,7 @@ public class RuleQueryBuilder extends AbstractQueryBuilder<RuleQueryBuilder> {\n         super(in);\n         organicQuery = in.readNamedWriteable(QueryBuilder.class);\n         matchCriteria = in.readGenericMap();\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.RULE_QUERY_RENAME)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             rulesetIds = in.readStringCollectionAsList();\n         } else {\n             rulesetIds = List.of(in.readString());\n@@ -144,7 +144,7 @@ public class RuleQueryBuilder extends AbstractQueryBuilder<RuleQueryBuilder> {\n         out.writeNamedWriteable(organicQuery);\n         out.writeGenericMap(matchCriteria);\n \n-        if (out.getTransportVersion().onOrAfter(TransportVersions.RULE_QUERY_RENAME)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeStringCollection(rulesetIds);\n         } else {\n             out.writeString(rulesetIds.get(0));\ndiff --git a/x-pack/plugin/ent-search/src/test/java/org/elasticsearch/xpack/application/rules/action/GetQueryRuleActionResponseBWCSerializingTests.java b/x-pack/plugin/ent-search/src/test/java/org/elasticsearch/xpack/application/rules/action/GetQueryRuleActionResponseBWCSerializingTests.java\nindex b60747ce..d7e8f18a 100644\n--- a/x-pack/plugin/ent-search/src/test/java/org/elasticsearch/xpack/application/rules/action/GetQueryRuleActionResponseBWCSerializingTests.java\n+++ b/x-pack/plugin/ent-search/src/test/java/org/elasticsearch/xpack/application/rules/action/GetQueryRuleActionResponseBWCSerializingTests.java\n@@ -53,7 +53,7 @@ public class GetQueryRuleActionResponseBWCSerializingTests extends AbstractBWCSe\n     @Override\n     protected List<TransportVersion> bwcVersions() {\n         return getAllBWCVersions().stream()\n-            .filter(v -> v.onOrAfter(TransportVersions.QUERY_RULE_CRUD_API_GET_DELETE))\n+            .filter(v -> v.onOrAfter(TransportVersions.V_8_15_0))\n             .collect(Collectors.toList());\n     }\n }\ndiff --git a/x-pack/plugin/ent-search/src/test/java/org/elasticsearch/xpack/application/rules/action/GetQueryRulesetActionResponseBWCSerializingTests.java b/x-pack/plugin/ent-search/src/test/java/org/elasticsearch/xpack/application/rules/action/GetQueryRulesetActionResponseBWCSerializingTests.java\nindex ca58e42b..8bfbcd5e 100644\n--- a/x-pack/plugin/ent-search/src/test/java/org/elasticsearch/xpack/application/rules/action/GetQueryRulesetActionResponseBWCSerializingTests.java\n+++ b/x-pack/plugin/ent-search/src/test/java/org/elasticsearch/xpack/application/rules/action/GetQueryRulesetActionResponseBWCSerializingTests.java\n@@ -61,7 +61,7 @@ public class GetQueryRulesetActionResponseBWCSerializingTests extends AbstractBW\n                 rules.add(new QueryRule(rule.id(), rule.type(), newCriteria, rule.actions(), null));\n             }\n             return new GetQueryRulesetAction.Response(new QueryRuleset(instance.queryRuleset().id(), rules));\n-        } else if (version.before(TransportVersions.QUERY_RULE_CRUD_API_PUT)) {\n+        } else if (version.before(TransportVersions.V_8_15_0)) {\n             List<QueryRule> rules = new ArrayList<>();\n             for (QueryRule rule : instance.queryRuleset().rules()) {\n                 rules.add(new QueryRule(rule.id(), rule.type(), rule.criteria(), rule.actions(), null));\ndiff --git a/x-pack/plugin/ent-search/src/test/java/org/elasticsearch/xpack/application/rules/action/PutQueryRuleActionRequestBWCSerializingTests.java b/x-pack/plugin/ent-search/src/test/java/org/elasticsearch/xpack/application/rules/action/PutQueryRuleActionRequestBWCSerializingTests.java\nindex 5b42a899..1ae685f7 100644\n--- a/x-pack/plugin/ent-search/src/test/java/org/elasticsearch/xpack/application/rules/action/PutQueryRuleActionRequestBWCSerializingTests.java\n+++ b/x-pack/plugin/ent-search/src/test/java/org/elasticsearch/xpack/application/rules/action/PutQueryRuleActionRequestBWCSerializingTests.java\n@@ -56,7 +56,7 @@ public class PutQueryRuleActionRequestBWCSerializingTests extends AbstractBWCSer\n     @Override\n     protected List<TransportVersion> bwcVersions() {\n         return getAllBWCVersions().stream()\n-            .filter(v -> v.onOrAfter(TransportVersions.QUERY_RULE_CRUD_API_PUT))\n+            .filter(v -> v.onOrAfter(TransportVersions.V_8_15_0))\n             .collect(Collectors.toList());\n     }\n }\ndiff --git a/x-pack/plugin/ent-search/src/test/java/org/elasticsearch/xpack/application/rules/action/PutQueryRulesetActionRequestBWCSerializingTests.java b/x-pack/plugin/ent-search/src/test/java/org/elasticsearch/xpack/application/rules/action/PutQueryRulesetActionRequestBWCSerializingTests.java\nindex f9b47f5b..3b6195cc 100644\n--- a/x-pack/plugin/ent-search/src/test/java/org/elasticsearch/xpack/application/rules/action/PutQueryRulesetActionRequestBWCSerializingTests.java\n+++ b/x-pack/plugin/ent-search/src/test/java/org/elasticsearch/xpack/application/rules/action/PutQueryRulesetActionRequestBWCSerializingTests.java\n@@ -63,7 +63,7 @@ public class PutQueryRulesetActionRequestBWCSerializingTests extends AbstractBWC\n                 rules.add(new QueryRule(rule.id(), rule.type(), newCriteria, rule.actions(), null));\n             }\n             return new PutQueryRulesetAction.Request(new QueryRuleset(instance.queryRuleset().id(), rules));\n-        } else if (version.before(TransportVersions.QUERY_RULE_CRUD_API_PUT)) {\n+        } else if (version.before(TransportVersions.V_8_15_0)) {\n             List<QueryRule> rules = new ArrayList<>();\n             for (QueryRule rule : instance.queryRuleset().rules()) {\n                 rules.add(new QueryRule(rule.id(), rule.type(), rule.criteria(), rule.actions(), null));\ndiff --git a/x-pack/plugin/ent-search/src/test/java/org/elasticsearch/xpack/application/rules/action/TestQueryRulesetActionRequestBWCSerializingTests.java b/x-pack/plugin/ent-search/src/test/java/org/elasticsearch/xpack/application/rules/action/TestQueryRulesetActionRequestBWCSerializingTests.java\nindex 7041de11..f7f5bc24 100644\n--- a/x-pack/plugin/ent-search/src/test/java/org/elasticsearch/xpack/application/rules/action/TestQueryRulesetActionRequestBWCSerializingTests.java\n+++ b/x-pack/plugin/ent-search/src/test/java/org/elasticsearch/xpack/application/rules/action/TestQueryRulesetActionRequestBWCSerializingTests.java\n@@ -51,6 +51,6 @@ public class TestQueryRulesetActionRequestBWCSerializingTests extends AbstractBW\n \n     @Override\n     protected List<TransportVersion> bwcVersions() {\n-        return getAllBWCVersions().stream().filter(v -> v.onOrAfter(TransportVersions.QUERY_RULE_TEST_API)).collect(Collectors.toList());\n+        return getAllBWCVersions().stream().filter(v -> v.onOrAfter(TransportVersions.V_8_15_0)).collect(Collectors.toList());\n     }\n }\ndiff --git a/x-pack/plugin/ent-search/src/test/java/org/elasticsearch/xpack/application/rules/action/TestQueryRulesetActionResponseBWCSerializingTests.java b/x-pack/plugin/ent-search/src/test/java/org/elasticsearch/xpack/application/rules/action/TestQueryRulesetActionResponseBWCSerializingTests.java\nindex a6562fb7..bb636129 100644\n--- a/x-pack/plugin/ent-search/src/test/java/org/elasticsearch/xpack/application/rules/action/TestQueryRulesetActionResponseBWCSerializingTests.java\n+++ b/x-pack/plugin/ent-search/src/test/java/org/elasticsearch/xpack/application/rules/action/TestQueryRulesetActionResponseBWCSerializingTests.java\n@@ -47,6 +47,6 @@ public class TestQueryRulesetActionResponseBWCSerializingTests extends AbstractB\n \n     @Override\n     protected List<TransportVersion> bwcVersions() {\n-        return getAllBWCVersions().stream().filter(v -> v.onOrAfter(TransportVersions.QUERY_RULE_TEST_API)).collect(Collectors.toList());\n+        return getAllBWCVersions().stream().filter(v -> v.onOrAfter(TransportVersions.V_8_15_0)).collect(Collectors.toList());\n     }\n }\ndiff --git a/x-pack/plugin/esql-core/src/main/java/org/elasticsearch/xpack/esql/core/type/EsField.java b/x-pack/plugin/esql-core/src/main/java/org/elasticsearch/xpack/esql/core/type/EsField.java\nindex 6235176d..2fa915f5 100644\n--- a/x-pack/plugin/esql-core/src/main/java/org/elasticsearch/xpack/esql/core/type/EsField.java\n+++ b/x-pack/plugin/esql-core/src/main/java/org/elasticsearch/xpack/esql/core/type/EsField.java\n@@ -69,7 +69,7 @@ public class EsField implements Writeable {\n \n     private DataType readDataType(StreamInput in) throws IOException {\n         String name = ((PlanStreamInput) in).readCachedString();\n-        if (in.getTransportVersion().before(TransportVersions.ESQL_NESTED_UNSUPPORTED) && name.equalsIgnoreCase(\"NESTED\")) {\n+        if (in.getTransportVersion().before(TransportVersions.V_8_15_0) && name.equalsIgnoreCase(\"NESTED\")) {\n             /*\n              * The \"nested\" data type existed in older versions of ESQL but was\n              * entirely used to filter mappings away. Those versions will still\ndiff --git a/x-pack/plugin/esql/compute/src/main/java/org/elasticsearch/compute/data/AbstractArrayBlock.java b/x-pack/plugin/esql/compute/src/main/java/org/elasticsearch/compute/data/AbstractArrayBlock.java\nindex c14289ff..9ca21e21 100644\n--- a/x-pack/plugin/esql/compute/src/main/java/org/elasticsearch/compute/data/AbstractArrayBlock.java\n+++ b/x-pack/plugin/esql/compute/src/main/java/org/elasticsearch/compute/data/AbstractArrayBlock.java\n@@ -191,7 +191,7 @@ abstract class AbstractArrayBlock extends AbstractNonThreadSafeRefCounted implem\n         if (nullsMask != null) {\n             out.writeLongArray(nullsMask.toLongArray());\n         }\n-        if (out.getTransportVersion().before(TransportVersions.ESQL_MV_ORDERING_SORTED_ASCENDING)\n+        if (out.getTransportVersion().before(TransportVersions.V_8_15_0)\n             && mvOrdering == MvOrdering.SORTED_ASCENDING) {\n             out.writeEnum(MvOrdering.UNORDERED);\n         } else {\ndiff --git a/x-pack/plugin/esql/compute/src/main/java/org/elasticsearch/compute/operator/AbstractPageMappingToIteratorOperator.java b/x-pack/plugin/esql/compute/src/main/java/org/elasticsearch/compute/operator/AbstractPageMappingToIteratorOperator.java\nindex 4fb4053b..32492af1 100644\n--- a/x-pack/plugin/esql/compute/src/main/java/org/elasticsearch/compute/operator/AbstractPageMappingToIteratorOperator.java\n+++ b/x-pack/plugin/esql/compute/src/main/java/org/elasticsearch/compute/operator/AbstractPageMappingToIteratorOperator.java\n@@ -231,7 +231,7 @@ public abstract class AbstractPageMappingToIteratorOperator implements Operator\n \n         @Override\n         public TransportVersion getMinimalSupportedVersion() {\n-            return TransportVersions.ESQL_PAGE_MAPPING_TO_ITERATOR;\n+            return TransportVersions.V_8_15_0;\n         }\n     }\n \ndiff --git a/x-pack/plugin/esql/compute/src/main/java/org/elasticsearch/compute/operator/AggregationOperator.java b/x-pack/plugin/esql/compute/src/main/java/org/elasticsearch/compute/operator/AggregationOperator.java\nindex 9338077a..607164ea 100644\n--- a/x-pack/plugin/esql/compute/src/main/java/org/elasticsearch/compute/operator/AggregationOperator.java\n+++ b/x-pack/plugin/esql/compute/src/main/java/org/elasticsearch/compute/operator/AggregationOperator.java\n@@ -219,7 +219,7 @@ public class AggregationOperator implements Operator {\n \n         protected Status(StreamInput in) throws IOException {\n             aggregationNanos = in.readVLong();\n-            if (in.getTransportVersion().onOrAfter(TransportVersions.ESQL_AGGREGATION_OPERATOR_STATUS_FINISH_NANOS)) {\n+            if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 aggregationFinishNanos = in.readOptionalVLong();\n             } else {\n                 aggregationFinishNanos = null;\n@@ -230,7 +230,7 @@ public class AggregationOperator implements Operator {\n         @Override\n         public void writeTo(StreamOutput out) throws IOException {\n             out.writeVLong(aggregationNanos);\n-            if (out.getTransportVersion().onOrAfter(TransportVersions.ESQL_AGGREGATION_OPERATOR_STATUS_FINISH_NANOS)) {\n+            if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 out.writeOptionalVLong(aggregationFinishNanos);\n             }\n             out.writeVInt(pagesProcessed);\ndiff --git a/x-pack/plugin/esql/compute/src/main/java/org/elasticsearch/compute/operator/DriverProfile.java b/x-pack/plugin/esql/compute/src/main/java/org/elasticsearch/compute/operator/DriverProfile.java\nindex a685687e..203dc23b 100644\n--- a/x-pack/plugin/esql/compute/src/main/java/org/elasticsearch/compute/operator/DriverProfile.java\n+++ b/x-pack/plugin/esql/compute/src/main/java/org/elasticsearch/compute/operator/DriverProfile.java\n@@ -80,7 +80,7 @@ public class DriverProfile implements Writeable, ChunkedToXContentObject {\n     }\n \n     public DriverProfile(StreamInput in) throws IOException {\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.ESQL_PROFILE_SLEEPS)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             this.startMillis = in.readVLong();\n             this.stopMillis = in.readVLong();\n         } else {\n@@ -102,7 +102,7 @@ public class DriverProfile implements Writeable, ChunkedToXContentObject {\n \n     @Override\n     public void writeTo(StreamOutput out) throws IOException {\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.ESQL_PROFILE_SLEEPS)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeVLong(startMillis);\n             out.writeVLong(stopMillis);\n         }\ndiff --git a/x-pack/plugin/esql/compute/src/main/java/org/elasticsearch/compute/operator/DriverSleeps.java b/x-pack/plugin/esql/compute/src/main/java/org/elasticsearch/compute/operator/DriverSleeps.java\nindex 01e9a73c..fe441423 100644\n--- a/x-pack/plugin/esql/compute/src/main/java/org/elasticsearch/compute/operator/DriverSleeps.java\n+++ b/x-pack/plugin/esql/compute/src/main/java/org/elasticsearch/compute/operator/DriverSleeps.java\n@@ -76,7 +76,7 @@ public record DriverSleeps(Map<String, Long> counts, List<Sleep> first, List<Sle\n     static final int RECORDS = 10;\n \n     public static DriverSleeps read(StreamInput in) throws IOException {\n-        if (in.getTransportVersion().before(TransportVersions.ESQL_PROFILE_SLEEPS)) {\n+        if (in.getTransportVersion().before(TransportVersions.V_8_15_0)) {\n             return empty();\n         }\n         return new DriverSleeps(\n@@ -88,7 +88,7 @@ public record DriverSleeps(Map<String, Long> counts, List<Sleep> first, List<Sle\n \n     @Override\n     public void writeTo(StreamOutput out) throws IOException {\n-        if (out.getTransportVersion().before(TransportVersions.ESQL_PROFILE_SLEEPS)) {\n+        if (out.getTransportVersion().before(TransportVersions.V_8_15_0)) {\n             return;\n         }\n         out.writeMap(counts, StreamOutput::writeVLong);\ndiff --git a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/action/EsqlExecutionInfo.java b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/action/EsqlExecutionInfo.java\nindex dabccd4f..506e0bac 100644\n--- a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/action/EsqlExecutionInfo.java\n+++ b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/action/EsqlExecutionInfo.java\n@@ -100,7 +100,7 @@ public class EsqlExecutionInfo implements ChunkedToXContentObject, Writeable {\n             clusterList.forEach(c -> m.put(c.getClusterAlias(), c));\n             this.clusterInfo = m;\n         }\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.OPT_IN_ESQL_CCS_EXECUTION_INFO)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             this.includeCCSMetadata = in.readBoolean();\n         } else {\n             this.includeCCSMetadata = false;\n@@ -116,7 +116,7 @@ public class EsqlExecutionInfo implements ChunkedToXContentObject, Writeable {\n         } else {\n             out.writeCollection(Collections.emptyList());\n         }\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.OPT_IN_ESQL_CCS_EXECUTION_INFO)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeBoolean(includeCCSMetadata);\n         }\n     }\ndiff --git a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/action/EsqlQueryResponse.java b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/action/EsqlQueryResponse.java\nindex 4e59d541..4c02788b 100644\n--- a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/action/EsqlQueryResponse.java\n+++ b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/action/EsqlQueryResponse.java\n@@ -113,7 +113,7 @@ public class EsqlQueryResponse extends org.elasticsearch.xpack.core.esql.action.\n         }\n         boolean columnar = in.readBoolean();\n         EsqlExecutionInfo executionInfo = null;\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.ESQL_CCS_EXECUTION_INFO)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             executionInfo = in.readOptionalWriteable(EsqlExecutionInfo::new);\n         }\n         return new EsqlQueryResponse(columns, pages, profile, columnar, asyncExecutionId, isRunning, isAsync, executionInfo);\n@@ -132,7 +132,7 @@ public class EsqlQueryResponse extends org.elasticsearch.xpack.core.esql.action.\n             out.writeOptionalWriteable(profile);\n         }\n         out.writeBoolean(columnar);\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.ESQL_CCS_EXECUTION_INFO)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeOptionalWriteable(executionInfo);\n         }\n     }\ndiff --git a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/enrich/ResolvedEnrichPolicy.java b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/enrich/ResolvedEnrichPolicy.java\nindex 1ee9039c..657f584e 100644\n--- a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/enrich/ResolvedEnrichPolicy.java\n+++ b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/enrich/ResolvedEnrichPolicy.java\n@@ -35,7 +35,7 @@ public record ResolvedEnrichPolicy(\n     }\n \n     private static Reader<EsField> getEsFieldReader(StreamInput in) {\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.ESQL_ES_FIELD_CACHED_SERIALIZATION)\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)\n             || in.getTransportVersion().isPatchFrom(TransportVersions.ESQL_ATTRIBUTE_CACHED_SERIALIZATION_8_15)) {\n             return EsField::readFrom;\n         }\n@@ -56,7 +56,7 @@ public record ResolvedEnrichPolicy(\n              */\n             (o, v) -> {\n                 var field = new EsField(v.getName(), v.getDataType(), v.getProperties(), v.isAggregatable(), v.isAlias());\n-                if (out.getTransportVersion().onOrAfter(TransportVersions.ESQL_ES_FIELD_CACHED_SERIALIZATION)\n+                if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)\n                     || out.getTransportVersion().isPatchFrom(TransportVersions.ESQL_ATTRIBUTE_CACHED_SERIALIZATION_8_15)) {\n                     field.writeTo(o);\n                 } else {\ndiff --git a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/expression/function/UnsupportedAttribute.java b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/expression/function/UnsupportedAttribute.java\nindex 08c24966..d4186d21 100644\n--- a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/expression/function/UnsupportedAttribute.java\n+++ b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/expression/function/UnsupportedAttribute.java\n@@ -77,7 +77,7 @@ public final class UnsupportedAttribute extends FieldAttribute implements Unreso\n         this(\n             Source.readFrom((PlanStreamInput) in),\n             ((PlanStreamInput) in).readCachedString(),\n-            in.getTransportVersion().onOrAfter(TransportVersions.ESQL_ES_FIELD_CACHED_SERIALIZATION)\n+            in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)\n                 || in.getTransportVersion().isPatchFrom(TransportVersions.ESQL_ATTRIBUTE_CACHED_SERIALIZATION_8_15)\n                     ? EsField.readFrom(in)\n                     : new UnsupportedEsField(in),\n@@ -91,7 +91,7 @@ public final class UnsupportedAttribute extends FieldAttribute implements Unreso\n         if (((PlanStreamOutput) out).writeAttributeCacheHeader(this)) {\n             Source.EMPTY.writeTo(out);\n             ((PlanStreamOutput) out).writeCachedString(name());\n-            if (out.getTransportVersion().onOrAfter(TransportVersions.ESQL_ES_FIELD_CACHED_SERIALIZATION)\n+            if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)\n                 || out.getTransportVersion().isPatchFrom(TransportVersions.ESQL_ATTRIBUTE_CACHED_SERIALIZATION_8_15)) {\n                 field().writeTo(out);\n             } else {\ndiff --git a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/expression/function/aggregate/AggregateFunction.java b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/expression/function/aggregate/AggregateFunction.java\nindex f7a74cc2..8a14368b 100644\n--- a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/expression/function/aggregate/AggregateFunction.java\n+++ b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/expression/function/aggregate/AggregateFunction.java\n@@ -75,10 +75,10 @@ public abstract class AggregateFunction extends Function {\n         this(\n             Source.readFrom((PlanStreamInput) in),\n             in.readNamedWriteable(Expression.class),\n-            in.getTransportVersion().onOrAfter(TransportVersions.ESQL_PER_AGGREGATE_FILTER)\n+            in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)\n                 ? in.readNamedWriteable(Expression.class)\n                 : Literal.TRUE,\n-            in.getTransportVersion().onOrAfter(TransportVersions.ESQL_PER_AGGREGATE_FILTER)\n+            in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)\n                 ? in.readNamedWriteableCollectionAsList(Expression.class)\n                 : emptyList()\n         );\n@@ -88,7 +88,7 @@ public abstract class AggregateFunction extends Function {\n     public final void writeTo(StreamOutput out) throws IOException {\n         Source.EMPTY.writeTo(out);\n         out.writeNamedWriteable(field);\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.ESQL_PER_AGGREGATE_FILTER)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeNamedWriteable(filter);\n             out.writeNamedWriteableCollection(parameters);\n         } else {\ndiff --git a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/expression/function/aggregate/CountDistinct.java b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/expression/function/aggregate/CountDistinct.java\nindex 756000df..e5a24899 100644\n--- a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/expression/function/aggregate/CountDistinct.java\n+++ b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/expression/function/aggregate/CountDistinct.java\n@@ -130,10 +130,10 @@ public class CountDistinct extends AggregateFunction implements OptionalArgument\n         this(\n             Source.readFrom((PlanStreamInput) in),\n             in.readNamedWriteable(Expression.class),\n-            in.getTransportVersion().onOrAfter(TransportVersions.ESQL_PER_AGGREGATE_FILTER)\n+            in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)\n                 ? in.readNamedWriteable(Expression.class)\n                 : Literal.TRUE,\n-            in.getTransportVersion().onOrAfter(TransportVersions.ESQL_PER_AGGREGATE_FILTER)\n+            in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)\n                 ? in.readNamedWriteableCollectionAsList(Expression.class)\n                 : nullSafeList(in.readOptionalNamedWriteable(Expression.class))\n         );\ndiff --git a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/expression/function/aggregate/FromPartial.java b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/expression/function/aggregate/FromPartial.java\nindex 0f9037a2..5dd4be22 100644\n--- a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/expression/function/aggregate/FromPartial.java\n+++ b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/expression/function/aggregate/FromPartial.java\n@@ -58,10 +58,10 @@ public class FromPartial extends AggregateFunction implements ToAggregator {\n         this(\n             Source.readFrom((PlanStreamInput) in),\n             in.readNamedWriteable(Expression.class),\n-            in.getTransportVersion().onOrAfter(TransportVersions.ESQL_PER_AGGREGATE_FILTER)\n+            in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)\n                 ? in.readNamedWriteable(Expression.class)\n                 : Literal.TRUE,\n-            in.getTransportVersion().onOrAfter(TransportVersions.ESQL_PER_AGGREGATE_FILTER)\n+            in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)\n                 ? in.readNamedWriteableCollectionAsList(Expression.class).get(0)\n                 : in.readNamedWriteable(Expression.class)\n         );\ndiff --git a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/expression/function/aggregate/Percentile.java b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/expression/function/aggregate/Percentile.java\nindex febd9f28..d38894ed 100644\n--- a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/expression/function/aggregate/Percentile.java\n+++ b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/expression/function/aggregate/Percentile.java\n@@ -92,10 +92,10 @@ public class Percentile extends NumericAggregate implements SurrogateExpression\n         this(\n             Source.readFrom((PlanStreamInput) in),\n             in.readNamedWriteable(Expression.class),\n-            in.getTransportVersion().onOrAfter(TransportVersions.ESQL_PER_AGGREGATE_FILTER)\n+            in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)\n                 ? in.readNamedWriteable(Expression.class)\n                 : Literal.TRUE,\n-            in.getTransportVersion().onOrAfter(TransportVersions.ESQL_PER_AGGREGATE_FILTER)\n+            in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)\n                 ? in.readNamedWriteableCollectionAsList(Expression.class).get(0)\n                 : in.readNamedWriteable(Expression.class)\n         );\ndiff --git a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/expression/function/aggregate/Rate.java b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/expression/function/aggregate/Rate.java\nindex b7b04658..b3f5ab66 100644\n--- a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/expression/function/aggregate/Rate.java\n+++ b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/expression/function/aggregate/Rate.java\n@@ -74,10 +74,10 @@ public class Rate extends AggregateFunction implements OptionalArgument, ToAggre\n         this(\n             Source.readFrom((PlanStreamInput) in),\n             in.readNamedWriteable(Expression.class),\n-            in.getTransportVersion().onOrAfter(TransportVersions.ESQL_PER_AGGREGATE_FILTER)\n+            in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)\n                 ? in.readNamedWriteable(Expression.class)\n                 : Literal.TRUE,\n-            in.getTransportVersion().onOrAfter(TransportVersions.ESQL_PER_AGGREGATE_FILTER)\n+            in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)\n                 ? in.readNamedWriteableCollectionAsList(Expression.class)\n                 : nullSafeList(in.readNamedWriteable(Expression.class), in.readOptionalNamedWriteable(Expression.class))\n         );\ndiff --git a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/expression/function/aggregate/ToPartial.java b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/expression/function/aggregate/ToPartial.java\nindex cffac616..c91a22a6 100644\n--- a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/expression/function/aggregate/ToPartial.java\n+++ b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/expression/function/aggregate/ToPartial.java\n@@ -80,10 +80,10 @@ public class ToPartial extends AggregateFunction implements ToAggregator {\n         this(\n             Source.readFrom((PlanStreamInput) in),\n             in.readNamedWriteable(Expression.class),\n-            in.getTransportVersion().onOrAfter(TransportVersions.ESQL_PER_AGGREGATE_FILTER)\n+            in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)\n                 ? in.readNamedWriteable(Expression.class)\n                 : Literal.TRUE,\n-            in.getTransportVersion().onOrAfter(TransportVersions.ESQL_PER_AGGREGATE_FILTER)\n+            in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)\n                 ? in.readNamedWriteableCollectionAsList(Expression.class).get(0)\n                 : in.readNamedWriteable(Expression.class)\n         );\ndiff --git a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/expression/function/aggregate/Top.java b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/expression/function/aggregate/Top.java\nindex 4f81e0a8..c3e72904 100644\n--- a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/expression/function/aggregate/Top.java\n+++ b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/expression/function/aggregate/Top.java\n@@ -81,10 +81,10 @@ public class Top extends AggregateFunction implements ToAggregator, SurrogateExp\n         super(\n             Source.readFrom((PlanStreamInput) in),\n             in.readNamedWriteable(Expression.class),\n-            in.getTransportVersion().onOrAfter(TransportVersions.ESQL_PER_AGGREGATE_FILTER)\n+            in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)\n                 ? in.readNamedWriteable(Expression.class)\n                 : Literal.TRUE,\n-            in.getTransportVersion().onOrAfter(TransportVersions.ESQL_PER_AGGREGATE_FILTER)\n+            in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)\n                 ? in.readNamedWriteableCollectionAsList(Expression.class)\n                 : asList(in.readNamedWriteable(Expression.class), in.readNamedWriteable(Expression.class))\n         );\ndiff --git a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/expression/function/aggregate/WeightedAvg.java b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/expression/function/aggregate/WeightedAvg.java\nindex dbcc50ce..20778b70 100644\n--- a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/expression/function/aggregate/WeightedAvg.java\n+++ b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/expression/function/aggregate/WeightedAvg.java\n@@ -68,10 +68,10 @@ public class WeightedAvg extends AggregateFunction implements SurrogateExpressio\n         this(\n             Source.readFrom((PlanStreamInput) in),\n             in.readNamedWriteable(Expression.class),\n-            in.getTransportVersion().onOrAfter(TransportVersions.ESQL_PER_AGGREGATE_FILTER)\n+            in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)\n                 ? in.readNamedWriteable(Expression.class)\n                 : Literal.TRUE,\n-            in.getTransportVersion().onOrAfter(TransportVersions.ESQL_PER_AGGREGATE_FILTER)\n+            in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)\n                 ? in.readNamedWriteableCollectionAsList(Expression.class).get(0)\n                 : in.readNamedWriteable(Expression.class)\n         );\ndiff --git a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/index/EsIndex.java b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/index/EsIndex.java\nindex ce52b3a7..5d14f8c0 100644\n--- a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/index/EsIndex.java\n+++ b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/index/EsIndex.java\n@@ -50,7 +50,7 @@ public class EsIndex implements Writeable {\n \n     @SuppressWarnings(\"unchecked\")\n     private static Map<String, IndexMode> readIndexNameWithModes(StreamInput in) throws IOException {\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.ESQL_ADD_INDEX_MODE_CONCRETE_INDICES)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             return in.readMap(IndexMode::readFrom);\n         } else {\n             Set<String> indices = (Set<String>) in.readGenericValue();\n@@ -60,7 +60,7 @@ public class EsIndex implements Writeable {\n     }\n \n     private static void writeIndexNameWithModes(Map<String, IndexMode> concreteIndices, StreamOutput out) throws IOException {\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.ESQL_ADD_INDEX_MODE_CONCRETE_INDICES)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeMap(concreteIndices, (o, v) -> IndexMode.writeTo(v, out));\n         } else {\n             out.writeGenericValue(concreteIndices.keySet());\ndiff --git a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/io/stream/PlanStreamInput.java b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/io/stream/PlanStreamInput.java\nindex c832f643..98582fec 100644\n--- a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/io/stream/PlanStreamInput.java\n+++ b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/io/stream/PlanStreamInput.java\n@@ -179,7 +179,7 @@ public final class PlanStreamInput extends NamedWriteableAwareStreamInput\n     @Override\n     @SuppressWarnings(\"unchecked\")\n     public <A extends Attribute> A readAttributeWithCache(CheckedFunction<StreamInput, A, IOException> constructor) throws IOException {\n-        if (getTransportVersion().onOrAfter(TransportVersions.ESQL_ATTRIBUTE_CACHED_SERIALIZATION)\n+        if (getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)\n             || getTransportVersion().isPatchFrom(TransportVersions.ESQL_ATTRIBUTE_CACHED_SERIALIZATION_8_15)) {\n             // it's safe to cast to int, since the max value for this is {@link PlanStreamOutput#MAX_SERIALIZED_ATTRIBUTES}\n             int cacheId = Math.toIntExact(readZLong());\n@@ -219,7 +219,7 @@ public final class PlanStreamInput extends NamedWriteableAwareStreamInput\n \n     @SuppressWarnings(\"unchecked\")\n     public <A extends EsField> A readEsFieldWithCache() throws IOException {\n-        if (getTransportVersion().onOrAfter(TransportVersions.ESQL_ES_FIELD_CACHED_SERIALIZATION)\n+        if (getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)\n             || getTransportVersion().isPatchFrom(TransportVersions.ESQL_ATTRIBUTE_CACHED_SERIALIZATION_8_15)) {\n             // it's safe to cast to int, since the max value for this is {@link PlanStreamOutput#MAX_SERIALIZED_ATTRIBUTES}\n             int cacheId = Math.toIntExact(readZLong());\n@@ -245,7 +245,7 @@ public final class PlanStreamInput extends NamedWriteableAwareStreamInput\n      */\n     @Override\n     public String readCachedString() throws IOException {\n-        if (getTransportVersion().before(TransportVersions.ESQL_CACHED_STRING_SERIALIZATION)) {\n+        if (getTransportVersion().before(TransportVersions.V_8_15_0)) {\n             return readString();\n         }\n         int cacheId = Math.toIntExact(readZLong());\ndiff --git a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/io/stream/PlanStreamOutput.java b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/io/stream/PlanStreamOutput.java\nindex 5e31a57e..175891ef 100644\n--- a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/io/stream/PlanStreamOutput.java\n+++ b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/io/stream/PlanStreamOutput.java\n@@ -152,7 +152,7 @@ public final class PlanStreamOutput extends StreamOutput implements org.elastics\n \n     @Override\n     public boolean writeAttributeCacheHeader(Attribute attribute) throws IOException {\n-        if (getTransportVersion().onOrAfter(TransportVersions.ESQL_ATTRIBUTE_CACHED_SERIALIZATION)\n+        if (getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)\n             || getTransportVersion().isPatchFrom(TransportVersions.ESQL_ATTRIBUTE_CACHED_SERIALIZATION_8_15)) {\n             Integer cacheId = attributeIdFromCache(attribute);\n             if (cacheId != null) {\n@@ -184,7 +184,7 @@ public final class PlanStreamOutput extends StreamOutput implements org.elastics\n \n     @Override\n     public boolean writeEsFieldCacheHeader(EsField field) throws IOException {\n-        if (getTransportVersion().onOrAfter(TransportVersions.ESQL_ES_FIELD_CACHED_SERIALIZATION)\n+        if (getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)\n             || getTransportVersion().isPatchFrom(TransportVersions.ESQL_ATTRIBUTE_CACHED_SERIALIZATION_8_15)) {\n             Integer cacheId = esFieldIdFromCache(field);\n             if (cacheId != null) {\n@@ -207,7 +207,7 @@ public final class PlanStreamOutput extends StreamOutput implements org.elastics\n      */\n     @Override\n     public void writeCachedString(String string) throws IOException {\n-        if (getTransportVersion().before(TransportVersions.ESQL_CACHED_STRING_SERIALIZATION)) {\n+        if (getTransportVersion().before(TransportVersions.V_8_15_0)) {\n             writeString(string);\n             return;\n         }\ndiff --git a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/plan/logical/Aggregate.java b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/plan/logical/Aggregate.java\nindex 3b7240dc..b2f314a0 100644\n--- a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/plan/logical/Aggregate.java\n+++ b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/plan/logical/Aggregate.java\n@@ -40,7 +40,7 @@ public class Aggregate extends UnaryPlan implements Stats {\n         METRICS;\n \n         static void writeType(StreamOutput out, AggregateType type) throws IOException {\n-            if (out.getTransportVersion().onOrAfter(TransportVersions.ESQL_ADD_AGGREGATE_TYPE)) {\n+            if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 out.writeString(type.name());\n             } else if (type != STANDARD) {\n                 throw new IllegalStateException(\"cluster is not ready to support aggregate type [\" + type + \"]\");\n@@ -48,7 +48,7 @@ public class Aggregate extends UnaryPlan implements Stats {\n         }\n \n         static AggregateType readType(StreamInput in) throws IOException {\n-            if (in.getTransportVersion().onOrAfter(TransportVersions.ESQL_ADD_AGGREGATE_TYPE)) {\n+            if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 return AggregateType.valueOf(in.readString());\n             } else {\n                 return STANDARD;\ndiff --git a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/plan/logical/EsRelation.java b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/plan/logical/EsRelation.java\nindex 0043362f..78f414da 100644\n--- a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/plan/logical/EsRelation.java\n+++ b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/plan/logical/EsRelation.java\n@@ -87,7 +87,7 @@ public class EsRelation extends LeafPlan {\n     }\n \n     private static boolean supportingEsSourceOptions(TransportVersion version) {\n-        return version.onOrAfter(TransportVersions.V_8_14_0) && version.before(TransportVersions.ESQL_REMOVE_ES_SOURCE_OPTIONS);\n+        return version.onOrAfter(TransportVersions.V_8_14_0) && version.before(TransportVersions.V_8_15_0);\n     }\n \n     @Override\n@@ -180,7 +180,7 @@ public class EsRelation extends LeafPlan {\n     }\n \n     public static IndexMode readIndexMode(StreamInput in) throws IOException {\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.ESQL_ADD_INDEX_MODE_TO_SOURCE)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             return IndexMode.fromString(in.readString());\n         } else {\n             return IndexMode.STANDARD;\n@@ -188,7 +188,7 @@ public class EsRelation extends LeafPlan {\n     }\n \n     public static void writeIndexMode(StreamOutput out, IndexMode indexMode) throws IOException {\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.ESQL_ADD_INDEX_MODE_TO_SOURCE)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeString(indexMode.getName());\n         } else if (indexMode != IndexMode.STANDARD) {\n             throw new IllegalStateException(\"not ready to support index mode [\" + indexMode + \"]\");\ndiff --git a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/plan/physical/AggregateExec.java b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/plan/physical/AggregateExec.java\nindex dff55f07..d591ff10 100644\n--- a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/plan/physical/AggregateExec.java\n+++ b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/plan/physical/AggregateExec.java\n@@ -85,7 +85,7 @@ public class AggregateExec extends UnaryExec implements EstimatesRowSize {\n         out.writeNamedWriteable(child());\n         out.writeNamedWriteableCollection(groupings());\n         out.writeNamedWriteableCollection(aggregates());\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.ESQL_AGGREGATE_EXEC_TRACKS_INTERMEDIATE_ATTRS)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeEnum(getMode());\n             out.writeNamedWriteableCollection(intermediateAttributes());\n         } else {\ndiff --git a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/plugin/ComputeResponse.java b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/plugin/ComputeResponse.java\nindex 30819270..70464e1b 100644\n--- a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/plugin/ComputeResponse.java\n+++ b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/plugin/ComputeResponse.java\n@@ -61,7 +61,7 @@ final class ComputeResponse extends TransportResponse {\n         } else {\n             profiles = null;\n         }\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.ESQL_CCS_EXECUTION_INFO)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             this.took = in.readOptionalTimeValue();\n             this.totalShards = in.readVInt();\n             this.successfulShards = in.readVInt();\n@@ -86,7 +86,7 @@ final class ComputeResponse extends TransportResponse {\n                 out.writeCollection(profiles);\n             }\n         }\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.ESQL_CCS_EXECUTION_INFO)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeOptionalTimeValue(took);\n             out.writeVInt(totalShards);\n             out.writeVInt(successfulShards);\ndiff --git a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/plugin/DataNodeRequest.java b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/plugin/DataNodeRequest.java\nindex 8f890e63..a63e41ce 100644\n--- a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/plugin/DataNodeRequest.java\n+++ b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/plugin/DataNodeRequest.java\n@@ -81,7 +81,7 @@ final class DataNodeRequest extends TransportRequest implements IndicesRequest.R\n         this.shardIds = in.readCollectionAsList(ShardId::new);\n         this.aliasFilters = in.readMap(Index::new, AliasFilter::readFrom);\n         this.plan = new PlanStreamInput(in, in.namedWriteableRegistry(), configuration).readNamedWriteable(PhysicalPlan.class);\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.ESQL_ORIGINAL_INDICES)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             this.indices = in.readStringArray();\n             this.indicesOptions = IndicesOptions.readIndicesOptions(in);\n         } else {\n@@ -101,7 +101,7 @@ final class DataNodeRequest extends TransportRequest implements IndicesRequest.R\n         out.writeCollection(shardIds);\n         out.writeMap(aliasFilters);\n         new PlanStreamOutput(out, configuration).writeNamedWriteable(plan);\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.ESQL_ORIGINAL_INDICES)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeStringArray(indices);\n             indicesOptions.writeIndicesOptions(out);\n         }\ndiff --git a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/plugin/RemoteClusterPlan.java b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/plugin/RemoteClusterPlan.java\nindex 8564e4b3..bb185b2b 100644\n--- a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/plugin/RemoteClusterPlan.java\n+++ b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/plugin/RemoteClusterPlan.java\n@@ -21,7 +21,7 @@ record RemoteClusterPlan(PhysicalPlan plan, String[] targetIndices, OriginalIndi\n         var plan = planIn.readNamedWriteable(PhysicalPlan.class);\n         var targetIndices = planIn.readStringArray();\n         final OriginalIndices originalIndices;\n-        if (planIn.getTransportVersion().onOrAfter(TransportVersions.ESQL_ORIGINAL_INDICES)) {\n+        if (planIn.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             originalIndices = OriginalIndices.readOriginalIndices(planIn);\n         } else {\n             originalIndices = new OriginalIndices(planIn.readStringArray(), IndicesOptions.strictSingleIndexNoExpandForbidClosed());\n@@ -32,7 +32,7 @@ record RemoteClusterPlan(PhysicalPlan plan, String[] targetIndices, OriginalIndi\n     public void writeTo(PlanStreamOutput out) throws IOException {\n         out.writeNamedWriteable(plan);\n         out.writeStringArray(targetIndices);\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.ESQL_ORIGINAL_INDICES)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             OriginalIndices.writeOriginalIndices(originalIndices, out);\n         } else {\n             out.writeStringArray(originalIndices.indices());\ndiff --git a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/querydsl/query/SingleValueQuery.java b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/querydsl/query/SingleValueQuery.java\nindex 8d33e9b4..356e503a 100644\n--- a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/querydsl/query/SingleValueQuery.java\n+++ b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/querydsl/query/SingleValueQuery.java\n@@ -107,7 +107,7 @@ public class SingleValueQuery extends Query {\n             super(in);\n             this.next = in.readNamedWriteable(QueryBuilder.class);\n             this.field = in.readString();\n-            if (in.getTransportVersion().onOrAfter(TransportVersions.ESQL_SINGLE_VALUE_QUERY_SOURCE)) {\n+            if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 if (in instanceof PlanStreamInput psi) {\n                     this.source = Source.readFrom(psi);\n                 } else {\n@@ -128,7 +128,7 @@ public class SingleValueQuery extends Query {\n         protected void doWriteTo(StreamOutput out) throws IOException {\n             out.writeNamedWriteable(next);\n             out.writeString(field);\n-            if (out.getTransportVersion().onOrAfter(TransportVersions.ESQL_SINGLE_VALUE_QUERY_SOURCE)) {\n+            if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 source.writeTo(out);\n             } else if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_12_0)) {\n                 writeOldSource(out, source);\ndiff --git a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/session/Configuration.java b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/session/Configuration.java\nindex b904f07b..7c44e118 100644\n--- a/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/session/Configuration.java\n+++ b/x-pack/plugin/esql/src/main/java/org/elasticsearch/xpack/esql/session/Configuration.java\n@@ -96,12 +96,12 @@ public class Configuration implements Writeable {\n         } else {\n             this.profile = false;\n         }\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.ESQL_REQUEST_TABLES)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             this.tables = in.readImmutableMap(i1 -> i1.readImmutableMap(i2 -> new Column((BlockStreamInput) i2)));\n         } else {\n             this.tables = Map.of();\n         }\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.ESQL_CCS_EXECUTION_INFO)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             this.queryStartTimeNanos = in.readLong();\n         } else {\n             this.queryStartTimeNanos = -1;\n@@ -124,10 +124,10 @@ public class Configuration implements Writeable {\n         if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_12_0)) {\n             out.writeBoolean(profile);\n         }\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.ESQL_REQUEST_TABLES)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeMap(tables, (o1, columns) -> o1.writeMap(columns, StreamOutput::writeWriteable));\n         }\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.ESQL_CCS_EXECUTION_INFO)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeLong(queryStartTimeNanos);\n         }\n     }\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/chunking/SentenceBoundaryChunkingSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/chunking/SentenceBoundaryChunkingSettings.java\nindex 04a07eeb..af95d44f 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/chunking/SentenceBoundaryChunkingSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/chunking/SentenceBoundaryChunkingSettings.java\n@@ -47,7 +47,7 @@ public class SentenceBoundaryChunkingSettings implements ChunkingSettings {\n \n     public SentenceBoundaryChunkingSettings(StreamInput in) throws IOException {\n         maxChunkSize = in.readInt();\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.CHUNK_SENTENCE_OVERLAP_SETTING_ADDED)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             sentenceOverlap = in.readVInt();\n         }\n     }\n@@ -109,13 +109,13 @@ public class SentenceBoundaryChunkingSettings implements ChunkingSettings {\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_CHUNKING_SETTINGS;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\n     public void writeTo(StreamOutput out) throws IOException {\n         out.writeInt(maxChunkSize);\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.CHUNK_SENTENCE_OVERLAP_SETTING_ADDED)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeVInt(sentenceOverlap);\n         }\n     }\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/chunking/WordBoundaryChunkingSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/chunking/WordBoundaryChunkingSettings.java\nindex 5b91e122..3cd2e2aa 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/chunking/WordBoundaryChunkingSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/chunking/WordBoundaryChunkingSettings.java\n@@ -100,7 +100,7 @@ public class WordBoundaryChunkingSettings implements ChunkingSettings {\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_CHUNKING_SETTINGS;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/queries/SemanticQueryBuilder.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/queries/SemanticQueryBuilder.java\nindex 9f7fcb1e..75b255df 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/queries/SemanticQueryBuilder.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/queries/SemanticQueryBuilder.java\n@@ -128,7 +128,7 @@ public class SemanticQueryBuilder extends AbstractQueryBuilder<SemanticQueryBuil\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.SEMANTIC_QUERY;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     public static SemanticQueryBuilder fromXContent(XContentParser parser) throws IOException {\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/rank/random/RandomRankBuilder.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/rank/random/RandomRankBuilder.java\nindex fdb5503e..854e9924 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/rank/random/RandomRankBuilder.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/rank/random/RandomRankBuilder.java\n@@ -85,7 +85,7 @@ public class RandomRankBuilder extends RankBuilder {\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.RANDOM_RERANKER_RETRIEVER;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/rank/textsimilarity/TextSimilarityRankBuilder.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/rank/textsimilarity/TextSimilarityRankBuilder.java\nindex fd0ad220..e4093a91 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/rank/textsimilarity/TextSimilarityRankBuilder.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/rank/textsimilarity/TextSimilarityRankBuilder.java\n@@ -98,7 +98,7 @@ public class TextSimilarityRankBuilder extends RankBuilder {\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.TEXT_SIMILARITY_RERANKER_RETRIEVER;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/rank/textsimilarity/TextSimilarityRankDoc.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/rank/textsimilarity/TextSimilarityRankDoc.java\nindex d208623e..778f9712 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/rank/textsimilarity/TextSimilarityRankDoc.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/rank/textsimilarity/TextSimilarityRankDoc.java\n@@ -98,6 +98,6 @@ public class TextSimilarityRankDoc extends RankDoc {\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.TEXT_SIMILARITY_RERANKER_QUERY_REWRITE;\n+        return TransportVersions.V_8_15_0;\n     }\n }\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/alibabacloudsearch/AlibabaCloudSearchService.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/alibabacloudsearch/AlibabaCloudSearchService.java\nindex 44692583..bf915de6 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/alibabacloudsearch/AlibabaCloudSearchService.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/alibabacloudsearch/AlibabaCloudSearchService.java\n@@ -325,7 +325,7 @@ public class AlibabaCloudSearchService extends SenderService {\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_ALIBABACLOUD_SEARCH_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     /**\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/alibabacloudsearch/AlibabaCloudSearchServiceSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/alibabacloudsearch/AlibabaCloudSearchServiceSettings.java\nindex 3500bdf8..7111ede9 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/alibabacloudsearch/AlibabaCloudSearchServiceSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/alibabacloudsearch/AlibabaCloudSearchServiceSettings.java\n@@ -163,7 +163,7 @@ public class AlibabaCloudSearchServiceSettings extends FilteredXContentObject\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_ALIBABACLOUD_SEARCH_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/alibabacloudsearch/completion/AlibabaCloudSearchCompletionServiceSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/alibabacloudsearch/completion/AlibabaCloudSearchCompletionServiceSettings.java\nindex 631ec8a8..40904e8d 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/alibabacloudsearch/completion/AlibabaCloudSearchCompletionServiceSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/alibabacloudsearch/completion/AlibabaCloudSearchCompletionServiceSettings.java\n@@ -74,7 +74,7 @@ public class AlibabaCloudSearchCompletionServiceSettings implements ServiceSetti\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_ALIBABACLOUD_SEARCH_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/alibabacloudsearch/completion/AlibabaCloudSearchCompletionTaskSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/alibabacloudsearch/completion/AlibabaCloudSearchCompletionTaskSettings.java\nindex 05b5873a..5be5be2a 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/alibabacloudsearch/completion/AlibabaCloudSearchCompletionTaskSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/alibabacloudsearch/completion/AlibabaCloudSearchCompletionTaskSettings.java\n@@ -115,7 +115,7 @@ public class AlibabaCloudSearchCompletionTaskSettings implements TaskSettings {\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_ALIBABACLOUD_SEARCH_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/alibabacloudsearch/embeddings/AlibabaCloudSearchEmbeddingsServiceSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/alibabacloudsearch/embeddings/AlibabaCloudSearchEmbeddingsServiceSettings.java\nindex 8896e983..afd458f4 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/alibabacloudsearch/embeddings/AlibabaCloudSearchEmbeddingsServiceSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/alibabacloudsearch/embeddings/AlibabaCloudSearchEmbeddingsServiceSettings.java\n@@ -135,7 +135,7 @@ public class AlibabaCloudSearchEmbeddingsServiceSettings implements ServiceSetti\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_ALIBABACLOUD_SEARCH_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/alibabacloudsearch/embeddings/AlibabaCloudSearchEmbeddingsTaskSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/alibabacloudsearch/embeddings/AlibabaCloudSearchEmbeddingsTaskSettings.java\nindex 9a431717..905a3928 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/alibabacloudsearch/embeddings/AlibabaCloudSearchEmbeddingsTaskSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/alibabacloudsearch/embeddings/AlibabaCloudSearchEmbeddingsTaskSettings.java\n@@ -151,7 +151,7 @@ public class AlibabaCloudSearchEmbeddingsTaskSettings implements TaskSettings {\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_ALIBABACLOUD_SEARCH_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/alibabacloudsearch/rerank/AlibabaCloudSearchRerankServiceSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/alibabacloudsearch/rerank/AlibabaCloudSearchRerankServiceSettings.java\nindex 42c7238a..bbf1b0ba 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/alibabacloudsearch/rerank/AlibabaCloudSearchRerankServiceSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/alibabacloudsearch/rerank/AlibabaCloudSearchRerankServiceSettings.java\n@@ -74,7 +74,7 @@ public class AlibabaCloudSearchRerankServiceSettings implements ServiceSettings\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_ALIBABACLOUD_SEARCH_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/alibabacloudsearch/rerank/AlibabaCloudSearchRerankTaskSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/alibabacloudsearch/rerank/AlibabaCloudSearchRerankTaskSettings.java\nindex 40c3dee0..f70406ff 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/alibabacloudsearch/rerank/AlibabaCloudSearchRerankTaskSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/alibabacloudsearch/rerank/AlibabaCloudSearchRerankTaskSettings.java\n@@ -85,7 +85,7 @@ public class AlibabaCloudSearchRerankTaskSettings implements TaskSettings {\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_ALIBABACLOUD_SEARCH_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/alibabacloudsearch/sparse/AlibabaCloudSearchSparseServiceSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/alibabacloudsearch/sparse/AlibabaCloudSearchSparseServiceSettings.java\nindex fe44c936..94e0989e 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/alibabacloudsearch/sparse/AlibabaCloudSearchSparseServiceSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/alibabacloudsearch/sparse/AlibabaCloudSearchSparseServiceSettings.java\n@@ -74,7 +74,7 @@ public class AlibabaCloudSearchSparseServiceSettings implements ServiceSettings\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_ALIBABACLOUD_SEARCH_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/alibabacloudsearch/sparse/AlibabaCloudSearchSparseTaskSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/alibabacloudsearch/sparse/AlibabaCloudSearchSparseTaskSettings.java\nindex 0f4ebce9..e7ffab35 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/alibabacloudsearch/sparse/AlibabaCloudSearchSparseTaskSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/alibabacloudsearch/sparse/AlibabaCloudSearchSparseTaskSettings.java\n@@ -164,7 +164,7 @@ public class AlibabaCloudSearchSparseTaskSettings implements TaskSettings {\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_ALIBABACLOUD_SEARCH_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/amazonbedrock/AmazonBedrockSecretSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/amazonbedrock/AmazonBedrockSecretSettings.java\nindex 30a7dc9a..34c26e17 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/amazonbedrock/AmazonBedrockSecretSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/amazonbedrock/AmazonBedrockSecretSettings.java\n@@ -22,7 +22,7 @@ import java.util.HashMap;\n import java.util.Map;\n import java.util.Objects;\n \n-import static org.elasticsearch.TransportVersions.ML_INFERENCE_AMAZON_BEDROCK_ADDED;\n+import static org.elasticsearch.TransportVersions.V_8_15_0;\n import static org.elasticsearch.xpack.inference.services.ServiceUtils.extractRequiredSecureString;\n import static org.elasticsearch.xpack.inference.services.amazonbedrock.AmazonBedrockConstants.ACCESS_KEY_FIELD;\n import static org.elasticsearch.xpack.inference.services.amazonbedrock.AmazonBedrockConstants.SECRET_KEY_FIELD;\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/amazonbedrock/AmazonBedrockService.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/amazonbedrock/AmazonBedrockService.java\nindex 64b96351..3e156207 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/amazonbedrock/AmazonBedrockService.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/amazonbedrock/AmazonBedrockService.java\n@@ -45,7 +45,7 @@ import java.util.List;\n import java.util.Map;\n import java.util.Set;\n \n-import static org.elasticsearch.TransportVersions.ML_INFERENCE_AMAZON_BEDROCK_ADDED;\n+import static org.elasticsearch.TransportVersions.V_8_15_0;\n import static org.elasticsearch.xpack.inference.services.ServiceUtils.createInvalidModelException;\n import static org.elasticsearch.xpack.inference.services.ServiceUtils.parsePersistedConfigErrorMsg;\n import static org.elasticsearch.xpack.inference.services.ServiceUtils.removeFromMapOrDefaultEmpty;\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/amazonbedrock/AmazonBedrockServiceSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/amazonbedrock/AmazonBedrockServiceSettings.java\nindex b572df4f..7e4a5cff 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/amazonbedrock/AmazonBedrockServiceSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/amazonbedrock/AmazonBedrockServiceSettings.java\n@@ -24,7 +24,7 @@ import java.util.EnumSet;\n import java.util.Map;\n import java.util.Objects;\n \n-import static org.elasticsearch.TransportVersions.ML_INFERENCE_AMAZON_BEDROCK_ADDED;\n+import static org.elasticsearch.TransportVersions.V_8_15_0;\n import static org.elasticsearch.xpack.inference.services.ServiceUtils.extractRequiredEnum;\n import static org.elasticsearch.xpack.inference.services.ServiceUtils.extractRequiredString;\n import static org.elasticsearch.xpack.inference.services.amazonbedrock.AmazonBedrockConstants.MODEL_FIELD;\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/amazonbedrock/completion/AmazonBedrockChatCompletionTaskSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/amazonbedrock/completion/AmazonBedrockChatCompletionTaskSettings.java\nindex c3db1465..35661689 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/amazonbedrock/completion/AmazonBedrockChatCompletionTaskSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/amazonbedrock/completion/AmazonBedrockChatCompletionTaskSettings.java\n@@ -21,7 +21,7 @@ import java.util.HashMap;\n import java.util.Map;\n import java.util.Objects;\n \n-import static org.elasticsearch.TransportVersions.ML_INFERENCE_AMAZON_BEDROCK_ADDED;\n+import static org.elasticsearch.TransportVersions.V_8_15_0;\n import static org.elasticsearch.xpack.inference.services.ServiceUtils.extractOptionalDoubleInRange;\n import static org.elasticsearch.xpack.inference.services.ServiceUtils.extractOptionalPositiveInteger;\n import static org.elasticsearch.xpack.inference.services.amazonbedrock.AmazonBedrockConstants.MAX_NEW_TOKENS_FIELD;\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/anthropic/AnthropicService.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/anthropic/AnthropicService.java\nindex 8d6f026e..c925053c 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/anthropic/AnthropicService.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/anthropic/AnthropicService.java\n@@ -198,7 +198,7 @@ public class AnthropicService extends SenderService {\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_ANTHROPIC_INTEGRATION_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/anthropic/completion/AnthropicChatCompletionTaskSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/anthropic/completion/AnthropicChatCompletionTaskSettings.java\nindex e8a6ca63..305502d6 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/anthropic/completion/AnthropicChatCompletionTaskSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/anthropic/completion/AnthropicChatCompletionTaskSettings.java\n@@ -167,7 +167,7 @@ public class AnthropicChatCompletionTaskSettings implements TaskSettings {\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_ANTHROPIC_INTEGRATION_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureaistudio/AzureAiStudioService.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureaistudio/AzureAiStudioService.java\nindex 6929e8f5..298cb60d 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureaistudio/AzureAiStudioService.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureaistudio/AzureAiStudioService.java\n@@ -204,7 +204,7 @@ public class AzureAiStudioService extends SenderService {\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_AZURE_AI_STUDIO;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureaistudio/completion/AzureAiStudioChatCompletionServiceSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureaistudio/completion/AzureAiStudioChatCompletionServiceSettings.java\nindex 2f8422be..ecc8f7fe 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureaistudio/completion/AzureAiStudioChatCompletionServiceSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureaistudio/completion/AzureAiStudioChatCompletionServiceSettings.java\n@@ -80,7 +80,7 @@ public class AzureAiStudioChatCompletionServiceSettings extends AzureAiStudioSer\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_AZURE_AI_STUDIO;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureaistudio/embeddings/AzureAiStudioEmbeddingsServiceSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureaistudio/embeddings/AzureAiStudioEmbeddingsServiceSettings.java\nindex 8977ba8b..6ae1f773 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureaistudio/embeddings/AzureAiStudioEmbeddingsServiceSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureaistudio/embeddings/AzureAiStudioEmbeddingsServiceSettings.java\n@@ -166,7 +166,7 @@ public class AzureAiStudioEmbeddingsServiceSettings extends AzureAiStudioService\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_AZURE_AI_STUDIO;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureopenai/AzureOpenAiService.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureopenai/AzureOpenAiService.java\nindex 4ab5046d..aa1d895f 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureopenai/AzureOpenAiService.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureopenai/AzureOpenAiService.java\n@@ -314,7 +314,7 @@ public class AzureOpenAiService extends SenderService {\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_RATE_LIMIT_SETTINGS_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureopenai/completion/AzureOpenAiCompletionServiceSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureopenai/completion/AzureOpenAiCompletionServiceSettings.java\nindex 16f58574..eb7eed2c 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureopenai/completion/AzureOpenAiCompletionServiceSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureopenai/completion/AzureOpenAiCompletionServiceSettings.java\n@@ -168,7 +168,7 @@ public class AzureOpenAiCompletionServiceSettings extends FilteredXContentObject\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_AZURE_OPENAI_COMPLETIONS;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureopenai/completion/AzureOpenAiCompletionTaskSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureopenai/completion/AzureOpenAiCompletionTaskSettings.java\nindex 3008a543..7f90b866 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureopenai/completion/AzureOpenAiCompletionTaskSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureopenai/completion/AzureOpenAiCompletionTaskSettings.java\n@@ -88,7 +88,7 @@ public class AzureOpenAiCompletionTaskSettings implements TaskSettings {\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_AZURE_OPENAI_COMPLETIONS;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureopenai/embeddings/AzureOpenAiEmbeddingsServiceSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureopenai/embeddings/AzureOpenAiEmbeddingsServiceSettings.java\nindex 941a4bde..9e8ca478 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureopenai/embeddings/AzureOpenAiEmbeddingsServiceSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/azureopenai/embeddings/AzureOpenAiEmbeddingsServiceSettings.java\n@@ -185,7 +185,7 @@ public class AzureOpenAiEmbeddingsServiceSettings extends FilteredXContentObject\n         maxInputTokens = in.readOptionalVInt();\n         similarity = in.readOptionalEnum(SimilarityMeasure.class);\n \n-        if (in.getTransportVersion().onOrAfter(TransportVersions.ML_INFERENCE_RATE_LIMIT_SETTINGS_ADDED)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             rateLimitSettings = new RateLimitSettings(in);\n         } else {\n             rateLimitSettings = DEFAULT_RATE_LIMIT_SETTINGS;\n@@ -303,7 +303,7 @@ public class AzureOpenAiEmbeddingsServiceSettings extends FilteredXContentObject\n         out.writeOptionalVInt(maxInputTokens);\n         out.writeOptionalEnum(SimilarityMeasure.translateSimilarity(similarity, out.getTransportVersion()));\n \n-        if (out.getTransportVersion().onOrAfter(TransportVersions.ML_INFERENCE_RATE_LIMIT_SETTINGS_ADDED)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             rateLimitSettings.writeTo(out);\n         }\n     }\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/cohere/CohereService.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/cohere/CohereService.java\nindex 6dee08bc..28bb30e6 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/cohere/CohereService.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/cohere/CohereService.java\n@@ -315,7 +315,7 @@ public class CohereService extends SenderService {\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_RATE_LIMIT_SETTINGS_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/cohere/CohereServiceSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/cohere/CohereServiceSettings.java\nindex 7f28459e..a1943b33 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/cohere/CohereServiceSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/cohere/CohereServiceSettings.java\n@@ -124,7 +124,7 @@ public class CohereServiceSettings extends FilteredXContentObject implements Ser\n         maxInputTokens = in.readOptionalVInt();\n         modelId = in.readOptionalString();\n \n-        if (in.getTransportVersion().onOrAfter(TransportVersions.ML_INFERENCE_RATE_LIMIT_SETTINGS_ADDED)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             rateLimitSettings = new RateLimitSettings(in);\n         } else {\n             rateLimitSettings = DEFAULT_RATE_LIMIT_SETTINGS;\n@@ -219,7 +219,7 @@ public class CohereServiceSettings extends FilteredXContentObject implements Ser\n         out.writeOptionalVInt(maxInputTokens);\n         out.writeOptionalString(modelId);\n \n-        if (out.getTransportVersion().onOrAfter(TransportVersions.ML_INFERENCE_RATE_LIMIT_SETTINGS_ADDED)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             rateLimitSettings.writeTo(out);\n         }\n     }\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/cohere/completion/CohereCompletionServiceSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/cohere/completion/CohereCompletionServiceSettings.java\nindex ba9e81b4..be241f3a 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/cohere/completion/CohereCompletionServiceSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/cohere/completion/CohereCompletionServiceSettings.java\n@@ -114,7 +114,7 @@ public class CohereCompletionServiceSettings extends FilteredXContentObject impl\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_COHERE_COMPLETION_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/cohere/rerank/CohereRerankServiceSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/cohere/rerank/CohereRerankServiceSettings.java\nindex 1132dff3..b8b3d469 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/cohere/rerank/CohereRerankServiceSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/cohere/rerank/CohereRerankServiceSettings.java\n@@ -92,7 +92,7 @@ public class CohereRerankServiceSettings extends FilteredXContentObject implemen\n     public CohereRerankServiceSettings(StreamInput in) throws IOException {\n         this.uri = createOptionalUri(in.readOptionalString());\n \n-        if (in.getTransportVersion().before(TransportVersions.ML_INFERENCE_COHERE_UNUSED_RERANK_SETTINGS_REMOVED)) {\n+        if (in.getTransportVersion().before(TransportVersions.V_8_15_0)) {\n             // An older node sends these fields, so we need to skip them to progress through the serialized data\n             in.readOptionalEnum(SimilarityMeasure.class);\n             in.readOptionalVInt();\n@@ -101,7 +101,7 @@ public class CohereRerankServiceSettings extends FilteredXContentObject implemen\n \n         this.modelId = in.readOptionalString();\n \n-        if (in.getTransportVersion().onOrAfter(TransportVersions.ML_INFERENCE_RATE_LIMIT_SETTINGS_ADDED)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             this.rateLimitSettings = new RateLimitSettings(in);\n         } else {\n             this.rateLimitSettings = DEFAULT_RATE_LIMIT_SETTINGS;\n@@ -162,7 +162,7 @@ public class CohereRerankServiceSettings extends FilteredXContentObject implemen\n         var uriToWrite = uri != null ? uri.toString() : null;\n         out.writeOptionalString(uriToWrite);\n \n-        if (out.getTransportVersion().before(TransportVersions.ML_INFERENCE_COHERE_UNUSED_RERANK_SETTINGS_REMOVED)) {\n+        if (out.getTransportVersion().before(TransportVersions.V_8_15_0)) {\n             // An old node expects this data to be present, so we need to send at least the booleans\n             // indicating that the fields are not set\n             out.writeOptionalEnum(null);\n@@ -172,7 +172,7 @@ public class CohereRerankServiceSettings extends FilteredXContentObject implemen\n \n         out.writeOptionalString(modelId);\n \n-        if (out.getTransportVersion().onOrAfter(TransportVersions.ML_INFERENCE_RATE_LIMIT_SETTINGS_ADDED)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             rateLimitSettings.writeTo(out);\n         }\n     }\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/elastic/ElasticInferenceService.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/elastic/ElasticInferenceService.java\nindex 29d6762c..fdb2ad4c 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/elastic/ElasticInferenceService.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/elastic/ElasticInferenceService.java\n@@ -199,7 +199,7 @@ public class ElasticInferenceService extends SenderService {\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_EIS_INTEGRATION_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     private ElasticInferenceServiceModel createModelFromPersistent(\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/elastic/ElasticInferenceServiceSparseEmbeddingsServiceSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/elastic/ElasticInferenceServiceSparseEmbeddingsServiceSettings.java\nindex bbda1bb7..7c7c4d88 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/elastic/ElasticInferenceServiceSparseEmbeddingsServiceSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/elastic/ElasticInferenceServiceSparseEmbeddingsServiceSettings.java\n@@ -113,7 +113,7 @@ public class ElasticInferenceServiceSparseEmbeddingsServiceSettings extends Filt\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_EIS_INTEGRATION_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/elasticsearch/CustomElandInternalTextEmbeddingServiceSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/elasticsearch/CustomElandInternalTextEmbeddingServiceSettings.java\nindex 381c9796..133be5e2 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/elasticsearch/CustomElandInternalTextEmbeddingServiceSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/elasticsearch/CustomElandInternalTextEmbeddingServiceSettings.java\n@@ -139,7 +139,7 @@ public class CustomElandInternalTextEmbeddingServiceSettings extends Elasticsear\n \n     public CustomElandInternalTextEmbeddingServiceSettings(StreamInput in) throws IOException {\n         super(in);\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.ML_INFERENCE_ELAND_SETTINGS_ADDED)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             dimensions = in.readOptionalVInt();\n             similarityMeasure = in.readEnum(SimilarityMeasure.class);\n             elementType = in.readEnum(DenseVectorFieldMapper.ElementType.class);\n@@ -197,7 +197,7 @@ public class CustomElandInternalTextEmbeddingServiceSettings extends Elasticsear\n     public void writeTo(StreamOutput out) throws IOException {\n         super.writeTo(out);\n \n-        if (out.getTransportVersion().onOrAfter(TransportVersions.ML_INFERENCE_ELAND_SETTINGS_ADDED)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeOptionalVInt(dimensions);\n             out.writeEnum(similarityMeasure);\n             out.writeEnum(elementType);\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/elasticsearch/ElasticsearchInternalServiceSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/elasticsearch/ElasticsearchInternalServiceSettings.java\nindex 5bd8d8cf..945f54d8 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/elasticsearch/ElasticsearchInternalServiceSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/elasticsearch/ElasticsearchInternalServiceSettings.java\n@@ -157,34 +157,34 @@ public class ElasticsearchInternalServiceSettings implements ServiceSettings {\n     }\n \n     public ElasticsearchInternalServiceSettings(StreamInput in) throws IOException {\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.INFERENCE_ADAPTIVE_ALLOCATIONS)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             this.numAllocations = in.readOptionalVInt();\n         } else {\n             this.numAllocations = in.readVInt();\n         }\n         this.numThreads = in.readVInt();\n         this.modelId = in.readString();\n-        this.adaptiveAllocationsSettings = in.getTransportVersion().onOrAfter(TransportVersions.INFERENCE_ADAPTIVE_ALLOCATIONS)\n+        this.adaptiveAllocationsSettings = in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)\n             ? in.readOptionalWriteable(AdaptiveAllocationsSettings::new)\n             : null;\n-        this.deploymentId = in.getTransportVersion().onOrAfter(TransportVersions.ML_INFERENCE_ATTACH_TO_EXISTSING_DEPLOYMENT)\n+        this.deploymentId = in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)\n             ? in.readOptionalString()\n             : null;\n     }\n \n     @Override\n     public void writeTo(StreamOutput out) throws IOException {\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.INFERENCE_ADAPTIVE_ALLOCATIONS)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeOptionalVInt(getNumAllocations());\n         } else {\n             out.writeVInt(getNumAllocations());\n         }\n         out.writeVInt(getNumThreads());\n         out.writeString(modelId());\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.INFERENCE_ADAPTIVE_ALLOCATIONS)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeOptionalWriteable(getAdaptiveAllocationsSettings());\n         }\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.ML_INFERENCE_ATTACH_TO_EXISTSING_DEPLOYMENT)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeOptionalString(deploymentId);\n         }\n     }\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googleaistudio/GoogleAiStudioService.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googleaistudio/GoogleAiStudioService.java\nindex dfd7531f..46522ffc 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googleaistudio/GoogleAiStudioService.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googleaistudio/GoogleAiStudioService.java\n@@ -212,7 +212,7 @@ public class GoogleAiStudioService extends SenderService {\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_GOOGLE_AI_STUDIO_COMPLETION_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googleaistudio/completion/GoogleAiStudioCompletionServiceSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googleaistudio/completion/GoogleAiStudioCompletionServiceSettings.java\nindex 7c0b812e..676fec13 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googleaistudio/completion/GoogleAiStudioCompletionServiceSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googleaistudio/completion/GoogleAiStudioCompletionServiceSettings.java\n@@ -102,7 +102,7 @@ public class GoogleAiStudioCompletionServiceSettings extends FilteredXContentObj\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_GOOGLE_AI_STUDIO_COMPLETION_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googleaistudio/embeddings/GoogleAiStudioEmbeddingsServiceSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googleaistudio/embeddings/GoogleAiStudioEmbeddingsServiceSettings.java\nindex 7608f48d..2ddf8efc 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googleaistudio/embeddings/GoogleAiStudioEmbeddingsServiceSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googleaistudio/embeddings/GoogleAiStudioEmbeddingsServiceSettings.java\n@@ -154,7 +154,7 @@ public class GoogleAiStudioEmbeddingsServiceSettings extends FilteredXContentObj\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_GOOGLE_AI_STUDIO_EMBEDDINGS_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googlevertexai/GoogleVertexAiSecretSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googlevertexai/GoogleVertexAiSecretSettings.java\nindex 20dbadb9..44e16fa0 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googlevertexai/GoogleVertexAiSecretSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googlevertexai/GoogleVertexAiSecretSettings.java\n@@ -82,7 +82,7 @@ public class GoogleVertexAiSecretSettings implements SecretSettings {\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_GOOGLE_VERTEX_AI_EMBEDDINGS_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googlevertexai/GoogleVertexAiService.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googlevertexai/GoogleVertexAiService.java\nindex 209b54b4..fba270b7 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googlevertexai/GoogleVertexAiService.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googlevertexai/GoogleVertexAiService.java\n@@ -150,7 +150,7 @@ public class GoogleVertexAiService extends SenderService {\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_GOOGLE_VERTEX_AI_EMBEDDINGS_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googlevertexai/embeddings/GoogleVertexAiEmbeddingsServiceSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googlevertexai/embeddings/GoogleVertexAiEmbeddingsServiceSettings.java\nindex 097ce624..32c3008a 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googlevertexai/embeddings/GoogleVertexAiEmbeddingsServiceSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googlevertexai/embeddings/GoogleVertexAiEmbeddingsServiceSettings.java\n@@ -215,7 +215,7 @@ public class GoogleVertexAiEmbeddingsServiceSettings extends FilteredXContentObj\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_GOOGLE_VERTEX_AI_EMBEDDINGS_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googlevertexai/embeddings/GoogleVertexAiEmbeddingsTaskSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googlevertexai/embeddings/GoogleVertexAiEmbeddingsTaskSettings.java\nindex b7242100..dcdbbda3 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googlevertexai/embeddings/GoogleVertexAiEmbeddingsTaskSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googlevertexai/embeddings/GoogleVertexAiEmbeddingsTaskSettings.java\n@@ -78,7 +78,7 @@ public class GoogleVertexAiEmbeddingsTaskSettings implements TaskSettings {\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_GOOGLE_VERTEX_AI_EMBEDDINGS_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googlevertexai/rerank/GoogleVertexAiRerankServiceSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googlevertexai/rerank/GoogleVertexAiRerankServiceSettings.java\nindex 431f704c..d123d14b 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googlevertexai/rerank/GoogleVertexAiRerankServiceSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googlevertexai/rerank/GoogleVertexAiRerankServiceSettings.java\n@@ -99,7 +99,7 @@ public class GoogleVertexAiRerankServiceSettings extends FilteredXContentObject\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_GOOGLE_VERTEX_AI_RERANKING_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googlevertexai/rerank/GoogleVertexAiRerankTaskSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googlevertexai/rerank/GoogleVertexAiRerankTaskSettings.java\nindex 64bec7e6..0bc3df58 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googlevertexai/rerank/GoogleVertexAiRerankTaskSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/googlevertexai/rerank/GoogleVertexAiRerankTaskSettings.java\n@@ -75,7 +75,7 @@ public class GoogleVertexAiRerankTaskSettings implements TaskSettings {\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_GOOGLE_VERTEX_AI_RERANKING_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/huggingface/HuggingFaceService.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/huggingface/HuggingFaceService.java\nindex 81069f90..ed36e602 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/huggingface/HuggingFaceService.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/huggingface/HuggingFaceService.java\n@@ -134,6 +134,6 @@ public class HuggingFaceService extends HuggingFaceBaseService {\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_RATE_LIMIT_SETTINGS_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n }\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/huggingface/HuggingFaceServiceSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/huggingface/HuggingFaceServiceSettings.java\nindex c136e73a..74291538 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/huggingface/HuggingFaceServiceSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/huggingface/HuggingFaceServiceSettings.java\n@@ -120,7 +120,7 @@ public class HuggingFaceServiceSettings extends FilteredXContentObject implement\n             maxInputTokens = null;\n         }\n \n-        if (in.getTransportVersion().onOrAfter(TransportVersions.ML_INFERENCE_RATE_LIMIT_SETTINGS_ADDED)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             rateLimitSettings = new RateLimitSettings(in);\n         } else {\n             rateLimitSettings = DEFAULT_RATE_LIMIT_SETTINGS;\n@@ -171,7 +171,7 @@ public class HuggingFaceServiceSettings extends FilteredXContentObject implement\n             out.writeOptionalVInt(maxInputTokens);\n         }\n \n-        if (out.getTransportVersion().onOrAfter(TransportVersions.ML_INFERENCE_RATE_LIMIT_SETTINGS_ADDED)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             rateLimitSettings.writeTo(out);\n         }\n     }\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/huggingface/elser/HuggingFaceElserServiceSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/huggingface/elser/HuggingFaceElserServiceSettings.java\nindex b48e7186..be5f595d 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/huggingface/elser/HuggingFaceElserServiceSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/huggingface/elser/HuggingFaceElserServiceSettings.java\n@@ -76,7 +76,7 @@ public class HuggingFaceElserServiceSettings extends FilteredXContentObject\n     public HuggingFaceElserServiceSettings(StreamInput in) throws IOException {\n         uri = createUri(in.readString());\n \n-        if (in.getTransportVersion().onOrAfter(TransportVersions.ML_INFERENCE_RATE_LIMIT_SETTINGS_ADDED)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             rateLimitSettings = new RateLimitSettings(in);\n         } else {\n             rateLimitSettings = DEFAULT_RATE_LIMIT_SETTINGS;\n@@ -134,7 +134,7 @@ public class HuggingFaceElserServiceSettings extends FilteredXContentObject\n     public void writeTo(StreamOutput out) throws IOException {\n         out.writeString(uri.toString());\n \n-        if (out.getTransportVersion().onOrAfter(TransportVersions.ML_INFERENCE_RATE_LIMIT_SETTINGS_ADDED)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             rateLimitSettings.writeTo(out);\n         }\n     }\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/ibmwatsonx/IbmWatsonxService.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/ibmwatsonx/IbmWatsonxService.java\nindex ee88eb62..4727da32 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/ibmwatsonx/IbmWatsonxService.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/ibmwatsonx/IbmWatsonxService.java\n@@ -171,7 +171,7 @@ public class IbmWatsonxService extends SenderService {\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_IBM_WATSONX_EMBEDDINGS_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/ibmwatsonx/embeddings/IbmWatsonxEmbeddingsServiceSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/ibmwatsonx/embeddings/IbmWatsonxEmbeddingsServiceSettings.java\nindex 53d5c6c8..d6caae58 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/ibmwatsonx/embeddings/IbmWatsonxEmbeddingsServiceSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/ibmwatsonx/embeddings/IbmWatsonxEmbeddingsServiceSettings.java\n@@ -207,7 +207,7 @@ public class IbmWatsonxEmbeddingsServiceSettings extends FilteredXContentObject\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_IBM_WATSONX_EMBEDDINGS_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/mistral/MistralService.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/mistral/MistralService.java\nindex 45914542..bda9d254 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/mistral/MistralService.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/mistral/MistralService.java\n@@ -40,7 +40,7 @@ import org.elasticsearch.xpack.inference.services.validation.ModelValidatorBuild\n import java.util.List;\n import java.util.Map;\n \n-import static org.elasticsearch.TransportVersions.ADD_MISTRAL_EMBEDDINGS_INFERENCE;\n+import static org.elasticsearch.TransportVersions.V_8_15_0;\n import static org.elasticsearch.xpack.inference.services.ServiceUtils.createInvalidModelException;\n import static org.elasticsearch.xpack.inference.services.ServiceUtils.parsePersistedConfigErrorMsg;\n import static org.elasticsearch.xpack.inference.services.ServiceUtils.removeFromMapOrDefaultEmpty;\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/mistral/embeddings/MistralEmbeddingsServiceSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/mistral/embeddings/MistralEmbeddingsServiceSettings.java\nindex 3310b862..6dead230 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/mistral/embeddings/MistralEmbeddingsServiceSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/mistral/embeddings/MistralEmbeddingsServiceSettings.java\n@@ -26,7 +26,7 @@ import java.io.IOException;\n import java.util.Map;\n import java.util.Objects;\n \n-import static org.elasticsearch.TransportVersions.ADD_MISTRAL_EMBEDDINGS_INFERENCE;\n+import static org.elasticsearch.TransportVersions.V_8_15_0;\n import static org.elasticsearch.xpack.inference.services.ServiceFields.DIMENSIONS;\n import static org.elasticsearch.xpack.inference.services.ServiceFields.MAX_INPUT_TOKENS;\n import static org.elasticsearch.xpack.inference.services.ServiceFields.SIMILARITY;\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/openai/OpenAiService.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/openai/OpenAiService.java\nindex 6ad8ef4e..7b8975f6 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/openai/OpenAiService.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/openai/OpenAiService.java\n@@ -302,7 +302,7 @@ public class OpenAiService extends SenderService {\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.ML_INFERENCE_RATE_LIMIT_SETTINGS_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/openai/completion/OpenAiChatCompletionServiceSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/openai/completion/OpenAiChatCompletionServiceSettings.java\nindex 96436996..88840cc1 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/openai/completion/OpenAiChatCompletionServiceSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/openai/completion/OpenAiChatCompletionServiceSettings.java\n@@ -119,7 +119,7 @@ public class OpenAiChatCompletionServiceSettings extends FilteredXContentObject\n         this.organizationId = in.readOptionalString();\n         this.maxInputTokens = in.readOptionalVInt();\n \n-        if (in.getTransportVersion().onOrAfter(TransportVersions.ML_INFERENCE_RATE_LIMIT_SETTINGS_ADDED)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             rateLimitSettings = new RateLimitSettings(in);\n         } else {\n             rateLimitSettings = DEFAULT_RATE_LIMIT_SETTINGS;\n@@ -197,7 +197,7 @@ public class OpenAiChatCompletionServiceSettings extends FilteredXContentObject\n         out.writeOptionalString(organizationId);\n         out.writeOptionalVInt(maxInputTokens);\n \n-        if (out.getTransportVersion().onOrAfter(TransportVersions.ML_INFERENCE_RATE_LIMIT_SETTINGS_ADDED)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             rateLimitSettings.writeTo(out);\n         }\n     }\ndiff --git a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/openai/embeddings/OpenAiEmbeddingsServiceSettings.java b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/openai/embeddings/OpenAiEmbeddingsServiceSettings.java\nindex 940f78bc..4bb87f41 100644\n--- a/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/openai/embeddings/OpenAiEmbeddingsServiceSettings.java\n+++ b/x-pack/plugin/inference/src/main/java/org/elasticsearch/xpack/inference/services/openai/embeddings/OpenAiEmbeddingsServiceSettings.java\n@@ -202,7 +202,7 @@ public class OpenAiEmbeddingsServiceSettings extends FilteredXContentObject impl\n             modelId = \"unset\";\n         }\n \n-        if (in.getTransportVersion().onOrAfter(TransportVersions.ML_INFERENCE_RATE_LIMIT_SETTINGS_ADDED)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             rateLimitSettings = new RateLimitSettings(in);\n         } else {\n             rateLimitSettings = DEFAULT_RATE_LIMIT_SETTINGS;\n@@ -330,7 +330,7 @@ public class OpenAiEmbeddingsServiceSettings extends FilteredXContentObject impl\n             out.writeString(modelId);\n         }\n \n-        if (out.getTransportVersion().onOrAfter(TransportVersions.ML_INFERENCE_RATE_LIMIT_SETTINGS_ADDED)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             rateLimitSettings.writeTo(out);\n         }\n     }\ndiff --git a/x-pack/plugin/inference/src/test/java/org/elasticsearch/xpack/inference/services/cohere/rerank/CohereRerankServiceSettingsTests.java b/x-pack/plugin/inference/src/test/java/org/elasticsearch/xpack/inference/services/cohere/rerank/CohereRerankServiceSettingsTests.java\nindex a729ac8e..e3401b74 100644\n--- a/x-pack/plugin/inference/src/test/java/org/elasticsearch/xpack/inference/services/cohere/rerank/CohereRerankServiceSettingsTests.java\n+++ b/x-pack/plugin/inference/src/test/java/org/elasticsearch/xpack/inference/services/cohere/rerank/CohereRerankServiceSettingsTests.java\n@@ -78,7 +78,7 @@ public class CohereRerankServiceSettingsTests extends AbstractBWCWireSerializati\n \n     @Override\n     protected CohereRerankServiceSettings mutateInstanceForVersion(CohereRerankServiceSettings instance, TransportVersion version) {\n-        if (version.before(TransportVersions.ML_INFERENCE_RATE_LIMIT_SETTINGS_ADDED)) {\n+        if (version.before(TransportVersions.V_8_15_0)) {\n             // We always default to the same rate limit settings, if a node is on a version before rate limits were introduced\n             return new CohereRerankServiceSettings(instance.uri(), instance.modelId(), CohereServiceSettings.DEFAULT_RATE_LIMIT_SETTINGS);\n         }\ndiff --git a/x-pack/plugin/ml/src/main/java/org/elasticsearch/xpack/ml/action/TransportTrainedModelCacheInfoAction.java b/x-pack/plugin/ml/src/main/java/org/elasticsearch/xpack/ml/action/TransportTrainedModelCacheInfoAction.java\nindex af7e1869..805b1adf 100644\n--- a/x-pack/plugin/ml/src/main/java/org/elasticsearch/xpack/ml/action/TransportTrainedModelCacheInfoAction.java\n+++ b/x-pack/plugin/ml/src/main/java/org/elasticsearch/xpack/ml/action/TransportTrainedModelCacheInfoAction.java\n@@ -95,7 +95,7 @@ public class TransportTrainedModelCacheInfoAction extends TransportNodesAction<\n \n         public NodeModelCacheInfoRequest(StreamInput in) throws IOException {\n             super(in);\n-            skipLegacyNodesRequestHeader(TransportVersions.DROP_UNUSED_NODES_REQUESTS, in);\n+            skipLegacyNodesRequestHeader(TransportVersions.V_8_15_0, in);\n         }\n \n         @Override\n@@ -106,7 +106,7 @@ public class TransportTrainedModelCacheInfoAction extends TransportNodesAction<\n         @Override\n         public void writeTo(StreamOutput out) throws IOException {\n             super.writeTo(out);\n-            sendLegacyNodesRequestHeader(TransportVersions.DROP_UNUSED_NODES_REQUESTS, out);\n+            sendLegacyNodesRequestHeader(TransportVersions.V_8_15_0, out);\n         }\n     }\n }\ndiff --git a/x-pack/plugin/ml/src/main/java/org/elasticsearch/xpack/ml/inference/ltr/LearningToRankRescorerBuilder.java b/x-pack/plugin/ml/src/main/java/org/elasticsearch/xpack/ml/inference/ltr/LearningToRankRescorerBuilder.java\nindex 46edcf1f..983df587 100644\n--- a/x-pack/plugin/ml/src/main/java/org/elasticsearch/xpack/ml/inference/ltr/LearningToRankRescorerBuilder.java\n+++ b/x-pack/plugin/ml/src/main/java/org/elasticsearch/xpack/ml/inference/ltr/LearningToRankRescorerBuilder.java\n@@ -304,7 +304,7 @@ public class LearningToRankRescorerBuilder extends RescorerBuilder<LearningToRan\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.LTR_SERVERLESS_RELEASE;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     @Override\ndiff --git a/x-pack/plugin/ml/src/main/java/org/elasticsearch/xpack/ml/queries/SparseVectorQueryBuilder.java b/x-pack/plugin/ml/src/main/java/org/elasticsearch/xpack/ml/queries/SparseVectorQueryBuilder.java\nindex cb858940..5a63ad8e 100644\n--- a/x-pack/plugin/ml/src/main/java/org/elasticsearch/xpack/ml/queries/SparseVectorQueryBuilder.java\n+++ b/x-pack/plugin/ml/src/main/java/org/elasticsearch/xpack/ml/queries/SparseVectorQueryBuilder.java\n@@ -310,7 +310,7 @@ public class SparseVectorQueryBuilder extends AbstractQueryBuilder<SparseVectorQ\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.SPARSE_VECTOR_QUERY_ADDED;\n+        return TransportVersions.V_8_15_0;\n     }\n \n     private static final ConstructingObjectParser<SparseVectorQueryBuilder, Void> PARSER = new ConstructingObjectParser<>(NAME, a -> {\ndiff --git a/x-pack/plugin/rank-rrf/src/main/java/org/elasticsearch/xpack/rank/rrf/RRFRankDoc.java b/x-pack/plugin/rank-rrf/src/main/java/org/elasticsearch/xpack/rank/rrf/RRFRankDoc.java\nindex 4cd10801..f2d1d088 100644\n--- a/x-pack/plugin/rank-rrf/src/main/java/org/elasticsearch/xpack/rank/rrf/RRFRankDoc.java\n+++ b/x-pack/plugin/rank-rrf/src/main/java/org/elasticsearch/xpack/rank/rrf/RRFRankDoc.java\n@@ -62,7 +62,7 @@ public final class RRFRankDoc extends RankDoc {\n         rank = in.readVInt();\n         positions = in.readIntArray();\n         scores = in.readFloatArray();\n-        if (in.getTransportVersion().onOrAfter(TransportVersions.RRF_QUERY_REWRITE)) {\n+        if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             this.rankConstant = in.readVInt();\n         } else {\n             this.rankConstant = DEFAULT_RANK_CONSTANT;\n@@ -119,7 +119,7 @@ public final class RRFRankDoc extends RankDoc {\n         out.writeVInt(rank);\n         out.writeIntArray(positions);\n         out.writeFloatArray(scores);\n-        if (out.getTransportVersion().onOrAfter(TransportVersions.RRF_QUERY_REWRITE)) {\n+        if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             out.writeVInt(rankConstant);\n         }\n     }\n@@ -173,6 +173,6 @@ public final class RRFRankDoc extends RankDoc {\n \n     @Override\n     public TransportVersion getMinimalSupportedVersion() {\n-        return TransportVersions.RRF_QUERY_REWRITE;\n+        return TransportVersions.V_8_15_0;\n     }\n }\ndiff --git a/x-pack/plugin/security/src/main/java/org/elasticsearch/xpack/security/authc/ApiKeyService.java b/x-pack/plugin/security/src/main/java/org/elasticsearch/xpack/security/authc/ApiKeyService.java\nindex 90566e25..d74ff43a 100644\n--- a/x-pack/plugin/security/src/main/java/org/elasticsearch/xpack/security/authc/ApiKeyService.java\n+++ b/x-pack/plugin/security/src/main/java/org/elasticsearch/xpack/security/authc/ApiKeyService.java\n@@ -138,8 +138,8 @@ import java.util.function.Function;\n import java.util.function.Supplier;\n import java.util.stream.Collectors;\n \n-import static org.elasticsearch.TransportVersions.ADD_MANAGE_ROLES_PRIVILEGE;\n-import static org.elasticsearch.TransportVersions.ROLE_REMOTE_CLUSTER_PRIVS;\n+import static org.elasticsearch.TransportVersions.V_8_15_0;\n+import static org.elasticsearch.TransportVersions.V_8_15_0;\n import static org.elasticsearch.core.Strings.format;\n import static org.elasticsearch.search.SearchService.DEFAULT_KEEPALIVE_SETTING;\n import static org.elasticsearch.transport.RemoteClusterPortSettings.TRANSPORT_VERSION_ADVANCED_REMOTE_CLUSTER_SECURITY;\ndiff --git a/x-pack/plugin/security/src/main/java/org/elasticsearch/xpack/security/authz/store/NativeRolesStore.java b/x-pack/plugin/security/src/main/java/org/elasticsearch/xpack/security/authz/store/NativeRolesStore.java\nindex 9ddda193..ff6196eb 100644\n--- a/x-pack/plugin/security/src/main/java/org/elasticsearch/xpack/security/authz/store/NativeRolesStore.java\n+++ b/x-pack/plugin/security/src/main/java/org/elasticsearch/xpack/security/authz/store/NativeRolesStore.java\n@@ -81,7 +81,7 @@ import java.util.Set;\n import java.util.function.BiConsumer;\n import java.util.function.Supplier;\n \n-import static org.elasticsearch.TransportVersions.ROLE_REMOTE_CLUSTER_PRIVS;\n+import static org.elasticsearch.TransportVersions.V_8_15_0;\n import static org.elasticsearch.action.ValidateActions.addValidationError;\n import static org.elasticsearch.index.query.QueryBuilders.existsQuery;\n import static org.elasticsearch.search.SearchService.DEFAULT_KEEPALIVE_SETTING;\n@@ -471,18 +471,18 @@ public class NativeRolesStore implements BiConsumer<Set<String>, ActionListener<\n                         \"all nodes must have version [\" + ROLE_REMOTE_CLUSTER_PRIVS + \"] or higher to support remote cluster privileges\"\n                     );\n                 } else if (role.hasDescription()\n-                    && clusterService.state().getMinTransportVersion().before(TransportVersions.SECURITY_ROLE_DESCRIPTION)) {\n+                    && clusterService.state().getMinTransportVersion().before(TransportVersions.V_8_15_0)) {\n                         return new IllegalStateException(\n                             \"all nodes must have version [\"\n-                                + TransportVersions.SECURITY_ROLE_DESCRIPTION.toReleaseVersion()\n+                                + TransportVersions.V_8_15_0.toReleaseVersion()\n                                 + \"] or higher to support specifying role description\"\n                         );\n                     } else if (Arrays.stream(role.getConditionalClusterPrivileges())\n                         .anyMatch(privilege -> privilege instanceof ConfigurableClusterPrivileges.ManageRolesPrivilege)\n-                        && clusterService.state().getMinTransportVersion().before(TransportVersions.ADD_MANAGE_ROLES_PRIVILEGE)) {\n+                        && clusterService.state().getMinTransportVersion().before(TransportVersions.V_8_15_0)) {\n                             return new IllegalStateException(\n                                 \"all nodes must have version [\"\n-                                    + TransportVersions.ADD_MANAGE_ROLES_PRIVILEGE.toReleaseVersion()\n+                                    + TransportVersions.V_8_15_0.toReleaseVersion()\n                                     + \"] or higher to support the manage roles privilege\"\n                             );\n                         }\n@@ -646,7 +646,7 @@ public class NativeRolesStore implements BiConsumer<Set<String>, ActionListener<\n             builder.array(RoleDescriptor.Fields.REMOTE_CLUSTER.getPreferredName(), RemoteClusterPermissions.NONE);\n         }\n         if (role.hasDescription() == false\n-            && clusterService.state().getMinTransportVersion().onOrAfter(TransportVersions.SECURITY_ROLE_DESCRIPTION)) {\n+            && clusterService.state().getMinTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n             builder.field(RoleDescriptor.Fields.DESCRIPTION.getPreferredName(), \"\");\n         }\n \ndiff --git a/x-pack/plugin/security/src/test/java/org/elasticsearch/xpack/security/authc/ApiKeyServiceTests.java b/x-pack/plugin/security/src/test/java/org/elasticsearch/xpack/security/authc/ApiKeyServiceTests.java\nindex fa6eb307..c872d9c1 100644\n--- a/x-pack/plugin/security/src/test/java/org/elasticsearch/xpack/security/authc/ApiKeyServiceTests.java\n+++ b/x-pack/plugin/security/src/test/java/org/elasticsearch/xpack/security/authc/ApiKeyServiceTests.java\n@@ -158,7 +158,7 @@ import java.util.stream.Collectors;\n import java.util.stream.IntStream;\n import java.util.stream.LongStream;\n \n-import static org.elasticsearch.TransportVersions.ROLE_REMOTE_CLUSTER_PRIVS;\n+import static org.elasticsearch.TransportVersions.V_8_15_0;\n import static org.elasticsearch.index.seqno.SequenceNumbers.UNASSIGNED_PRIMARY_TERM;\n import static org.elasticsearch.index.seqno.SequenceNumbers.UNASSIGNED_SEQ_NO;\n import static org.elasticsearch.test.ActionListenerUtils.anyActionListener;\ndiff --git a/x-pack/plugin/security/src/test/java/org/elasticsearch/xpack/security/authz/store/NativeRolesStoreTests.java b/x-pack/plugin/security/src/test/java/org/elasticsearch/xpack/security/authz/store/NativeRolesStoreTests.java\nindex bfa358d0..eb4f2dc1 100644\n--- a/x-pack/plugin/security/src/test/java/org/elasticsearch/xpack/security/authz/store/NativeRolesStoreTests.java\n+++ b/x-pack/plugin/security/src/test/java/org/elasticsearch/xpack/security/authz/store/NativeRolesStoreTests.java\n@@ -488,7 +488,7 @@ public class NativeRolesStoreTests extends ESTestCase {\n             switch (testMode) {\n                 case REMOTE_CLUSTER_PRIVS -> {\n                     transportVersionBeforeAdvancedRemoteClusterSecurity = TransportVersionUtils.getPreviousVersion(\n-                        TransportVersions.ROLE_REMOTE_CLUSTER_PRIVS\n+                        TransportVersions.V_8_15_0\n                     );\n                     remoteIndicesPrivileges = null;\n                 }\n@@ -549,7 +549,7 @@ public class NativeRolesStoreTests extends ESTestCase {\n                 containsString(\n                     \"all nodes must have version [\"\n                         + (TEST_MODE.REMOTE_CLUSTER_PRIVS.equals(testMode)\n-                            ? TransportVersions.ROLE_REMOTE_CLUSTER_PRIVS\n+                            ? TransportVersions.V_8_15_0\n                             : TRANSPORT_VERSION_ADVANCED_REMOTE_CLUSTER_SECURITY.toReleaseVersion())\n                         + \"] or higher to support remote \"\n                         + (remoteIndicesPrivileges != null ? \"indices\" : \"cluster\")\ndiff --git a/x-pack/plugin/shutdown/src/main/java/org/elasticsearch/xpack/shutdown/GetShutdownStatusAction.java b/x-pack/plugin/shutdown/src/main/java/org/elasticsearch/xpack/shutdown/GetShutdownStatusAction.java\nindex 7e5498a7..a5c811e2 100644\n--- a/x-pack/plugin/shutdown/src/main/java/org/elasticsearch/xpack/shutdown/GetShutdownStatusAction.java\n+++ b/x-pack/plugin/shutdown/src/main/java/org/elasticsearch/xpack/shutdown/GetShutdownStatusAction.java\n@@ -52,7 +52,7 @@ public class GetShutdownStatusAction extends ActionType<GetShutdownStatusAction.\n \n         @UpdateForV9 // only needed for bwc, inline in v9\n         public static Request readFrom(StreamInput in) throws IOException {\n-            if (in.getTransportVersion().onOrAfter(TransportVersions.GET_SHUTDOWN_STATUS_TIMEOUT)) {\n+            if (in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 return new Request(in);\n             } else {\n                 return new Request(TimeValue.THIRTY_SECONDS, in);\n@@ -61,20 +61,20 @@ public class GetShutdownStatusAction extends ActionType<GetShutdownStatusAction.\n \n         private Request(StreamInput in) throws IOException {\n             super(in);\n-            assert in.getTransportVersion().onOrAfter(TransportVersions.GET_SHUTDOWN_STATUS_TIMEOUT);\n+            assert in.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0);\n             nodeIds = in.readStringArray();\n         }\n \n         @UpdateForV9 // only needed for bwc, remove in v9\n         private Request(TimeValue masterNodeTimeout, StreamInput in) throws IOException {\n             super(masterNodeTimeout);\n-            assert in.getTransportVersion().before(TransportVersions.GET_SHUTDOWN_STATUS_TIMEOUT);\n+            assert in.getTransportVersion().before(TransportVersions.V_8_15_0);\n             nodeIds = in.readStringArray();\n         }\n \n         @Override\n         public void writeTo(StreamOutput out) throws IOException {\n-            if (out.getTransportVersion().onOrAfter(TransportVersions.GET_SHUTDOWN_STATUS_TIMEOUT)) {\n+            if (out.getTransportVersion().onOrAfter(TransportVersions.V_8_15_0)) {\n                 super.writeTo(out);\n             }\n             out.writeStringArray(this.nodeIds);\ndiff --git a/x-pack/plugin/shutdown/src/main/java/org/elasticsearch/xpack/shutdown/ShutdownPlugin.java b/x-pack/plugin/shutdown/src/main/java/org/elasticsearch/xpack/shutdown/ShutdownPlugin.java\nindex 621836ce..dd92564d 100644\n--- a/x-pack/plugin/shutdown/src/main/java/org/elasticsearch/xpack/shutdown/ShutdownPlugin.java\n+++ b/x-pack/plugin/shutdown/src/main/java/org/elasticsearch/xpack/shutdown/ShutdownPlugin.java\n@@ -77,6 +77,6 @@ public class ShutdownPlugin extends Plugin implements ActionPlugin {\n     static boolean serializesWithParentTaskAndTimeouts(TransportVersion transportVersion) {\n         return transportVersion.isPatchFrom(TransportVersions.V_8_13_4)\n             || transportVersion.isPatchFrom(TransportVersions.V_8_14_0)\n-            || transportVersion.onOrAfter(TransportVersions.SHUTDOWN_REQUEST_TIMEOUTS_FIX);\n+            || transportVersion.onOrAfter(TransportVersions.V_8_15_0);\n     }\n }\ndiff --git a/x-pack/qa/rolling-upgrade/src/test/java/org/elasticsearch/upgrades/RolesBackwardsCompatibilityIT.java b/x-pack/qa/rolling-upgrade/src/test/java/org/elasticsearch/upgrades/RolesBackwardsCompatibilityIT.java\nindex 650779cf..6d0c2185 100644\n--- a/x-pack/qa/rolling-upgrade/src/test/java/org/elasticsearch/upgrades/RolesBackwardsCompatibilityIT.java\n+++ b/x-pack/qa/rolling-upgrade/src/test/java/org/elasticsearch/upgrades/RolesBackwardsCompatibilityIT.java\n@@ -43,8 +43,8 @@ public class RolesBackwardsCompatibilityIT extends AbstractUpgradeTestCase {\n \n     public void testRolesWithDescription() throws Exception {\n         assumeTrue(\n-            \"The role description is supported after transport version: \" + TransportVersions.SECURITY_ROLE_DESCRIPTION,\n-            minimumTransportVersion().before(TransportVersions.SECURITY_ROLE_DESCRIPTION)\n+            \"The role description is supported after transport version: \" + TransportVersions.V_8_15_0,\n+            minimumTransportVersion().before(TransportVersions.V_8_15_0)\n         );\n         switch (CLUSTER_TYPE) {\n             case OLD -> {\n@@ -75,7 +75,7 @@ public class RolesBackwardsCompatibilityIT extends AbstractUpgradeTestCase {\n             }\n             case MIXED -> {\n                 try {\n-                    this.createClientsByVersion(TransportVersions.SECURITY_ROLE_DESCRIPTION);\n+                    this.createClientsByVersion(TransportVersions.V_8_15_0);\n                     // succeed when role description is not provided\n                     final String initialRole = randomRoleDescriptorSerialized();\n                     createRole(client(), \"my-valid-mixed-role\", initialRole);\n@@ -116,7 +116,7 @@ public class RolesBackwardsCompatibilityIT extends AbstractUpgradeTestCase {\n                             e.getMessage(),\n                             containsString(\n                                 \"all nodes must have version [\"\n-                                    + TransportVersions.SECURITY_ROLE_DESCRIPTION.toReleaseVersion()\n+                                    + TransportVersions.V_8_15_0.toReleaseVersion()\n                                     + \"] or higher to support specifying role description\"\n                             )\n                         );\n@@ -130,7 +130,7 @@ public class RolesBackwardsCompatibilityIT extends AbstractUpgradeTestCase {\n                             e.getMessage(),\n                             containsString(\n                                 \"all nodes must have version [\"\n-                                    + TransportVersions.SECURITY_ROLE_DESCRIPTION.toReleaseVersion()\n+                                    + TransportVersions.V_8_15_0.toReleaseVersion()\n                                     + \"] or higher to support specifying role description\"\n                             )\n                         );\n@@ -157,8 +157,8 @@ public class RolesBackwardsCompatibilityIT extends AbstractUpgradeTestCase {\n \n     public void testRolesWithManageRoles() throws Exception {\n         assumeTrue(\n-            \"The manage roles privilege is supported after transport version: \" + TransportVersions.ADD_MANAGE_ROLES_PRIVILEGE,\n-            minimumTransportVersion().before(TransportVersions.ADD_MANAGE_ROLES_PRIVILEGE)\n+            \"The manage roles privilege is supported after transport version: \" + TransportVersions.V_8_15_0,\n+            minimumTransportVersion().before(TransportVersions.V_8_15_0)\n         );\n         switch (CLUSTER_TYPE) {\n             case OLD -> {\n@@ -189,7 +189,7 @@ public class RolesBackwardsCompatibilityIT extends AbstractUpgradeTestCase {\n             }\n             case MIXED -> {\n                 try {\n-                    this.createClientsByVersion(TransportVersions.ADD_MANAGE_ROLES_PRIVILEGE);\n+                    this.createClientsByVersion(TransportVersions.V_8_15_0);\n                     // succeed when role manage roles is not provided\n                     final String initialRole = randomRoleDescriptorSerialized();\n                     createRole(client(), \"my-valid-mixed-role\", initialRole);\n@@ -231,7 +231,7 @@ public class RolesBackwardsCompatibilityIT extends AbstractUpgradeTestCase {\n                             e.getMessage(),\n                             containsString(\n                                 \"all nodes must have version [\"\n-                                    + TransportVersions.ADD_MANAGE_ROLES_PRIVILEGE.toReleaseVersion()\n+                                    + TransportVersions.V_8_15_0.toReleaseVersion()\n                                     + \"] or higher to support the manage roles privilege\"\n                             )\n                         );\n@@ -245,7 +245,7 @@ public class RolesBackwardsCompatibilityIT extends AbstractUpgradeTestCase {\n                             e.getMessage(),\n                             containsString(\n                                 \"all nodes must have version [\"\n-                                    + TransportVersions.ADD_MANAGE_ROLES_PRIVILEGE.toReleaseVersion()\n+                                    + TransportVersions.V_8_15_0.toReleaseVersion()\n                                     + \"] or higher to support the manage roles privilege\"\n                             )\n                         );",
  "logs_path": "auggie/sonnet4.5/03b0067a/elastic_elasticsearch_pr114971/logs.jsonl",
  "errors": [],
  "edit_run_id": "03b0067a",
  "test_label": "v0"
}