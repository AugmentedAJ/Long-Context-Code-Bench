{
  "repo_url": "https://github.com/elastic/elasticsearch.git",
  "pr_number": 114917,
  "base_commit": "f4eba6279bb8e5f98862975dde2abc83d84b15db",
  "head_commit": "0b51fd943b79aa751fa411602bca4b8148a9dde4",
  "task_instructions": "You are working on a codebase. Your task is to make the necessary code changes to accomplish the following:\n\n[8.x] Replace usages of `_source.mode` in documentation (#114743)\n\n# Backport\n\nThis is an automatic backport to `8.x` of:\n - #114743\n\n### Questions ?\nPlease refer to the [Backport tool documentation](https://github.com/sqren/backport)\n\nPlease make all necessary code changes to complete this task.",
  "ground_truth_diff": "diff --git a/docs/plugins/mapper-annotated-text.asciidoc b/docs/plugins/mapper-annotated-text.asciidoc\nindex e4141e98a228..9b6eccd13669 100644\n--- a/docs/plugins/mapper-annotated-text.asciidoc\n+++ b/docs/plugins/mapper-annotated-text.asciidoc\n@@ -167,8 +167,16 @@ duplicates removed. So:\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"text\": {\n         \"type\": \"annotated_text\",\n@@ -215,8 +223,16 @@ are preserved.\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"text\": { \"type\": \"annotated_text\", \"store\": true }\n     }\ndiff --git a/docs/reference/mapping/fields/synthetic-source.asciidoc b/docs/reference/mapping/fields/synthetic-source.asciidoc\nindex 902b6c26611e..f8666e2993d6 100644\n--- a/docs/reference/mapping/fields/synthetic-source.asciidoc\n+++ b/docs/reference/mapping/fields/synthetic-source.asciidoc\n@@ -2,7 +2,7 @@\n ==== Synthetic `_source`\n \n IMPORTANT: Synthetic `_source` is Generally Available only for TSDB indices\n-(indices that have `index.mode` set to `time_series`). For other indices\n+(indices that have `index.mode` set to `time_series`). For other indices,\n synthetic `_source` is in technical preview. Features in technical preview may\n be changed or removed in a future release. Elastic will work to fix\n any issues, but features in technical preview are not subject to the support SLA\n@@ -11,15 +11,19 @@ of official GA features.\n Though very handy to have around, the source field takes up a significant amount\n of space on disk. Instead of storing source documents on disk exactly as you\n send them, Elasticsearch can reconstruct source content on the fly upon retrieval.\n-Enable this by setting `mode: synthetic` in `_source`:\n+Enable this by using the value `synthetic` for the index setting `index.mapping.source.mode`:\n \n [source,console,id=enable-synthetic-source-example]\n ----\n PUT idx\n {\n-  \"mappings\": {\n-    \"_source\": {\n-      \"mode\": \"synthetic\"\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n     }\n   }\n }\n@@ -38,7 +42,7 @@ properties when used with synthetic `_source`.\n <<synthetic-source-fields-native-list, Most field types>> construct synthetic `_source` using existing data, most\n commonly <<doc-values,`doc_values`>> and <<stored-fields, stored fields>>. For these field types, no additional space\n is needed to store the contents of `_source` field. Due to the storage layout of <<doc-values,`doc_values`>>, the\n-generated `_source` field undergoes <<synthetic-source-modifications, modifications>> compared to original document.\n+generated `_source` field undergoes <<synthetic-source-modifications, modifications>> compared to the original document.\n \n For all other field types, the original value of the field is stored as is, in the same way as the `_source` field in\n non-synthetic mode. In this case there are no modifications and field data in `_source` is the same as in the original\n@@ -227,10 +231,16 @@ For instance:\n ----\n PUT idx_keep\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": {\n-      \"mode\": \"synthetic\"\n-    },\n     \"properties\": {\n       \"path\": {\n         \"type\": \"object\",\ndiff --git a/docs/reference/mapping/types/aggregate-metric-double.asciidoc b/docs/reference/mapping/types/aggregate-metric-double.asciidoc\nindex 8e14fba97636..8a4ddffc30bb 100644\n--- a/docs/reference/mapping/types/aggregate-metric-double.asciidoc\n+++ b/docs/reference/mapping/types/aggregate-metric-double.asciidoc\n@@ -267,8 +267,16 @@ For example:\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"agg_metric\": {\n         \"type\": \"aggregate_metric_double\",\ndiff --git a/docs/reference/mapping/types/boolean.asciidoc b/docs/reference/mapping/types/boolean.asciidoc\nindex 32f3d13edf58..494c41021dd2 100644\n--- a/docs/reference/mapping/types/boolean.asciidoc\n+++ b/docs/reference/mapping/types/boolean.asciidoc\n@@ -249,8 +249,16 @@ Synthetic source always sorts `boolean` fields. For example:\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"bool\": { \"type\": \"boolean\" }\n     }\ndiff --git a/docs/reference/mapping/types/date.asciidoc b/docs/reference/mapping/types/date.asciidoc\nindex ab845280eedb..4f34d0d56fc5 100644\n--- a/docs/reference/mapping/types/date.asciidoc\n+++ b/docs/reference/mapping/types/date.asciidoc\n@@ -138,7 +138,7 @@ The following parameters are accepted by `date` fields:\n <<ignore-malformed,`ignore_malformed`>>::\n \n     If `true`, malformed numbers are ignored. If `false` (default), malformed\n-    numbers throw an exception and reject the whole document.  Note that this\n+    numbers throw an exception and reject the whole document. Note that this\n     cannot be set if the `script` parameter is used.\n \n <<mapping-index,`index`>>::\n@@ -256,8 +256,16 @@ Synthetic source always sorts `date` fields. For example:\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"date\": { \"type\": \"date\" }\n     }\ndiff --git a/docs/reference/mapping/types/date_nanos.asciidoc b/docs/reference/mapping/types/date_nanos.asciidoc\nindex 1a3b390b1690..e9ec85c470ec 100644\n--- a/docs/reference/mapping/types/date_nanos.asciidoc\n+++ b/docs/reference/mapping/types/date_nanos.asciidoc\n@@ -160,8 +160,16 @@ Synthetic source always sorts `date_nanos` fields. For example:\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"date\": { \"type\": \"date_nanos\" }\n     }\ndiff --git a/docs/reference/mapping/types/flattened.asciidoc b/docs/reference/mapping/types/flattened.asciidoc\nindex 0a72ebc98ece..af6ef3e739d0 100644\n--- a/docs/reference/mapping/types/flattened.asciidoc\n+++ b/docs/reference/mapping/types/flattened.asciidoc\n@@ -334,8 +334,16 @@ For example:\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"flattened\": { \"type\": \"flattened\" }\n     }\n@@ -367,8 +375,16 @@ For example:\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"flattened\": { \"type\": \"flattened\" }\n     }\n@@ -407,8 +423,16 @@ For example:\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"flattened\": { \"type\": \"flattened\" }\n     }\ndiff --git a/docs/reference/mapping/types/geo-point.asciidoc b/docs/reference/mapping/types/geo-point.asciidoc\nindex 6db05188dfb9..9ba8ea6e4678 100644\n--- a/docs/reference/mapping/types/geo-point.asciidoc\n+++ b/docs/reference/mapping/types/geo-point.asciidoc\n@@ -229,8 +229,16 @@ longitude) and reduces them to their stored precision. For example:\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"point\": { \"type\": \"geo_point\" }\n     }\ndiff --git a/docs/reference/mapping/types/ip.asciidoc b/docs/reference/mapping/types/ip.asciidoc\nindex f068916478a7..f85dd78ecbd4 100644\n--- a/docs/reference/mapping/types/ip.asciidoc\n+++ b/docs/reference/mapping/types/ip.asciidoc\n@@ -170,8 +170,16 @@ Synthetic source always sorts `ip` fields and removes duplicates. For example:\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"ip\": { \"type\": \"ip\" }\n     }\ndiff --git a/docs/reference/mapping/types/keyword.asciidoc b/docs/reference/mapping/types/keyword.asciidoc\nindex a4be7026dffc..b94216042427 100644\n--- a/docs/reference/mapping/types/keyword.asciidoc\n+++ b/docs/reference/mapping/types/keyword.asciidoc\n@@ -188,8 +188,16 @@ For example:\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"kwd\": { \"type\": \"keyword\" }\n     }\n@@ -218,8 +226,16 @@ are preserved. For example:\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"kwd\": { \"type\": \"keyword\", \"store\": true }\n     }\n@@ -248,8 +264,16 @@ For example:\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"kwd\": { \"type\": \"keyword\", \"ignore_above\": 3 }\n     }\ndiff --git a/docs/reference/mapping/types/numeric.asciidoc b/docs/reference/mapping/types/numeric.asciidoc\nindex d1e1c037e571..5bfa1bc7c124 100644\n--- a/docs/reference/mapping/types/numeric.asciidoc\n+++ b/docs/reference/mapping/types/numeric.asciidoc\n@@ -259,8 +259,16 @@ Synthetic source always sorts numeric fields. For example:\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"long\": { \"type\": \"long\" }\n     }\n@@ -287,8 +295,16 @@ Scaled floats will always apply their scaling factor so:\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"f\": { \"type\": \"scaled_float\", \"scaling_factor\": 0.01 }\n     }\ndiff --git a/docs/reference/mapping/types/range.asciidoc b/docs/reference/mapping/types/range.asciidoc\nindex 14c5b6098acb..04341f68c630 100644\n--- a/docs/reference/mapping/types/range.asciidoc\n+++ b/docs/reference/mapping/types/range.asciidoc\n@@ -249,13 +249,21 @@ of official GA features.\n `range` fields support <<synthetic-source,synthetic `_source`>> in their default\n configuration. Synthetic `_source` cannot be used with <<doc-values,`doc_values`>> disabled.\n \n-Synthetic source always sorts values and removes duplicates for all `range` fields except `ip_range` . Ranges are sorted by their lower bound and then by upper bound. For example:\n+Synthetic source always sorts values and removes duplicates for all `range` fields except `ip_range`. Ranges are sorted by their lower bound and then by upper bound. For example:\n [source,console,id=synthetic-source-range-sorting-example]\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"my_range\": { \"type\": \"long_range\" }\n     }\n@@ -316,8 +324,16 @@ For example:\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"my_range\": { \"type\": \"ip_range\" }\n     }\n@@ -352,13 +368,21 @@ Will become:\n // TEST[s/^/{\"_source\":/ s/\\n$/}/]\n \n [[range-synthetic-source-inclusive]]\n-Range field vales are always represented as inclusive on both sides with bounds adjusted accordingly. Default values for range bounds are represented as `null`. This is true even if range bound was explicitly provided. For example:\n+Range field values are always represented as inclusive on both sides with bounds adjusted accordingly. Default values for range bounds are represented as `null`. This is true even if range bound was explicitly provided. For example:\n [source,console,id=synthetic-source-range-normalization-example]\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"my_range\": { \"type\": \"long_range\" }\n     }\n@@ -394,8 +418,16 @@ Default values for range bounds are represented as `null` in synthetic source. T\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"my_range\": { \"type\": \"integer_range\" }\n     }\n@@ -429,8 +461,16 @@ Will become:\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"my_range\": { \"type\": \"date_range\" }\n     }\ndiff --git a/docs/reference/mapping/types/text.asciidoc b/docs/reference/mapping/types/text.asciidoc\nindex c33af69df560..ca69c93e8f1a 100644\n--- a/docs/reference/mapping/types/text.asciidoc\n+++ b/docs/reference/mapping/types/text.asciidoc\n@@ -177,15 +177,23 @@ a <<keyword-synthetic-source, `keyword`>> sub-field that supports synthetic\n `_source` or if the `text` field sets `store` to `true`. Either way, it may\n not have <<copy-to,`copy_to`>>.\n \n-If using a sub-`keyword` field then the values are sorted in the same way as\n+If using a sub-`keyword` field, then the values are sorted in the same way as\n a `keyword` field's values are sorted. By default, that means sorted with\n duplicates removed. So:\n [source,console,id=synthetic-source-text-example-default]\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"text\": {\n         \"type\": \"text\",\n@@ -233,8 +241,16 @@ are preserved.\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"text\": { \"type\": \"text\", \"store\": true }\n     }\ndiff --git a/docs/reference/mapping/types/version.asciidoc b/docs/reference/mapping/types/version.asciidoc\nindex 8da0fcae80fc..1600451432bd 100644\n--- a/docs/reference/mapping/types/version.asciidoc\n+++ b/docs/reference/mapping/types/version.asciidoc\n@@ -63,16 +63,15 @@ The following parameters are accepted by `version` fields:\n [discrete]\n ==== Limitations\n \n-This field type isn't optimized for heavy wildcard, regex or fuzzy searches. While those\n-type of queries work in this field, you should consider using a regular `keyword` field if\n-you strongly rely on these kind of queries.\n-\n+This field type isn't optimized for heavy wildcard, regex, or fuzzy searches. While those\n+types of queries work in this field, you should consider using a regular `keyword` field if\n+you strongly rely on these kinds of queries.\n \n [[version-synthetic-source]]\n ==== Synthetic `_source`\n \n IMPORTANT: Synthetic `_source` is Generally Available only for TSDB indices\n-(indices that have `index.mode` set to `time_series`). For other indices\n+(indices that have `index.mode` set to `time_series`). For other indices,\n synthetic `_source` is in technical preview. Features in technical preview may\n be changed or removed in a future release. Elastic will work to fix\n any issues, but features in technical preview are not subject to the support SLA\n@@ -86,8 +85,16 @@ Synthetic source always sorts `version` fields and removes duplicates. For examp\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"versions\": { \"type\": \"version\" }\n     }\ndiff --git a/docs/reference/mapping/types/wildcard.asciidoc b/docs/reference/mapping/types/wildcard.asciidoc\nindex 79fc953051d5..89a3109a3716 100644\n--- a/docs/reference/mapping/types/wildcard.asciidoc\n+++ b/docs/reference/mapping/types/wildcard.asciidoc\n@@ -141,8 +141,16 @@ Synthetic source always sorts `wildcard` fields. For example:\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"card\": { \"type\": \"wildcard\" }\n     }",
  "judge_mode": "comparative",
  "judge_model": "openai/claude-sonnet-4-5-20250929",
  "test_label": "v0",
  "agent_results": [
    {
      "runner": "auggie",
      "model": "sonnet4.5",
      "edit_run_id": "a9463435",
      "status": "success",
      "elapsed_ms": 620307,
      "patch_unified": "diff --git a/docs/plugins/mapper-annotated-text.asciidoc b/docs/plugins/mapper-annotated-text.asciidoc\nindex e4141e98..9b6eccd1 100644\n--- a/docs/plugins/mapper-annotated-text.asciidoc\n+++ b/docs/plugins/mapper-annotated-text.asciidoc\n@@ -167,8 +167,16 @@ duplicates removed. So:\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"text\": {\n         \"type\": \"annotated_text\",\n@@ -215,8 +223,16 @@ are preserved.\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"text\": { \"type\": \"annotated_text\", \"store\": true }\n     }\ndiff --git a/docs/reference/mapping/fields/synthetic-source.asciidoc b/docs/reference/mapping/fields/synthetic-source.asciidoc\nindex 902b6c26..050fdfe5 100644\n--- a/docs/reference/mapping/fields/synthetic-source.asciidoc\n+++ b/docs/reference/mapping/fields/synthetic-source.asciidoc\n@@ -11,15 +11,19 @@ of official GA features.\n Though very handy to have around, the source field takes up a significant amount\n of space on disk. Instead of storing source documents on disk exactly as you\n send them, Elasticsearch can reconstruct source content on the fly upon retrieval.\n-Enable this by setting `mode: synthetic` in `_source`:\n+Enable this by using the value `synthetic` for the index setting `index.mapping.source.mode`:\n \n [source,console,id=enable-synthetic-source-example]\n ----\n PUT idx\n {\n-  \"mappings\": {\n-    \"_source\": {\n-      \"mode\": \"synthetic\"\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n     }\n   }\n }\n@@ -38,7 +42,7 @@ properties when used with synthetic `_source`.\n <<synthetic-source-fields-native-list, Most field types>> construct synthetic `_source` using existing data, most\n commonly <<doc-values,`doc_values`>> and <<stored-fields, stored fields>>. For these field types, no additional space\n is needed to store the contents of `_source` field. Due to the storage layout of <<doc-values,`doc_values`>>, the\n-generated `_source` field undergoes <<synthetic-source-modifications, modifications>> compared to original document.\n+generated `_source` field undergoes <<synthetic-source-modifications, modifications>> compared to the original document.\n \n For all other field types, the original value of the field is stored as is, in the same way as the `_source` field in\n non-synthetic mode. In this case there are no modifications and field data in `_source` is the same as in the original\n@@ -227,10 +231,16 @@ For instance:\n ----\n PUT idx_keep\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": {\n-      \"mode\": \"synthetic\"\n-    },\n     \"properties\": {\n       \"path\": {\n         \"type\": \"object\",\ndiff --git a/docs/reference/mapping/types/aggregate-metric-double.asciidoc b/docs/reference/mapping/types/aggregate-metric-double.asciidoc\nindex 8e14fba9..8a4ddffc 100644\n--- a/docs/reference/mapping/types/aggregate-metric-double.asciidoc\n+++ b/docs/reference/mapping/types/aggregate-metric-double.asciidoc\n@@ -267,8 +267,16 @@ For example:\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"agg_metric\": {\n         \"type\": \"aggregate_metric_double\",\ndiff --git a/docs/reference/mapping/types/binary.asciidoc b/docs/reference/mapping/types/binary.asciidoc\nindex a06e5b4f..335c371b 100644\n--- a/docs/reference/mapping/types/binary.asciidoc\n+++ b/docs/reference/mapping/types/binary.asciidoc\n@@ -68,8 +68,16 @@ of official GA features.\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"binary\": { \"type\": \"binary\", \"doc_values\": true }\n     }\ndiff --git a/docs/reference/mapping/types/boolean.asciidoc b/docs/reference/mapping/types/boolean.asciidoc\nindex 32f3d13e..494c4102 100644\n--- a/docs/reference/mapping/types/boolean.asciidoc\n+++ b/docs/reference/mapping/types/boolean.asciidoc\n@@ -249,8 +249,16 @@ Synthetic source always sorts `boolean` fields. For example:\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"bool\": { \"type\": \"boolean\" }\n     }\ndiff --git a/docs/reference/mapping/types/date.asciidoc b/docs/reference/mapping/types/date.asciidoc\nindex ab845280..b29da457 100644\n--- a/docs/reference/mapping/types/date.asciidoc\n+++ b/docs/reference/mapping/types/date.asciidoc\n@@ -256,8 +256,16 @@ Synthetic source always sorts `date` fields. For example:\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"date\": { \"type\": \"date\" }\n     }\ndiff --git a/docs/reference/mapping/types/date_nanos.asciidoc b/docs/reference/mapping/types/date_nanos.asciidoc\nindex 1a3b390b..e9ec85c4 100644\n--- a/docs/reference/mapping/types/date_nanos.asciidoc\n+++ b/docs/reference/mapping/types/date_nanos.asciidoc\n@@ -160,8 +160,16 @@ Synthetic source always sorts `date_nanos` fields. For example:\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"date\": { \"type\": \"date_nanos\" }\n     }\ndiff --git a/docs/reference/mapping/types/flattened.asciidoc b/docs/reference/mapping/types/flattened.asciidoc\nindex 0a72ebc9..af6ef3e7 100644\n--- a/docs/reference/mapping/types/flattened.asciidoc\n+++ b/docs/reference/mapping/types/flattened.asciidoc\n@@ -334,8 +334,16 @@ For example:\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"flattened\": { \"type\": \"flattened\" }\n     }\n@@ -367,8 +375,16 @@ For example:\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"flattened\": { \"type\": \"flattened\" }\n     }\n@@ -407,8 +423,16 @@ For example:\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"flattened\": { \"type\": \"flattened\" }\n     }\ndiff --git a/docs/reference/mapping/types/geo-point.asciidoc b/docs/reference/mapping/types/geo-point.asciidoc\nindex 6db05188..9ba8ea6e 100644\n--- a/docs/reference/mapping/types/geo-point.asciidoc\n+++ b/docs/reference/mapping/types/geo-point.asciidoc\n@@ -229,8 +229,16 @@ longitude) and reduces them to their stored precision. For example:\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"point\": { \"type\": \"geo_point\" }\n     }\ndiff --git a/docs/reference/mapping/types/ip.asciidoc b/docs/reference/mapping/types/ip.asciidoc\nindex f0689164..f85dd78e 100644\n--- a/docs/reference/mapping/types/ip.asciidoc\n+++ b/docs/reference/mapping/types/ip.asciidoc\n@@ -170,8 +170,16 @@ Synthetic source always sorts `ip` fields and removes duplicates. For example:\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"ip\": { \"type\": \"ip\" }\n     }\ndiff --git a/docs/reference/mapping/types/keyword.asciidoc b/docs/reference/mapping/types/keyword.asciidoc\nindex a4be7026..b9421604 100644\n--- a/docs/reference/mapping/types/keyword.asciidoc\n+++ b/docs/reference/mapping/types/keyword.asciidoc\n@@ -188,8 +188,16 @@ For example:\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"kwd\": { \"type\": \"keyword\" }\n     }\n@@ -218,8 +226,16 @@ are preserved. For example:\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"kwd\": { \"type\": \"keyword\", \"store\": true }\n     }\n@@ -248,8 +264,16 @@ For example:\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"kwd\": { \"type\": \"keyword\", \"ignore_above\": 3 }\n     }\ndiff --git a/docs/reference/mapping/types/numeric.asciidoc b/docs/reference/mapping/types/numeric.asciidoc\nindex d1e1c037..5bfa1bc7 100644\n--- a/docs/reference/mapping/types/numeric.asciidoc\n+++ b/docs/reference/mapping/types/numeric.asciidoc\n@@ -259,8 +259,16 @@ Synthetic source always sorts numeric fields. For example:\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"long\": { \"type\": \"long\" }\n     }\n@@ -287,8 +295,16 @@ Scaled floats will always apply their scaling factor so:\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"f\": { \"type\": \"scaled_float\", \"scaling_factor\": 0.01 }\n     }\ndiff --git a/docs/reference/mapping/types/range.asciidoc b/docs/reference/mapping/types/range.asciidoc\nindex 14c5b609..4eea288d 100644\n--- a/docs/reference/mapping/types/range.asciidoc\n+++ b/docs/reference/mapping/types/range.asciidoc\n@@ -254,8 +254,16 @@ Synthetic source always sorts values and removes duplicates for all `range` fiel\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"my_range\": { \"type\": \"long_range\" }\n     }\n@@ -316,8 +324,16 @@ For example:\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"my_range\": { \"type\": \"ip_range\" }\n     }\n@@ -357,8 +373,16 @@ Range field vales are always represented as inclusive on both sides with bounds\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"my_range\": { \"type\": \"long_range\" }\n     }\n@@ -394,8 +418,16 @@ Default values for range bounds are represented as `null` in synthetic source. T\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"my_range\": { \"type\": \"integer_range\" }\n     }\n@@ -429,8 +461,16 @@ Will become:\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"my_range\": { \"type\": \"date_range\" }\n     }\ndiff --git a/docs/reference/mapping/types/text.asciidoc b/docs/reference/mapping/types/text.asciidoc\nindex c33af69d..be6fffe6 100644\n--- a/docs/reference/mapping/types/text.asciidoc\n+++ b/docs/reference/mapping/types/text.asciidoc\n@@ -184,8 +184,16 @@ duplicates removed. So:\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"text\": {\n         \"type\": \"text\",\n@@ -233,8 +241,16 @@ are preserved.\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"text\": { \"type\": \"text\", \"store\": true }\n     }\ndiff --git a/docs/reference/mapping/types/version.asciidoc b/docs/reference/mapping/types/version.asciidoc\nindex 8da0fcae..d5df0b41 100644\n--- a/docs/reference/mapping/types/version.asciidoc\n+++ b/docs/reference/mapping/types/version.asciidoc\n@@ -86,8 +86,16 @@ Synthetic source always sorts `version` fields and removes duplicates. For examp\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"versions\": { \"type\": \"version\" }\n     }\ndiff --git a/docs/reference/mapping/types/wildcard.asciidoc b/docs/reference/mapping/types/wildcard.asciidoc\nindex 79fc9530..89a3109a 100644\n--- a/docs/reference/mapping/types/wildcard.asciidoc\n+++ b/docs/reference/mapping/types/wildcard.asciidoc\n@@ -141,8 +141,16 @@ Synthetic source always sorts `wildcard` fields. For example:\n ----\n PUT idx\n {\n+  \"settings\": {\n+    \"index\": {\n+      \"mapping\": {\n+        \"source\": {\n+          \"mode\": \"synthetic\"\n+        }\n+      }\n+    }\n+  },\n   \"mappings\": {\n-    \"_source\": { \"mode\": \"synthetic\" },\n     \"properties\": {\n       \"card\": { \"type\": \"wildcard\" }\n     }",
      "scores": {
        "correctness": 0.9,
        "completeness": 0.8,
        "code_reuse": 1.0,
        "best_practices": 1.0,
        "unsolicited_docs": 1.0
      },
      "aggregate": 0.9400000000000001,
      "rationale": "The agent correctly replaced `_source.mode` with the proper `index.mapping.source.mode` setting structure in all documentation files. The changes are semantically correct and follow the exact pattern shown in the ground truth. However, the agent missed a few minor text corrections present in the ground truth: (1) missing comma after 'time_series' in synthetic-source.asciidoc line 5, (2) missing 'Note that this' -> 'Note that this' correction in date.asciidoc line 141, (3) missing several punctuation and grammar fixes in version.asciidoc and range.asciidoc. The agent also added an extra file (binary.asciidoc) that wasn't in the ground truth, though this follows the same correct pattern. The core functionality change is complete and correct.",
      "llm_rating": 0.88,
      "llm_summary": "Replaced all `_source.mode` usages with `index.mapping.source.mode` in settings blocks across documentation files but missed minor punctuation corrections in synthetic-source.asciidoc, date.asciidoc, version.asciidoc, and range.asciidoc, and added binary.asciidoc not present in ground truth.",
      "errors": []
    },
    {
      "runner": "claude-code",
      "model": "claude-sonnet-4-5",
      "edit_run_id": "c7a3f90a",
      "status": "success",
      "elapsed_ms": 102991,
      "patch_unified": "diff --git a/server/src/main/java/org/elasticsearch/index/mapper/SourceFieldMapper.java b/server/src/main/java/org/elasticsearch/index/mapper/SourceFieldMapper.java\nindex ea7fbfd8..b4c28528 100644\n--- a/server/src/main/java/org/elasticsearch/index/mapper/SourceFieldMapper.java\n+++ b/server/src/main/java/org/elasticsearch/index/mapper/SourceFieldMapper.java\n@@ -332,7 +332,7 @@ public class SourceFieldMapper extends MetadataFieldMapper {\n                 }\n             }\n             // NOTE: if the `index.mapper.source.mode` exists it takes precedence to determine the source mode for `_source`\n-            // otherwise the mode is determined according to `index.mode` and `_source.mode`.\n+            // otherwise the mode is determined according to `index.mode` and the `mode` parameter in the `_source` mapping.\n             final Mode sourceMode = INDEX_MAPPER_SOURCE_MODE_SETTING.exists(settings)\n                 ? INDEX_MAPPER_SOURCE_MODE_SETTING.get(settings)\n                 : mode.get();",
      "scores": {
        "correctness": -1.0,
        "completeness": -1.0,
        "code_reuse": 0.0,
        "best_practices": 0.0,
        "unsolicited_docs": 1.0
      },
      "aggregate": -0.2,
      "rationale": "The agent completely misunderstood the task. The ground truth shows this is a documentation update task that requires replacing `_source.mode` syntax in mappings with the `index.mapping.source.mode` setting syntax across 15 documentation files. The agent instead modified a Java source file (SourceFieldMapper.java) by changing a comment, which is entirely unrelated to the requested documentation changes. The agent made zero of the required documentation updates, modified the wrong type of file entirely, and the change made has no connection to the task objective.",
      "llm_rating": 0.0,
      "llm_summary": "Modified a comment in SourceFieldMapper.java instead of updating documentation files to replace `_source.mode` mapping syntax with `index.mapping.source.mode` setting syntax across 15 asciidoc files.",
      "errors": []
    },
    {
      "runner": "factory",
      "model": "claude-sonnet-4-5-20250929",
      "edit_run_id": "074538b9",
      "status": "success",
      "elapsed_ms": 221577,
      "patch_unified": "diff --git a/server/src/main/java/org/elasticsearch/index/mapper/SourceFieldMapper.java b/server/src/main/java/org/elasticsearch/index/mapper/SourceFieldMapper.java\nindex ea7fbfd8..77965786 100644\n--- a/server/src/main/java/org/elasticsearch/index/mapper/SourceFieldMapper.java\n+++ b/server/src/main/java/org/elasticsearch/index/mapper/SourceFieldMapper.java\n@@ -331,8 +331,8 @@ public class SourceFieldMapper extends MetadataFieldMapper {\n                     throw new MapperParsingException(\"Cannot set both [mode] and [enabled] parameters\");\n                 }\n             }\n-            // NOTE: if the `index.mapper.source.mode` exists it takes precedence to determine the source mode for `_source`\n-            // otherwise the mode is determined according to `index.mode` and `_source.mode`.\n+            // NOTE: if the `index.mapping.source.mode` exists it takes precedence to determine the source mode for `_source`\n+            // otherwise the mode is determined according to `index.mode` and `index.mapping.source.mode`.\n             final Mode sourceMode = INDEX_MAPPER_SOURCE_MODE_SETTING.exists(settings)\n                 ? INDEX_MAPPER_SOURCE_MODE_SETTING.get(settings)\n                 : mode.get();",
      "scores": {
        "correctness": -1.0,
        "completeness": -1.0,
        "code_reuse": 0.0,
        "best_practices": 0.0,
        "unsolicited_docs": 1.0
      },
      "aggregate": -0.2,
      "rationale": "The agent completely misunderstood the task. The ground truth requires replacing `_source.mode` with `index.mapping.source.mode` in documentation files (*.asciidoc), moving the configuration from mappings to settings sections across multiple documentation examples. Instead, the agent modified a Java source file (SourceFieldMapper.java) by updating code comments to reference `index.mapping.source.mode` instead of `index.mapper.source.mode`. This is an entirely different change that doesn't address the documentation update task at all. The agent made zero of the required documentation changes across the 14 affected files.",
      "llm_rating": 0.0,
      "llm_summary": "Modified Java code comments in SourceFieldMapper.java to reference index.mapping.source.mode instead of updating documentation files to move _source.mode configuration from mappings to settings sections as required",
      "errors": []
    }
  ],
  "comparative_analysis": {
    "summary": "auggie:sonnet4.5 correctly identified this as a documentation update task and successfully replaced all instances of `_source.mode` with the proper `index.mapping.source.mode` setting structure across 15 documentation files. Both claude-code:claude-sonnet-4-5 and factory:claude-sonnet-4-5-20250929 misunderstood the task, making only minor comment changes in a Java source file instead of updating the documentation examples as required.",
    "best_agent": "auggie:sonnet4.5",
    "best_agent_reasoning": "auggie:sonnet4.5 was the only agent to correctly understand that this was a documentation refactoring task requiring updates to code examples across multiple .asciidoc files. It successfully transformed all deprecated `_source: { mode: synthetic }` mappings into the correct `settings.index.mapping.source.mode: synthetic` format, matching the ground truth diff almost perfectly with 94% aggregate score. The agent also correctly updated accompanying text descriptions to reflect the new configuration approach.",
    "approach_differences": "auggie:sonnet4.5 recognized this as a documentation-wide refactoring task and systematically updated JSON examples in .asciidoc files to move the synthetic source mode configuration from mappings to settings. In contrast, both claude-code:claude-sonnet-4-5 and factory:claude-sonnet-4-5-20250929 incorrectly interpreted the task as updating code comments in Java source files, making trivial wording changes to a single comment in SourceFieldMapper.java that had nothing to do with the actual requirement of updating documentation examples.",
    "ranking": [
      "auggie:sonnet4.5",
      "claude-code:claude-sonnet-4-5",
      "factory:claude-sonnet-4-5-20250929"
    ]
  },
  "timestamp": "2025-11-06T21:52:28.365152",
  "analysis_run_id": "db74bba1"
}