<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Long-Context-Bench - Cross-Agent Analysis</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Long-Context-Bench</h1>
        </header>

        <main>
            <section class="cross-agent-analysis">
                <h2>Cross-Agent PR Analysis</h2>
                <p class="section-description">Compare how different agents solved the same PR</p>

                <!-- Analysis List -->
                <div class="analysis-list" id="analysis-list">
                    <p class="loading">Loading cross-agent analyses...</p>
                </div>

                <!-- Analysis Detail (shown when an analysis is selected) -->
                <div class="analysis-detail" id="analysis-detail" style="display: none;">
                    <div class="detail-header">
                        <button id="back-button" class="btn-secondary">‚Üê Back to List</button>
                        <h3 id="detail-title">PR Analysis</h3>
                    </div>

                    <!-- Task Description -->
                    <div class="card">
                        <h4>Task Description</h4>
                        <pre id="task-instructions" class="code-block"></pre>
                    </div>

                    <!-- Comparative Analysis (if available) -->
                    <div class="card" id="comparative-section" style="display: none;">
                        <h4>üèÜ Comparative Analysis</h4>
                        <div class="comparative-content">
                            <div class="metric-card">
                                <div class="stat-label">Best Agent</div>
                                <div class="stat-value" id="best-agent"></div>
                            </div>
                            <div class="analysis-text">
                                <h5>Summary</h5>
                                <p id="comparative-summary"></p>
                                <h5>Best Agent Reasoning</h5>
                                <p id="best-agent-reasoning"></p>
                                <h5>Approach Differences</h5>
                                <p id="approach-differences"></p>
                            </div>
                        </div>
                    </div>

                    <!-- Agent Results Comparison -->
                    <div class="card">
                        <h4>Agent Results</h4>
                        <div class="table-container">
                            <table id="agent-results-table">
                                <thead>
                                    <tr>
                                        <th>Rank</th>
                                        <th>Agent</th>
                                        <th>Status</th>
                                        <th>LLM Rating</th>
                                        <th>Summary</th>
                                        <th>Aggregate</th>
                                        <th>Correctness</th>
                                        <th>Completeness</th>
                                        <th>Code Reuse</th>
                                        <th>Best Practices</th>
                                        <th>Unsolicited Docs</th>
                                        <th>Time (s)</th>
                                    </tr>
                                </thead>
                                <tbody id="agent-results-body">
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Individual Agent Details -->
                    <div id="agent-details-container"></div>
                </div>
            </section>
        </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="data-loader.js"></script>
    <script src="charts.js"></script>
    <script src="cross-agent.js"></script>
    <script>
        // Initialize cross-agent analysis page
        document.addEventListener('DOMContentLoaded', async () => {
            await loadCrossAgentAnalyses();
        });

        // Back button handler
        document.getElementById('back-button').addEventListener('click', () => {
            showAnalysisList();
        });
    </script>
</body>
</html>

